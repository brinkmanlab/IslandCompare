{"uuid": "42189276-d8d3-4cd2-b1ef-55595662b0ba", "tags": [], "format-version": "0.1", "name": "IslandCompare refactored", "version": 6, "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [], "input_connections": {}, "tool_state": "{\"collection_type\": \"list\"}", "id": 0, "uuid": "3958934d-b51d-4344-aa63-645cb271765b", "errors": null, "name": "Input dataset collection", "label": "Raw data", "inputs": [], "position": {"top": 500.16668701171875, "left": 253}, "annotation": "", "content_id": null, "type": "data_collection_input"}, "1": {"tool_id": "fd767e8b7355e21a", "inputs": [], "outputs": [], "subworkflow": {"uuid": "1c171184-b157-40dd-8a82-1674dc8e95b3", "tags": "", "format-version": "0.1", "name": "Prepare drafts wo. Ref", "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [{"output_name": "output", "uuid": "f27787cc-95c7-43fe-987d-28decf4614b3", "label": null}], "input_connections": {}, "tool_state": "{\"collection_type\": \"list\"}", "id": 0, "uuid": "609a674c-c9e9-4793-a2dc-70564995ada3", "errors": null, "name": "Input dataset collection", "label": "Raw user input", "inputs": [], "position": {"top": 653.8333129882812, "left": 200}, "annotation": "", "content_id": null, "type": "data_collection_input"}, "1": {"tool_id": "biopython-convert", "tool_version": "1.0", "outputs": [{"type": "input", "name": "split_output"}, {"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"split\": \"\\\"false\\\"\", \"query\": \"\\\"[?!(features[?type==`source`].qualifiers.plasmid)]\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"output_type\": \"\\\"fasta\\\"\"}", "id": 1, "uuid": "94213232-db4d-4c2a-ae60-2ed62d79f008", "errors": null, "name": "BioPython SeqIO Converter", "post_job_actions": {"RenameDatasetActionsplit_output": {"output_name": "split_output", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "Split from #{input}"}}, "HideDatasetActionsplit_output": {"output_name": "split_output", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "To fasta", "inputs": [{"name": "input", "description": "runtime parameter for tool BioPython SeqIO Converter"}], "position": {"top": 265, "left": 596.1666870117188}, "annotation": "", "content_id": "biopython-convert", "type": "tool"}, "2": {"tool_id": "biopython-convert", "tool_version": "1.0", "outputs": [{"type": "input", "name": "split_output"}, {"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"split\": \"\\\"false\\\"\", \"query\": \"\\\"[?!(features[?type==`source`].qualifiers.plasmid)]\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"output_type\": \"\\\"gff3\\\"\"}", "id": 2, "uuid": "e924966b-f07b-4a26-ac35-5acc0d25339e", "errors": null, "name": "BioPython SeqIO Converter", "post_job_actions": {"HideDatasetActionsplit_output": {"output_name": "split_output", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "To GFF", "inputs": [{"name": "input", "description": "runtime parameter for tool BioPython SeqIO Converter"}], "position": {"top": 746, "left": 601.1666870117188}, "annotation": "", "content_id": "biopython-convert", "type": "tool"}, "3": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [{"output_name": "outfile", "uuid": "e2a17c84-da67-43a7-a115-17a3be007fad", "label": "Stitched fasta"}], "input_connections": {"infile": {"output_name": "output", "id": 1}}, "tool_state": "{\"__page__\": null, \"code\": \"\\\"#!/usr/bin/env -S gawk -f \\\\n# Stitch input multi-fastas in order, padding with 'N'.\\\\n\\\\nBEGIN {\\\\n    #Schedule inputs for two passes\\\\n    ARGV[ARGC] = \\\\\\\"pass=sequence\\\\\\\";\\\\n    for (i=1; i<ARGC; ++i)\\\\n        ARGV[ARGC+i] = ARGV[i]\\\\n    ARGC = (ARGC-1) * 2 + 2;\\\\n\\\\n    pass = \\\\\\\"annotations\\\\\\\";\\\\n    FS=\\\\\\\" \\\\\\\"; # Use for parsing fasta header\\\\n    pos=1; # 1-index of stitched sequence\\\\n}\\\\n\\\\nBEGINFILE {\\\\n    first=1;\\\\n    quality=0;\\\\n    if (!stitched_id) {\\\\n        stitched_id = FILENAME;\\\\n        # get basename of FILENAME\\\\n        sub(/^.*\\\\\\\\//, \\\\\\\"\\\\\\\", stitched_id);\\\\n        #sub(/\\\\\\\\.[^.]*$/, \\\\\\\"\\\\\\\", stitched_id);\\\\n        # spaces have special meaning in fasta\\\\n        gsub(\\\\\\\" \\\\\\\", \\\\\\\"_\\\\\\\", stitched_id);\\\\n    }\\\\n    \\\\n    OFS=\\\\\\\"\\\\\\\\t\\\\\\\";\\\\n    ORS=\\\\\\\"\\\\\\\\n\\\\\\\";\\\\n    if (pass == \\\\\\\"annotations\\\\\\\") {\\\\n        print \\\\\\\"##gff-version 3\\\\\\\";\\\\n        OFS=\\\\\\\"\\\\\\\\t\\\\\\\";\\\\n        ORS=\\\\\\\"\\\\\\\\n\\\\\\\";\\\\n    } else if (pass == \\\\\\\"sequence\\\\\\\") {\\\\n        print \\\\\\\"##FASTA\\\\\\\";\\\\n        print \\\\\\\">\\\\\\\" stitched_id;\\\\n        ORS=\\\\\\\"\\\\\\\";\\\\n        OFS=\\\\\\\"\\\\\\\";\\\\n    }\\\\n}\\\\n\\\\n# Reset quality state\\\\n/^>/ {\\\\n    quality=0;\\\\n}\\\\n\\\\n# Store sequence information\\\\npass == \\\\\\\"annotations\\\\\\\" && /^>/ {\\\\n    if (current_id) {\\\\n        # Output record\\\\n        print stitched_id, \\\\\\\"stitch.gawk\\\\\\\", \\\\\\\"contig\\\\\\\", start, pos-1, \\\\\\\".\\\\\\\", \\\\\\\".\\\\\\\", \\\\\\\".\\\\\\\", \\\\\\\"ID=\\\\\\\"current_id;\\\\n    }\\\\n    current_id=substr($1, 2);\\\\n    if (first) {\\\\n        first=0;\\\\n    } else {\\\\n        pos += ENVIRON[\\\\\\\"padding_length\\\\\\\"];\\\\n    }\\\\n    start = pos;\\\\n    next;\\\\n}\\\\n\\\\npass == \\\\\\\"annotations\\\\\\\" && !quality {\\\\n    pos += length();\\\\n}\\\\n\\\\n# Output sequence\\\\npass == \\\\\\\"sequence\\\\\\\" && /^>/ {\\\\n    if (first) {\\\\n        first=0;\\\\n    } else {\\\\n        for (i = 0; i < ENVIRON[\\\\\\\"padding_length\\\\\\\"]; ++i)\\\\n            if (pass == \\\\\\\"sequence\\\\\\\")\\\\n                print \\\\\\\"N\\\\\\\";\\\\n    }\\\\n    next;\\\\n}\\\\n\\\\n# Default print if not quality lines\\\\npass == \\\\\\\"sequence\\\\\\\" && !quality {\\\\n    print;\\\\n}\\\\n\\\\n# Allow for fastq input\\\\n/^+/ { quality=1; next }\\\\n\\\\nENDFILE {\\\\n    pass = next_pass[pass]\\\\n    if (pass) {\\\\n        # Set next file to this one for second pass\\\\n\\\\n        \\\\n    }\\\\n}\\\"\", \"last\": \"\\\"false\\\"\", \"infiles\": \"[]\", \"envs\": \"[{\\\"__index__\\\": 0, \\\"name\\\": \\\"padding_length\\\", \\\"val\\\": \\\"1000\\\"}]\", \"__rerun_remap_job_id__\": null, \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 3, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "9c7fa1c2-e5e2-41c0-aeb6-0be236ed4377", "errors": null, "name": "Text reformatting", "post_job_actions": {"ChangeDatatypeActionoutfile": {"output_name": "outfile", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "fasta"}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "Genomes stiched in order"}}}, "label": "Stitch in order", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 375.16668701171875, "left": 980.1666259765625}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "type": "tool"}, "4": {"tool_id": "feature_merge", "tool_version": "1.0", "outputs": [{"type": "gff", "name": "output"}], "workflow_outputs": [{"output_name": "output", "uuid": "3cbd7ede-db03-4cd3-9aba-3b06d729bbcc", "label": "All input annotations"}], "input_connections": {"inputs": {"output_name": "output", "id": 2}}, "tool_state": "{\"ignore_strand\": \"\\\"false\\\"\", \"inputs\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"features\": \"[]\", \"__page__\": null, \"exact_only\": \"\\\"true\\\"\", \"__rerun_remap_job_id__\": null, \"exclude_components\": \"\\\"false\\\"\"}", "id": 4, "uuid": "7b64a048-b666-418b-872c-93459ce67087", "errors": null, "name": "GFF/GTF Feature Merge", "post_job_actions": {"RenameDatasetActionoutput": {"output_name": "output", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "Input annotations"}}}, "label": "Merge all features into single file", "inputs": [], "position": {"top": 789, "left": 930.6666259765625}, "annotation": "", "content_id": "feature_merge", "type": "tool"}}, "annotation": "", "a_galaxy_workflow": "true"}, "workflow_outputs": [], "input_connections": {}, "id": 1, "uuid": "9ed6ced5-d64a-4d37-a557-cac1cbbd482f", "name": "Prepare drafts wo. Ref", "label": null, "position": {"top": 489.16668701171875, "left": 619.1666870117188}, "annotation": "", "type": "subworkflow"}, "2": {"tool_id": "8c49be448cfe29bc", "inputs": [], "outputs": [], "subworkflow": {"uuid": "9f4e95e8-d970-46e7-b582-9b007ae0f31f", "tags": "", "format-version": "0.1", "name": "Cluster islands", "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [], "input_connections": {}, "tool_state": "{}", "id": 0, "uuid": "5c290a3e-695e-4bfd-b0d7-3fcfa62a6b80", "errors": null, "name": "Input dataset", "label": "Island GFF", "inputs": [], "position": {"top": 350.16668701171875, "left": 237.00001525878906}, "annotation": "", "content_id": null, "type": "data_input"}, "1": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [], "input_connections": {}, "tool_state": "{\"collection_type\": \"list\"}", "id": 1, "uuid": "6f5bf7ac-66b9-46e8-b371-9d86ee78ac44", "errors": null, "name": "Input dataset collection", "label": "Fasta", "inputs": [], "position": {"top": 418.16668701171875, "left": 200.00001525878906}, "annotation": "", "content_id": null, "type": "data_collection_input"}, "2": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1", "tool_version": "2.27.1", "outputs": [{"type": "fasta", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 0}, "fasta_source|fasta": {"output_name": "output", "id": 1}}, "tool_state": "{\"__page__\": null, \"name\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null, \"split\": \"\\\"false\\\"\", \"tab\": \"\\\"false\\\"\", \"input\": \"null\", \"strand\": \"\\\"false\\\"\", \"fasta_source\": \"{\\\"__current_case__\\\": 0, \\\"fasta\\\": null, \\\"fasta_source_selector\\\": \\\"history\\\"}\"}", "id": 2, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "87ee588b3d45", "name": "bedtools", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "8a8653f8-ae53-4419-b2c3-8ab12911cc82", "errors": null, "name": "bedtools GetFastaBed", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [], "position": {"top": 350.16668701171875, "left": 503.50001525878906}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1", "type": "tool"}, "3": {"tool_id": "mash", "tool_version": "2.1", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"commands|inputs": {"output_name": "output", "id": 2}}, "tool_state": "{\"__page__\": null, \"commands\": \"{\\\"__current_case__\\\": 5, \\\"alphabet\\\": \\\"\\\", \\\"command\\\": \\\"sketch\\\", \\\"hash_seed\\\": \\\"42\\\", \\\"input_option\\\": {\\\"__current_case__\\\": 1, \\\"individual_seq\\\": \\\"true\\\"}, \\\"inputs\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"kmer_size\\\": \\\"21\\\", \\\"kmer_size_thresh\\\": \\\"0.01\\\", \\\"preserve_case\\\": \\\"false\\\", \\\"preserve_strand\\\": \\\"false\\\", \\\"sketch_size\\\": \\\"1000\\\", \\\"use_aaa\\\": \\\"false\\\"}\", \"__rerun_remap_job_id__\": null}", "id": 3, "uuid": "cfd7ff51-ad66-43b8-8844-4d2d9c765945", "errors": null, "name": "MASH", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Mash Sketch", "inputs": [{"name": "commands", "description": "runtime parameter for tool MASH"}], "position": {"top": 352.16668701171875, "left": 782.0000152587891}, "annotation": "", "content_id": "mash", "type": "tool"}, "4": {"tool_id": "mash", "tool_version": "2.1", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"commands|reference": {"output_name": "output", "id": 3}, "commands|inputs": {"output_name": "output", "id": 3}}, "tool_state": "{\"__page__\": null, \"commands\": \"{\\\"__current_case__\\\": 1, \\\"alphabet\\\": \\\"\\\", \\\"command\\\": \\\"dist\\\", \\\"hash_seed\\\": \\\"42\\\", \\\"input_option\\\": {\\\"__current_case__\\\": 1, \\\"individual_seq\\\": \\\"true\\\"}, \\\"inputs\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"kmer_size\\\": \\\"21\\\", \\\"kmer_size_thresh\\\": \\\"0.01\\\", \\\"max_dist\\\": \\\"1.0\\\", \\\"max_p\\\": \\\"1.0\\\", \\\"preserve_case\\\": \\\"false\\\", \\\"preserve_strand\\\": \\\"false\\\", \\\"reference\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"sketch_size\\\": \\\"1000\\\", \\\"table_output\\\": \\\"false\\\", \\\"use_aaa\\\": \\\"false\\\"}\", \"__rerun_remap_job_id__\": null}", "id": 4, "uuid": "e6ac363d-985c-4dce-b2a3-fd356d415b54", "errors": null, "name": "MASH", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "MASH Generate Island Graph", "inputs": [{"name": "commands", "description": "runtime parameter for tool MASH"}, {"name": "commands", "description": "runtime parameter for tool MASH"}], "position": {"top": 353.16668701171875, "left": 1074.9999542236328}, "annotation": "", "content_id": "mash", "type": "tool"}, "5": {"tool_id": "Cut1", "tool_version": "1.0.2", "outputs": [{"type": "tabular", "name": "out_file1"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 4}}, "tool_state": "{\"columnList\": \"\\\"c1,c2,c3\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"delimiter\": \"\\\"T\\\"\", \"__rerun_remap_job_id__\": null, \"__page__\": null}", "id": 5, "uuid": "69563bdd-9eab-429f-a7ee-ef287be02a1c", "errors": null, "name": "Cut", "post_job_actions": {"HideDatasetActionout_file1": {"output_name": "out_file1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Remove columns", "inputs": [{"name": "input", "description": "runtime parameter for tool Cut"}], "position": {"top": 355.16668701171875, "left": 1356.9999542236328}, "annotation": "", "content_id": "Cut1", "type": "tool"}, "6": {"tool_id": "mcl", "tool_version": "14.137", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [{"output_name": "output", "uuid": "947b5d8c-139d-418c-b964-5b32b602a080", "label": null}], "input_connections": {"input_type_select|input": {"output_name": "out_file1", "id": 5}}, "tool_state": "{\"__page__\": null, \"reweight\": \"\\\"1.0\\\"\", \"verbosity\": \"null\", \"discard_loops\": \"\\\"true\\\"\", \"transform\": \"\\\"\\\"\", \"input_type_select\": \"{\\\"__current_case__\\\": 1, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"input_type\\\": \\\"--abc\\\"}\", \"inflation\": \"\\\"4.0\\\"\", \"sum_loops\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null}", "id": 6, "uuid": "c37982df-babd-499c-a477-e7d89d48f96d", "errors": null, "name": "MCL", "post_job_actions": {}, "label": "MCL cluster islands", "inputs": [{"name": "input_type_select", "description": "runtime parameter for tool MCL"}], "position": {"top": 358.16668701171875, "left": 1601.9999542236328}, "annotation": "", "content_id": "mcl", "type": "tool"}}, "annotation": "", "a_galaxy_workflow": "true"}, "workflow_outputs": [], "input_connections": {}, "id": 2, "uuid": "f5db5585-7356-4fac-a69c-dc5c65374fc8", "name": "Cluster islands", "label": null, "position": {"top": 293.16668701171875, "left": 1003}, "annotation": "", "type": "subworkflow"}, "3": {"tool_id": "fa6833a4eadf9064", "inputs": [], "outputs": [], "subworkflow": {"uuid": "1db1b8d8-8fa1-4532-87e1-1723244d171b", "tags": "", "format-version": "0.1", "name": "Prepare sequence data collection", "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [{"output_name": "output", "uuid": "2373014b-c880-4a0c-b359-6cdaee1bdfab", "label": null}], "input_connections": {}, "tool_state": "{\"collection_type\": \"list\"}", "id": 0, "uuid": "57c12167-3308-4bdb-a240-e996371049e7", "errors": null, "name": "Input dataset collection", "label": "Single record fasta", "inputs": [], "position": {"top": 215.16668701171875, "left": 155.16668701171875}, "annotation": "", "content_id": null, "type": "data_collection_input"}, "1": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infiles_0|infile": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"code\": \"\\\"function escape_posix(a) {\\\\n    gsub(\\\\\\\"{\\\\\\\", \\\\\\\"{esc}\\\\\\\", a); # Must be first\\\\n    gsub(\\\\\\\"&\\\\\\\", \\\\\\\"{amp}\\\\\\\", a);\\\\n    gsub(\\\\\\\"/\\\\\\\", \\\\\\\"{slash}\\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\", \\\\\\\"{baskslash}\\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\\\\\\\\\?\\\\\\\", \\\\\\\"{question}\\\\\\\", a);\\\\n    gsub(\\\\\\\"%\\\\\\\", \\\\\\\"{percent}\\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\\\\\\\\\*\\\\\\\", \\\\\\\"{star}\\\\\\\", a);\\\\n    gsub(\\\\\\\":\\\\\\\", \\\\\\\"{colon}\\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\\\\\\\\\|\\\\\\\", \\\\\\\"{pipe}\\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\", \\\\\\\"{dblquot}\\\\\\\", a);\\\\n    gsub(\\\\\\\"<\\\\\\\", \\\\\\\"{lt}\\\\\\\", a);\\\\n    gsub(\\\\\\\">\\\\\\\", \\\\\\\"{gt}\\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\\\\\\\\\.\\\\\\\", \\\\\\\"{dot}\\\\\\\", a);\\\\n    gsub(\\\\\\\" \\\\\\\", \\\\\\\"{space}\\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\t\\\\\\\", \\\\\\\"{tab}\\\\\\\", a);\\\\n    gsub(\\\\\\\"'\\\\\\\", \\\\\\\"{quot}\\\\\\\", a);\\\\n    return a;\\\\n}\\\\n\\\\nmatch($0, /^>([^ ]+)/, a) {\\\\n    name=escape_posix(a[1]);\\\\n    if (name in names) nextfile;\\\\n    names[name] = true;\\\\n    print tool_input_id, name;\\\\n    nextfile \\\\n}\\\\n\\\\nfunction unescape_posix(a) {\\\\n    gsub(\\\\\\\"{amp}\\\\\\\", \\\\\\\"&\\\\\\\", a);\\\\n    gsub(\\\\\\\"{slash}\\\\\\\", \\\\\\\"/\\\\\\\", a);\\\\n    gsub(\\\\\\\"{baskslash}\\\\\\\", \\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\", a);\\\\n    gsub(\\\\\\\"{question}\\\\\\\", \\\\\\\"\\\\\\\\\\\\\\\\?\\\\\\\", a);\\\\n    gsub(\\\\\\\"{percent}\\\\\\\", \\\\\\\"%\\\\\\\", a);\\\\n    gsub(\\\\\\\"{star}\\\\\\\", \\\\\\\"\\\\\\\\\\\\\\\\*\\\\\\\", a);\\\\n    gsub(\\\\\\\"{colon}\\\\\\\", \\\\\\\":\\\\\\\", a);\\\\n    gsub(\\\\\\\"{pipe}\\\\\\\", \\\\\\\"\\\\\\\\\\\\\\\\|\\\\\\\", a);\\\\n    gsub(\\\\\\\"{dblquot}\\\\\\\", \\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\", a);\\\\n    gsub(\\\\\\\"{lt}\\\\\\\", \\\\\\\"<\\\\\\\", a);\\\\n    gsub(\\\\\\\"{gt}\\\\\\\", \\\\\\\">\\\\\\\", a);\\\\n    gsub(\\\\\\\"{dot}\\\\\\\", \\\\\\\"\\\\\\\\\\\\\\\\.\\\\\\\", a);\\\\n    gsub(\\\\\\\"{space}\\\\\\\", \\\\\\\" \\\\\\\", a);\\\\n    gsub(\\\\\\\"\\\\\\\\t\\\\\\\", \\\\\\\"{tab}\\\\\\\", a);\\\\n    gsub(\\\\\\\"{quot}\\\\\\\", \\\\\\\"'\\\\\\\", a);\\\\n    gsub(\\\\\\\"{esc}\\\\\\\", \\\\\\\"{\\\\\\\", a); #Must be last\\\\n}\\\"\", \"last\": \"\\\"false\\\"\", \"infiles\": \"[{\\\"__index__\\\": 0, \\\"infile\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}}]\", \"envs\": \"[]\", \"__rerun_remap_job_id__\": null, \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 1, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "bb408228-be66-4e67-8b2d-95362aad9967", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Extract sequence names", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 412.16668701171875, "left": 493.16668701171875}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "type": "tool"}, "2": {"tool_id": "Cut1", "tool_version": "1.0.2", "outputs": [{"type": "tabular", "name": "out_file1"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "outfile", "id": 1}}, "tool_state": "{\"columnList\": \"\\\"c1\\\"\", \"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"delimiter\": \"\\\"T\\\"\", \"__rerun_remap_job_id__\": null, \"__page__\": null}", "id": 2, "uuid": "a8013056-72c2-4fae-b349-524a219a237a", "errors": null, "name": "Cut", "post_job_actions": {"HideDatasetActionout_file1": {"output_name": "out_file1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Cut identifiers from collection list", "inputs": [], "position": {"top": 321.16668701171875, "left": 870.1666259765625}, "annotation": "", "content_id": "Cut1", "type": "tool"}, "3": {"tool_id": "__FILTER_FROM_FILE__", "tool_version": "1.0.0", "outputs": [{"type": "input", "name": "output_filtered"}, {"type": "input", "name": "output_discarded"}], "workflow_outputs": [], "input_connections": {"how|filter_source": {"output_name": "out_file1", "id": 2}, "input": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"how\": \"{\\\"__current_case__\\\": 0, \\\"filter_source\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"how_filter\\\": \\\"remove_if_absent\\\"}\", \"__rerun_remap_job_id__\": null, \"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", "id": 3, "uuid": "1007df13-4acc-461a-a47c-79c78e6cc7df", "errors": null, "name": "Filter List", "post_job_actions": {"HideDatasetActionoutput_discarded": {"output_name": "output_discarded", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput_filtered": {"output_name": "output_filtered", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Filter duplicates", "inputs": [], "position": {"top": 210.16668701171875, "left": 1139.1666259765625}, "annotation": "", "content_id": "__FILTER_FROM_FILE__", "type": "tool"}, "4": {"tool_id": "__RELABEL_FROM_FILE__", "tool_version": "1.0.0", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [{"output_name": "output", "uuid": "1530833f-3478-4015-98a8-20318e130f23", "label": "Input collection relabeled"}], "input_connections": {"input": {"output_name": "output_filtered", "id": 3}, "how|labels": {"output_name": "outfile", "id": 1}}, "tool_state": "{\"__page__\": null, \"how\": \"{\\\"__current_case__\\\": 0, \\\"how_select\\\": \\\"txt\\\", \\\"labels\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"strict\\\": \\\"false\\\"}\", \"__rerun_remap_job_id__\": null, \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 4, "uuid": "00022519-e78d-49d8-a964-dc7de318c082", "errors": null, "name": "Relabel List Identifiers", "post_job_actions": {"ChangeDatatypeActionoutput": {"output_name": "output", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "fasta"}}}, "label": null, "inputs": [{"name": "how", "description": "runtime parameter for tool Relabel List Identifiers"}, {"name": "input", "description": "runtime parameter for tool Relabel List Identifiers"}], "position": {"top": 459.16668701171875, "left": 1446.1666259765625}, "annotation": "", "content_id": "__RELABEL_FROM_FILE__", "type": "tool"}}, "annotation": "", "a_galaxy_workflow": "true"}, "workflow_outputs": [], "input_connections": {}, "id": 3, "uuid": "22ba6cef-9062-4505-af2f-09fd22ea7fee", "name": "Prepare sequence data collection", "label": null, "position": {"top": 494.16668701171875, "left": 971.1666259765625}, "annotation": "", "type": "subworkflow"}, "4": {"tool_id": "40876639881ca029", "inputs": [], "outputs": [], "subworkflow": {"uuid": "b9b632e1-b7a2-4c5f-8734-9c0c3fd3cb29", "tags": "", "format-version": "0.1", "name": "Detect genomic islands", "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [], "input_connections": {}, "tool_state": "{\"collection_type\": \"list\"}", "id": 0, "uuid": "82ce6db0-a7ec-437e-8803-5bdbe7821e25", "errors": null, "name": "Input dataset collection", "label": "Genbank/EMBL", "inputs": [], "position": {"top": 441.16668701171875, "left": 200}, "annotation": "", "content_id": null, "type": "data_collection_input"}, "1": {"tool_id": "biopython-convert", "tool_version": "1.0", "outputs": [{"type": "input", "name": "split_output"}, {"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"split\": \"\\\"true\\\"\", \"query\": \"\\\"\\\"\", \"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"output_type\": \"\\\"embl\\\"\"}", "id": 1, "uuid": "79ea7ab3-048c-488d-9da4-904f4f2f4fd3", "errors": null, "name": "BioPython SeqIO Converter", "post_job_actions": {"HideDatasetActionsplit_output": {"output_name": "split_output", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "To EMBL", "inputs": [], "position": {"top": 445.16668701171875, "left": 542}, "annotation": "", "content_id": "biopython-convert", "type": "tool"}, "2": {"tool_id": "IslandPath-DIMOB", "tool_version": "1.0.4", "outputs": [{"type": "gff", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "split_output", "id": 1}}, "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"__rerun_remap_job_id__\": null, \"__page__\": null}", "id": 2, "uuid": "3afdcc8c-2ff5-4957-84ec-45bbf8ef2fcc", "errors": null, "name": "IslandPath-DIMOB", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [], "position": {"top": 422.16668701171875, "left": 969.5}, "annotation": "", "content_id": "IslandPath-DIMOB", "type": "tool"}, "3": {"tool_id": "SigiHMM", "tool_version": "4.0.0", "outputs": [{"type": "embl", "name": "output"}, {"type": "gff", "name": "gff"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "split_output", "id": 1}}, "tool_state": "{\"__page__\": null, \"cut\": \"null\", \"join\": \"\\\"1\\\"\", \"outlier\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null, \"phx\": \"\\\"true\\\"\", \"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"sens\": \"\\\"0.7\\\"\"}", "id": 3, "uuid": "43f4ea5d-2ef4-4775-9000-8dce70bdbd48", "errors": null, "name": "SigiHMM", "post_job_actions": {"HideDatasetActiongff": {"output_name": "gff", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [], "position": {"top": 622.1666870117188, "left": 968}, "annotation": "", "content_id": "SigiHMM", "type": "tool"}, "4": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "gff", "id": 3}}, "tool_state": "{\"adv_opts\": \"{\\\"__current_case__\\\": 0, \\\"adv_opts_selector\\\": \\\"basic\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"s/^([^;[:space:]]+);/\\\\\\\\1/;s/NORMAL|PUTAL/genomic_island/;s/^(([^\\\\\\\\t]*\\\\\\\\t){7}[^\\\\\\\\t\\\\\\\\n]*).*/\\\\\\\\1\\\\\\\\t/\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", "id": 4, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "99da1d0e-ceba-4ad6-a9e2-3e867aecc3bf", "errors": null, "name": "Text transformation", "post_job_actions": {"ChangeDatatypeActionoutput": {"output_name": "output", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "gff3"}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Clean sequence IDs", "inputs": [], "position": {"top": 626.1666870117188, "left": 1220.5}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "type": "tool"}, "5": {"tool_id": "__MERGE_COLLECTION__", "tool_version": "1.0.0", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"inputs_0|input": {"output_name": "output", "id": 2}, "inputs_1|input": {"output_name": "output", "id": 4}}, "tool_state": "{\"inputs\": \"[{\\\"__index__\\\": 0, \\\"input\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}}, {\\\"__index__\\\": 1, \\\"input\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}}]\", \"__rerun_remap_job_id__\": null, \"advanced\": \"{\\\"conflict\\\": {\\\"__current_case__\\\": 3, \\\"duplicate_options\\\": \\\"keep_first\\\"}}\", \"__page__\": null}", "id": 5, "uuid": "31f3666e-2068-435b-99d8-4e114be548b0", "errors": null, "name": "Merge Collections", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Aggregate island calls", "inputs": [], "position": {"top": 453.16668701171875, "left": 1471}, "annotation": "", "content_id": "__MERGE_COLLECTION__", "type": "tool"}, "6": {"tool_id": "Filter1", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "out_file1"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 5}}, "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"__rerun_remap_job_id__\": null, \"header_lines\": \"\\\"0\\\"\", \"cond\": \"\\\"c5-c4>${minimum_island_size}\\\"\", \"__page__\": null}", "id": 6, "uuid": "f55c210f-7702-4f53-926f-e73ab6a498ba", "errors": null, "name": "Filter", "post_job_actions": {"ChangeDatatypeActionout_file1": {"output_name": "out_file1", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "gff3"}}, "HideDatasetActionout_file1": {"output_name": "out_file1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Filter islands", "inputs": [], "position": {"top": 525.1666870117188, "left": 1826}, "annotation": "", "content_id": "Filter1", "type": "tool"}, "7": {"tool_id": "feature_merge", "tool_version": "1.0", "outputs": [{"type": "gff", "name": "output"}], "workflow_outputs": [{"output_name": "output", "uuid": "45e20dbe-3368-4900-8406-d599fa8d88a1", "label": null}], "input_connections": {"inputs": {"output_name": "out_file1", "id": 6}}, "tool_state": "{\"ignore_strand\": \"\\\"true\\\"\", \"inputs\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"features\": \"[]\", \"__page__\": null, \"exact_only\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null, \"exclude_components\": \"\\\"true\\\"\"}", "id": 7, "uuid": "98aab0a1-8a66-40a3-8a1e-51d0cc1a3131", "errors": null, "name": "GFF/GTF Feature Merge", "post_job_actions": {}, "label": "Merge Islands", "inputs": [{"name": "inputs", "description": "runtime parameter for tool GFF/GTF Feature Merge"}], "position": {"top": 525.1666870117188, "left": 2083.5}, "annotation": "", "content_id": "feature_merge", "type": "tool"}}, "annotation": "", "a_galaxy_workflow": "true"}, "workflow_outputs": [], "input_connections": {}, "id": 4, "uuid": "b78b1e21-267e-4a12-9311-7f62b5ab005e", "name": "Detect genomic islands", "label": null, "position": {"top": 728.1666870117188, "left": 1019}, "annotation": "", "type": "subworkflow"}}, "annotation": "", "a_galaxy_workflow": "true"}