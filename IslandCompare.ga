{"uuid": "841b3040-4a36-48fb-a82d-66947028815b", "tags": [], "format-version": "0.1", "name": "IslandCompare", "version": 24, "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [{"output_name": "output", "uuid": "2603957d-0b21-4339-85b3-fe50e626816c", "label": null}], "input_connections": {}, "tool_state": "{\"collection_type\": \"list\"}", "id": 0, "uuid": "beab26e3-44a7-4ccf-a93f-f1e5bd501717", "errors": null, "name": "Input dataset collection", "label": null, "inputs": [], "position": {"top": 720, "left": 200}, "annotation": "", "content_id": null, "type": "data_collection_input"}, "1": {"tool_id": "biopython-convert", "tool_version": "1.0", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"output_type\": \"\\\"fasta\\\"\"}", "id": 1, "uuid": "6024d5fd-bc8e-4827-8b29-01e48e525ae5", "errors": null, "name": "BioPython SeqIO Converter", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Convert to fasta", "inputs": [{"name": "input", "description": "runtime parameter for tool BioPython SeqIO Converter"}], "position": {"top": 720, "left": 494.6666259765625}, "annotation": "", "content_id": "biopython-convert", "type": "tool"}, "2": {"tool_id": "biopython-convert", "tool_version": "1.0", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"output_type\": \"\\\"embl\\\"\"}", "id": 2, "uuid": "2d093821-dc9f-4371-ae94-710157cbf419", "errors": null, "name": "BioPython SeqIO Converter", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Convert to embl", "inputs": [{"name": "input", "description": "runtime parameter for tool BioPython SeqIO Converter"}], "position": {"top": 912.6666870117188, "left": 494.6666259765625}, "annotation": "", "content_id": "biopython-convert", "type": "tool"}, "3": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output", "id": 1}}, "tool_state": "{\"adv_opts\": \"{\\\"__current_case__\\\": 0, \\\"adv_opts_selector\\\": \\\"basic\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"s/^(>[^\\\\\\\\.[:space:]]+)\\\\\\\\.[^[:space:]]+/\\\\\\\\1/\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 3, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "af66201d-b30c-4c38-9a63-5bfc91b160c7", "errors": null, "name": "Text transformation", "post_job_actions": {"ChangeDatatypeActionoutput": {"output_name": "output", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "fasta"}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Scrub version from ID", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text transformation"}], "position": {"top": 288, "left": 826.3333740234375}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "type": "tool"}, "4": {"tool_id": "IslandPath-DIMOB", "tool_version": "1.0.4", "outputs": [{"type": "gff", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 2}}, "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"__page__\": null}", "id": 4, "uuid": "63b9b60c-fe66-48a7-bdc5-bf34c0ea7d77", "errors": null, "name": "IslandPath-DIMOB", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "input", "description": "runtime parameter for tool IslandPath-DIMOB"}], "position": {"top": 1152.6666259765625, "left": 854.3333740234375}, "annotation": "", "content_id": "IslandPath-DIMOB", "type": "tool"}, "5": {"tool_id": "SigiHMM", "tool_version": "4.0.0", "outputs": [{"type": "embl", "name": "output"}, {"type": "gff", "name": "gff"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 2}}, "tool_state": "{\"__page__\": null, \"cut\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"join\": \"\\\"1\\\"\", \"outlier\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null, \"phx\": \"\\\"true\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"sens\": \"\\\"0.7\\\"\"}", "id": 5, "uuid": "9ad137b6-c607-4d01-81bd-b35841a37c43", "errors": null, "name": "SigiHMM", "post_job_actions": {"HideDatasetActiongff": {"output_name": "gff", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "cut", "description": "runtime parameter for tool SigiHMM"}, {"name": "input", "description": "runtime parameter for tool SigiHMM"}], "position": {"top": 1298.3333740234375, "left": 838.3333740234375}, "annotation": "", "content_id": "SigiHMM", "type": "tool"}, "6": {"tool_id": "ParSNP", "tool_version": "1.2", "outputs": [{"type": "newick", "name": "tree"}, {"type": "vcf", "name": "vcf"}, {"type": "ggr", "name": "ggr"}, {"type": "xfma", "name": "xfma"}, {"type": "txt", "name": "unaligned"}], "workflow_outputs": [], "input_connections": {"genomes": {"output_name": "output", "id": 3}}, "tool_state": "{\"adv\": \"{\\\"MUMi_or_curated\\\": {\\\"__current_case__\\\": 1, \\\"curated\\\": \\\"true\\\"}, \\\"aligner\\\": \\\"muscle\\\", \\\"d_value\\\": \\\"100\\\", \\\"extend_lcb\\\": \\\"false\\\", \\\"filter_snp\\\": \\\"false\\\", \\\"lcb_size\\\": \\\"25\\\", \\\"max_diag_diff\\\": {\\\"__current_case__\\\": 0, \\\"diag_diff\\\": \\\"0.12\\\", \\\"diag_diff_unit\\\": \\\"\\\"}, \\\"min_anchor_len\\\": {\\\"__current_case__\\\": 1, \\\"anchor_default\\\": \\\"true\\\"}, \\\"output_unaligned\\\": \\\"false\\\", \\\"query_genome\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}\", \"ref_or_gbk\": \"{\\\"__current_case__\\\": 0, \\\"ref_genome\\\": {\\\"__current_case__\\\": 1, \\\"random_ref\\\": \\\"true\\\"}, \\\"ref_type\\\": \\\"fasta\\\"}\", \"__rerun_remap_job_id__\": null, \"genomes\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__page__\": null}", "id": 6, "uuid": "3f08cd1b-619d-46b1-a280-4ac84c9f5688", "errors": null, "name": "ParSNP", "post_job_actions": {"ChangeDatatypeActiontree": {"output_name": "tree", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "nhx"}}, "HideDatasetActionxfma": {"output_name": "xfma", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionvcf": {"output_name": "vcf", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionunaligned": {"output_name": "unaligned", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActiontree": {"output_name": "tree", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionggr": {"output_name": "ggr", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "adv", "description": "runtime parameter for tool ParSNP"}, {"name": "genomes", "description": "runtime parameter for tool ParSNP"}], "position": {"top": 919.6666870117188, "left": 1095}, "annotation": "", "content_id": "ParSNP", "type": "tool"}, "7": {"tool_id": "rgi", "tool_version": "4.2.2", "outputs": [{"type": "json", "name": "report"}, {"type": "tabular", "name": "summary"}], "workflow_outputs": [], "input_connections": {"input_sequence": {"output_name": "output", "id": 3}}, "tool_state": "{\"__page__\": null, \"alignment_tool\": \"\\\"blast\\\"\", \"db_opts\": \"{\\\"__current_case__\\\": 0, \\\"db_opts_selector\\\": \\\"default\\\", \\\"rgi_db_hist\\\": \\\"\\\", \\\"rgi_db_local\\\": \\\"\\\"}\", \"input_type\": \"\\\"contig\\\"\", \"include_loose\": \"\\\"false\\\"\", \"low_quality\": \"\\\"false\\\"\", \"input_sequence\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"data\": \"\\\"NA\\\"\", \"__rerun_remap_job_id__\": null}", "id": 7, "uuid": "ac654873-1d8e-435d-8cb7-584e4b146ec7", "errors": null, "name": "Resistance Gene Identifier (RGI)", "post_job_actions": {"HideDatasetActionsummary": {"output_name": "summary", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionreport": {"output_name": "report", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "input_sequence", "description": "runtime parameter for tool Resistance Gene Identifier (RGI)"}], "position": {"top": 200, "left": 1426}, "annotation": "", "content_id": "rgi", "type": "tool"}, "8": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "gff", "id": 5}}, "tool_state": "{\"adv_opts\": \"{\\\"__current_case__\\\": 0, \\\"adv_opts_selector\\\": \\\"basic\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"s/^([^;[:space:]]]+);/\\\\\\\\1/;s/NORMAL|PUTAL/genomic_island/;s/^(([^\\\\\\\\t]*\\\\\\\\t){7}[^\\\\\\\\t\\\\\\\\n]*).*/\\\\\\\\1\\\\\\\\t/\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 8, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "0616078f-dc98-496a-93d8-df9c844bee22", "errors": null, "name": "Text transformation", "post_job_actions": {"ChangeDatatypeActionoutput": {"output_name": "output", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "gff"}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Clean output", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text transformation"}], "position": {"top": 1387.3333740234375, "left": 1082}, "annotation": "Remove trailing ';' from sequence ids", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1", "type": "tool"}, "9": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/progressivemauve/2015_02_13.0", "tool_version": "2015_02_13.0", "outputs": [{"type": "xmfa", "name": "output"}, {"type": "nhx", "name": "output_guide_tree_file"}, {"type": "tabular", "name": "output_backbone_file"}], "workflow_outputs": [], "input_connections": {"input_guide_tree": {"output_name": "tree", "id": 6}, "sequences": {"output_name": "output", "id": 3}}, "tool_state": "{\"skip_gapped_alignment\": \"\\\"false\\\"\", \"weight\": \"\\\"0\\\"\", \"conservation_distance_scale\": \"\\\"0.5\\\"\", \"no_weight_scaling\": \"\\\"false\\\"\", \"hmm_p_go_homologous\": \"\\\"1e-05\\\"\", \"sequences\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"max_breakpoint_distance_scale\": \"\\\"0.5\\\"\", \"coding_seeds\": \"\\\"false\\\"\", \"mums\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null, \"min_scaled_penalty\": \"\\\"0\\\"\", \"scoring_scheme\": \"\\\"sp\\\"\", \"output_backbone\": \"\\\"true\\\"\", \"no_recursion\": \"\\\"false\\\"\", \"gap_extend\": \"\\\"0\\\"\", \"disable_backbone\": \"\\\"false\\\"\", \"seed_family\": \"\\\"false\\\"\", \"apply_backbone\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__page__\": null, \"repeat_penalty\": \"\\\"negative\\\"\", \"hmm_p_go_unrelated\": \"\\\"1e-09\\\"\", \"input_guide_tree\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"seed_weight\": \"\\\"0\\\"\", \"max_gapped_aligner_length\": \"\\\"0\\\"\", \"bp_dist_estimate_min_score\": \"\\\"0\\\"\", \"island_gap_size\": \"\\\"20\\\"\", \"skip_refinement\": \"\\\"false\\\"\", \"collinear\": \"\\\"false\\\"\", \"match_input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"output_guide_tree\": \"\\\"true\\\"\", \"solid_seeds\": \"\\\"false\\\"\", \"gap_open\": \"\\\"0\\\"\", \"hmm_identity\": \"\\\"0.7\\\"\"}", "id": 9, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "bca52822843e", "name": "progressivemauve", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "96044ec9-851a-4d78-98d3-935d84084947", "errors": null, "name": "progressiveMauve", "post_job_actions": {"HideDatasetActionoutput_guide_tree_file": {"output_name": "output_guide_tree_file", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput_backbone_file": {"output_name": "output_backbone_file", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "sequences", "description": "runtime parameter for tool progressiveMauve"}, {"name": "apply_backbone", "description": "runtime parameter for tool progressiveMauve"}, {"name": "input_guide_tree", "description": "runtime parameter for tool progressiveMauve"}, {"name": "match_input", "description": "runtime parameter for tool progressiveMauve"}], "position": {"top": 465, "left": 1429.6666870117188}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/progressivemauve/2015_02_13.0", "type": "tool"}, "10": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "summary", "id": 7}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN { FS=OFS=\\\\\\\"\\\\\\\\t\\\\\\\"; print \\\\\\\"##gff-version 3\\\\\\\" }\\\\nNR == 1 { split( $0, tags ); next }\\\\n{ print $2,\\\\\\\"RGI-CARD\\\\\\\",\\\\\\\"gene\\\\\\\",$3,$4,$8,$5,\\\\\\\".\\\\\\\",\\\\\\\"Name=AMR Gene;Alias=ARO:\\\\\\\"$11\\\\\\\";\\\\\\\"tags[6]\\\\\\\"=\\\\\\\"$6\\\\\\\";\\\\\\\"tags[7]\\\\\\\"=\\\\\\\"$7\\\\\\\";\\\\\\\"tags[9]\\\\\\\"=\\\\\\\"$9\\\\\\\";\\\\\\\"tags[10]\\\\\\\"=\\\\\\\"$10\\\\\\\";\\\\\\\"tags[12]\\\\\\\"=\\\\\\\"$12\\\\\\\";\\\\\\\"tags[13]\\\\\\\"=\\\\\\\"$13\\\\\\\";\\\\\\\"tags[14]\\\\\\\"=\\\\\\\"$14\\\\\\\";\\\\\\\"tags[16]\\\\\\\"=\\\\\\\"$16\\\\\\\";\\\\\\\"tags[17]\\\\\\\"=\\\\\\\"$17\\\\\\\";\\\\\\\"tags[15]\\\\\\\"=\\\\\\\"$15\\\\\\\";\\\\\\\" }\\\\n\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 10, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "0dd5ca33-6216-43de-8b08-629c40cd8a8d", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "ChangeDatatypeActionoutfile": {"output_name": "outfile", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "gff3"}}}, "label": "Convert RGI to GFF", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 303, "left": 2457.5}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "type": "tool"}, "11": {"tool_id": "__MERGE_COLLECTION__", "tool_version": "1.0.0", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"inputs_0|input": {"output_name": "output", "id": 4}, "inputs_1|input": {"output_name": "output", "id": 8}}, "tool_state": "{\"inputs\": \"[{\\\"__index__\\\": 0, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}, {\\\"__index__\\\": 1, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}]\", \"__rerun_remap_job_id__\": null, \"advanced\": \"{\\\"conflict\\\": {\\\"__current_case__\\\": 2, \\\"duplicate_options\\\": \\\"suffix_every\\\", \\\"suffix_pattern\\\": \\\"_#\\\"}}\", \"__page__\": null}", "id": 11, "uuid": "30e4e75d-8ace-4a6b-a9fb-595c3a72a9d0", "errors": null, "name": "Merge Collections", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [], "position": {"top": 1215.6666259765625, "left": 1316.6666870117188}, "annotation": "", "content_id": "__MERGE_COLLECTION__", "type": "tool"}, "12": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/xmfa2gff3/2015_02_13.0", "tool_version": "2015_02_13.0", "outputs": [{"type": "gff3", "name": "output"}], "workflow_outputs": [], "input_connections": {"xmfa": {"output_name": "output", "id": 9}, "sequences": {"output_name": "output", "id": 3}}, "tool_state": "{\"__page__\": null, \"window_size\": \"\\\"100\\\"\", \"__rerun_remap_job_id__\": null, \"sequences\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"relative_to\": \"\\\"1\\\"\", \"xmfa\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 12, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "bca52822843e", "name": "progressivemauve", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "05685b3e-b588-4764-bca4-c17f58c022e6", "errors": null, "name": "Convert XMFA to gapped GFF3", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "sequences", "description": "runtime parameter for tool Convert XMFA to gapped GFF3"}, {"name": "xmfa", "description": "runtime parameter for tool Convert XMFA to gapped GFF3"}], "position": {"top": 725, "left": 1682.3333282470703}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/xmfa2gff3/2015_02_13.0", "type": "tool"}, "13": {"tool_id": "feature_merge", "tool_version": "1.0", "outputs": [{"type": "gff", "name": "output"}], "workflow_outputs": [], "input_connections": {"inputs": {"output_name": "output", "id": 11}}, "tool_state": "{\"ignore_strand\": \"\\\"true\\\"\", \"inputs\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"features\": \"[]\", \"__page__\": null, \"exact_only\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null, \"exclude_components\": \"\\\"false\\\"\"}", "id": 13, "uuid": "84451983-c3f7-422a-b5dd-b8922fa571fd", "errors": null, "name": "GFF/GTF Feature Merge", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "inputs", "description": "runtime parameter for tool GFF/GTF Feature Merge"}], "position": {"top": 944.6666870117188, "left": 1687.3333282470703}, "annotation": "", "content_id": "feature_merge", "type": "tool"}, "14": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1", "tool_version": "2.27.1", "outputs": [{"type": "fasta", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 13}, "fasta_source|fasta": {"output_name": "output", "id": 3}}, "tool_state": "{\"__page__\": null, \"name\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null, \"split\": \"\\\"false\\\"\", \"tab\": \"\\\"false\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"strand\": \"\\\"false\\\"\", \"fasta_source\": \"{\\\"__current_case__\\\": 0, \\\"fasta\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"fasta_source_selector\\\": \\\"history\\\"}\"}", "id": 14, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "87ee588b3d45", "name": "bedtools", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "17c5cc02-ae99-46c2-bdfd-7252c9362d11", "errors": null, "name": "bedtools GetFastaBed", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Extract island sequences", "inputs": [{"name": "fasta_source", "description": "runtime parameter for tool bedtools GetFastaBed"}, {"name": "input", "description": "runtime parameter for tool bedtools GetFastaBed"}], "position": {"top": 402, "left": 2080}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1", "type": "tool"}, "15": {"tool_id": "mash", "tool_version": "2.1", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"commands|inputs": {"output_name": "output", "id": 14}}, "tool_state": "{\"__page__\": null, \"commands\": \"{\\\"__current_case__\\\": 5, \\\"alphabet\\\": \\\"\\\", \\\"command\\\": \\\"sketch\\\", \\\"hash_seed\\\": \\\"42\\\", \\\"input_option\\\": {\\\"__current_case__\\\": 1, \\\"individual_seq\\\": \\\"true\\\"}, \\\"inputs\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"kmer_size\\\": \\\"21\\\", \\\"kmer_size_thresh\\\": \\\"0.01\\\", \\\"preserve_case\\\": \\\"false\\\", \\\"preserve_strand\\\": \\\"false\\\", \\\"sketch_size\\\": \\\"1000\\\", \\\"use_aaa\\\": \\\"false\\\"}\", \"__rerun_remap_job_id__\": null}", "id": 15, "uuid": "5b7bb3fc-e8c2-430b-8535-6705f093022a", "errors": null, "name": "MASH", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "MASH Sketch", "inputs": [{"name": "commands", "description": "runtime parameter for tool MASH"}], "position": {"top": 720, "left": 2356.6666870117188}, "annotation": "", "content_id": "mash", "type": "tool"}, "16": {"tool_id": "mash", "tool_version": "2.1", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"commands|reference": {"output_name": "output", "id": 15}, "commands|inputs": {"output_name": "output", "id": 15}}, "tool_state": "{\"__page__\": null, \"commands\": \"{\\\"__current_case__\\\": 1, \\\"alphabet\\\": \\\"\\\", \\\"command\\\": \\\"dist\\\", \\\"hash_seed\\\": \\\"42\\\", \\\"input_option\\\": {\\\"__current_case__\\\": 1, \\\"individual_seq\\\": \\\"true\\\"}, \\\"inputs\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"kmer_size\\\": \\\"21\\\", \\\"kmer_size_thresh\\\": \\\"0.01\\\", \\\"max_dist\\\": \\\"0.99\\\", \\\"max_p\\\": \\\"1.0\\\", \\\"preserve_case\\\": \\\"false\\\", \\\"preserve_strand\\\": \\\"false\\\", \\\"reference\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"sketch_size\\\": \\\"1000\\\", \\\"table_output\\\": \\\"false\\\", \\\"use_aaa\\\": \\\"false\\\"}\", \"__rerun_remap_job_id__\": null}", "id": 16, "uuid": "559eef0c-8184-46ac-97d0-3ca137734c71", "errors": null, "name": "MASH", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "MASH Generate island graph", "inputs": [{"name": "commands", "description": "runtime parameter for tool MASH"}, {"name": "commands", "description": "runtime parameter for tool MASH"}], "position": {"top": 720, "left": 2644.3333129882812}, "annotation": "", "content_id": "mash", "type": "tool"}, "17": {"tool_id": "Cut1", "tool_version": "1.0.2", "outputs": [{"type": "tabular", "name": "out_file1"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 16}}, "tool_state": "{\"columnList\": \"\\\"c1,c2,c3\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"delimiter\": \"\\\"T\\\"\", \"__rerun_remap_job_id__\": null, \"__page__\": null}", "id": 17, "uuid": "9cf4e870-64e6-49e9-a89d-bd37704cb6d6", "errors": null, "name": "Cut", "post_job_actions": {"HideDatasetActionout_file1": {"output_name": "out_file1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Remove columns", "inputs": [{"name": "input", "description": "runtime parameter for tool Cut"}], "position": {"top": 720, "left": 2932}, "annotation": "", "content_id": "Cut1", "type": "tool"}, "18": {"tool_id": "mcl", "tool_version": "14.137", "outputs": [{"type": "txt", "name": "output"}], "workflow_outputs": [], "input_connections": {"input_type_select|input": {"output_name": "out_file1", "id": 17}}, "tool_state": "{\"__page__\": null, \"reweight\": \"\\\"1.0\\\"\", \"verbosity\": \"null\", \"discard_loops\": \"\\\"true\\\"\", \"transform\": \"\\\"mul(-1),add(1)\\\"\", \"input_type_select\": \"{\\\"__current_case__\\\": 1, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"input_type\\\": \\\"--abc\\\"}\", \"inflation\": \"\\\"4.0\\\"\", \"sum_loops\": \"\\\"false\\\"\", \"__rerun_remap_job_id__\": null}", "id": 18, "uuid": "ee260fd0-4407-49bc-8693-59f7d9c4faeb", "errors": null, "name": "MCL", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "MCL Cluster islands", "inputs": [{"name": "input_type_select", "description": "runtime parameter for tool MCL"}], "position": {"top": 720, "left": 3175.6666259765625}, "annotation": "", "content_id": "mcl", "type": "tool"}, "19": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output", "id": 18}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"function generate_distinct_color(n){\\\\n  return colors[n]\\\\n#  n -= 1;\\\\n#  h = #TODO generate distinct values\\\\n#  h *= 0.9; # Shift color range to exclude circular h values\\\\n#  s = 1;\\\\n#  v = 1;\\\\n#  # Taken from https://gist.github.com/mjackson/5311256\\\\n#  i = int(h * 6);\\\\n#  f = h * 6 - i;\\\\n#  p = v * (1 - s);\\\\n#  q = v * (1 - f * s);\\\\n#  t = v * (1 - (1 - f) * s);\\\\n#\\\\n#  switch (i % 6) {\\\\n#    case 0: r = v; g = t; b = p; break;\\\\n#    case 1: r = q; g = v; b = p; break;\\\\n#    case 2: r = p; g = v; b = t; break;\\\\n#    case 3: r = p; g = q; b = v; break;\\\\n#    case 4: r = t; g = p; b = v; break;\\\\n#    case 5: r = v; g = p; b = q; break;\\\\n#  }\\\\n#\\\\n#  return sprintf(\\\\\\\"#%02X%02X%02X\\\\\\\", r * 255, g * 255, b * 255)\\\\n}\\\\nBEGIN { \\\\n    split(\\\\\\\"#e6194b #3cb44b #ffe119 #4363d8 #f58231 #911eb4 #46f0f0 #f032e6 #bcf60c #fabebe #008080 #e6beff #9a6324 #fffac8 #800000 #aaffc3 #808000 #ffd8b1 #000075 #808080 #ffffff #000000\\\\\\\", colors, \\\\\\\" \\\\\\\") \\\\n    print \\\\\\\"##gff-version 3\\\\\\\"\\\\n}\\\\n(NF > 1) {for (i=1; i<=NF; i++) print gensub(/([^:]+):([0-9]+)-([0-9]+)/, \\\\\\\"\\\\\\\\1\\\\\\\\tMCL\\\\\\\\tgenomic_island\\\\\\\\t\\\\\\\\2\\\\\\\\t\\\\\\\\3\\\\\\\\t.\\\\\\\\t.\\\\\\\\t.\\\\\\\\tcluster=\\\\\\\", 1, $i) NR \\\\\\\";color=\\\\\\\" generate_distinct_color(NR); }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 19, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "15b181d6-36c5-40b6-9250-487114025ca9", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "ChangeDatatypeActionoutfile": {"output_name": "outfile", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "gff3"}}}, "label": "Convert to GFF", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 720, "left": 3464.3333740234375}, "annotation": "Also adds color based on cluster", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "type": "tool"}, "20": {"tool_id": "__BUILD_LIST__", "tool_version": "1.0.0", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"datasets_2|input": {"output_name": "outfile", "id": 19}, "datasets_3|input": {"output_name": "output", "id": 13}, "datasets_0|input": {"output_name": "outfile", "id": 10}, "datasets_1|input": {"output_name": "output", "id": 12}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"datasets\": \"[{\\\"__index__\\\": 0, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}, {\\\"__index__\\\": 1, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}, {\\\"__index__\\\": 2, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}, {\\\"__index__\\\": 3, \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}]\"}", "id": 20, "uuid": "d54d3907-990a-43fd-89cf-504d2e004496", "errors": null, "name": "Build List", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [], "position": {"top": 715, "left": 3733}, "annotation": "", "content_id": "__BUILD_LIST__", "type": "tool"}, "21": {"tool_id": "__FLATTEN__", "tool_version": "1.0.0", "outputs": [{"type": "input", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output", "id": 20}}, "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"join_identifier\": \"\\\"_\\\"\", \"__page__\": null}", "id": 21, "uuid": "66e93120-7b5b-42f6-b386-1509a45f53c5", "errors": null, "name": "Flatten Collection", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "input", "description": "runtime parameter for tool Flatten Collection"}], "position": {"top": 720, "left": 3977.6666259765625}, "annotation": "", "content_id": "__FLATTEN__", "type": "tool"}, "22": {"tool_id": "feature_merge", "tool_version": "1.0", "outputs": [{"type": "gff", "name": "output"}], "workflow_outputs": [], "input_connections": {"inputs": {"output_name": "output", "id": 21}}, "tool_state": "{\"ignore_strand\": \"\\\"false\\\"\", \"inputs\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"features\": \"[{\\\"__index__\\\": 0, \\\"csv\\\": \\\"genomic_island\\\"}]\", \"__page__\": null, \"exact_only\": \"\\\"true\\\"\", \"__rerun_remap_job_id__\": null, \"exclude_components\": \"\\\"true\\\"\"}", "id": 22, "uuid": "701dd850-83cf-45c9-8980-8ff6fdc35688", "errors": null, "name": "GFF/GTF Feature Merge", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Merge all GFF", "inputs": [{"name": "inputs", "description": "runtime parameter for tool GFF/GTF Feature Merge"}], "position": {"top": 720, "left": 4237.333251953125}, "annotation": "Merge all GFF files and combine cluster annotations with original record", "content_id": "feature_merge", "type": "tool"}, "23": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0", "tool_version": "0.1.0", "outputs": [{"type": "input", "name": "out_file1"}], "workflow_outputs": [], "input_connections": {"inputs": {"output_name": "tree", "id": 6}, "queries_0|inputs2": {"output_name": "output", "id": 22}}, "tool_state": "{\"__page__\": null, \"inputs\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"queries\": \"[{\\\"__index__\\\": 0, \\\"inputs2\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}]\"}", "id": 23, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "2696f886-0546-458b-bfe6-a5779069ae34", "errors": null, "name": "Concatenate datasets", "post_job_actions": {"HideDatasetActionout_file1": {"output_name": "out_file1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Concat newick and GFF", "inputs": [{"name": "inputs", "description": "runtime parameter for tool Concatenate datasets"}], "position": {"top": 1061, "left": 4500}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0", "type": "tool"}, "24": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "tool_version": "1.1.1", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [{"output_name": "outfile", "uuid": "69f1f229-1fe7-45d9-bafe-69fc264ab8fc", "label": "IslandCompare Result"}], "input_connections": {"infile": {"output_name": "out_file1", "id": 23}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"NR==1 {newick=$0};\\\\nNR==2 {print $0 ORS \\\\\\\"##newick:\\\\\\\",newick};\\\\nNR>2 {print}\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 24, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "a6f147a050a2", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "d6c1a66e-c4ee-462d-ae67-cbaf4d7098ab", "errors": null, "name": "Text reformatting", "post_job_actions": {"RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "IslandCompare Result from #{input_name}"}}}, "label": "Embed newick in GFF header", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 720, "left": 4816.666748046875}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", "type": "tool"}}, "annotation": "", "a_galaxy_workflow": "true"}