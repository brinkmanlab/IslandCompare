{
  "a_galaxy_workflow": "true",
  "annotation": "",
  "creator": [
    {
      "class": "Organization",
      "name": "Brinkman Lab",
      "url": "https://brinkmanlab.ca"
    }
  ],
  "format-version": "0.1",
  "name": "IslandCompare",
  "steps": {
    "0": {
      "annotation": "{ \"annotation\": \"Select data to analyze.\", \"order\":0, \"validator\":\"(selection &amp;&amp; selection.length &gt; 1)?'':'Please select at least two datasets'\" }",
      "content_id": null,
      "errors": null,
      "id": 0,
      "input_connections": {},
      "inputs": [
        {
          "description": "{ \"annotation\": \"Select data to analyze.\", \"order\":0, \"validator\":\"(selection &amp;&amp; selection.length &gt; 1)?'':'Please select at least two datasets'\" }",
          "name": "Input datasets"
        }
      ],
      "label": "Input datasets",
      "name": "Input dataset collection",
      "outputs": [],
      "position": {
        "left": 0,
        "top": 204.54998779296875
      },
      "tool_id": null,
      "tool_state": "{\"optional\": false, \"format\": [\"genbank\", \"gbk\", \"gb\", \"embl\", \"gbff\"], \"tag\": null, \"collection_type\": \"list\"}",
      "tool_version": null,
      "type": "data_collection_input",
      "uuid": "70e8e85a-7697-4d41-a22c-65ec20e95cb1",
      "workflow_outputs": []
    },
    "1": {
      "annotation": "{ \"type\": \"dbkey_input\", \"annotation\": \"Select a reference genome to align draft input data\", \"order\":3, \"collapse\":true }",
      "content_id": null,
      "errors": null,
      "id": 1,
      "input_connections": {},
      "inputs": [
        {
          "description": "{ \"type\": \"dbkey_input\", \"annotation\": \"Select a reference genome to align draft input data\", \"order\":3, \"collapse\":true }",
          "name": "Reference Genome"
        }
      ],
      "label": "Reference Genome",
      "name": "Input parameter",
      "outputs": [],
      "position": {
        "left": 1.933349609375,
        "top": 286.5333251953125
      },
      "tool_id": null,
      "tool_state": "{\"default\": \"\", \"parameter_type\": \"text\", \"optional\": true}",
      "tool_version": null,
      "type": "parameter_input",
      "uuid": "1b3cd84e-2511-4b10-b12a-0463c0993b41",
      "workflow_outputs": []
    },
    "2": {
      "annotation": "{ \"annotation\": \"Select tree to use for alignment order.\", \"order\":1, \"collapse\":true }",
      "content_id": null,
      "errors": null,
      "id": 2,
      "input_connections": {},
      "inputs": [
        {
          "description": "{ \"annotation\": \"Select tree to use for alignment order.\", \"order\":1, \"collapse\":true }",
          "name": "Phylogenetic tree in newick format"
        }
      ],
      "label": "Phylogenetic tree in newick format",
      "name": "Input dataset",
      "outputs": [],
      "position": {
        "left": 1757.033447265625,
        "top": 301.933349609375
      },
      "tool_id": null,
      "tool_state": "{\"optional\": true, \"format\": [\"newick\"], \"tag\": \"\"}",
      "tool_version": null,
      "type": "data_input",
      "uuid": "7b29f05e-4b7f-4901-ba5d-d962e7abdd81",
      "workflow_outputs": []
    },
    "3": {
      "annotation": "{ \"type\": \"select\", \"label\":\"Newick identifier type\",  \"annotation\": \"Select the identifers that are present in the optional newick\", \"order\": 2, \"options\": {\"Accession\":\"False\", \"File name\":\"True\"} }",
      "content_id": null,
      "errors": null,
      "id": 3,
      "input_connections": {},
      "inputs": [
        {
          "description": "{ \"type\": \"select\", \"label\":\"Newick identifier type\",  \"annotation\": \"Select the identifers that are present in the optional newick\", \"order\": 2, \"options\": {\"Accession\":\"False\", \"File name\":\"True\"} }",
          "name": "Newick Identifiers"
        }
      ],
      "label": "Newick Identifiers",
      "name": "Input parameter",
      "outputs": [],
      "position": {
        "left": 1759.85009765625,
        "top": 816.8333129882812
      },
      "tool_id": null,
      "tool_state": "{\"default\": \"False\", \"restrictions\": [\"True\", \"False\"], \"parameter_type\": \"text\", \"optional\": true}",
      "tool_version": null,
      "type": "parameter_input",
      "uuid": "e6783990-245a-4244-8ad7-63a1cc398ccd",
      "workflow_outputs": []
    },
    "4": {
      "annotation": "",
      "id": 4,
      "input_connections": {
        "Draft data": {
          "id": 0,
          "input_subworkflow_step_id": 0,
          "output_name": "output"
        },
        "Reference dbkey": {
          "id": 1,
          "input_subworkflow_step_id": 1,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Prepare drafts",
      "outputs": [],
      "position": {
        "left": 280,
        "top": 241
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Prepare drafts",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Draft data"
              }
            ],
            "label": "Draft data",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 0,
              "top": 168.6666717529297
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "8e013c6e-9a6e-4385-81e7-f6fc5d7975f8",
            "workflow_outputs": []
          },
          "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Reference dbkey"
              }
            ],
            "label": "Reference dbkey",
            "name": "Input parameter",
            "outputs": [],
            "position": {
              "left": 1315.1666259765625,
              "top": 37
            },
            "tool_id": null,
            "tool_state": "{\"default\": \"\", \"parameter_type\": \"text\", \"optional\": true}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "4f77ee0d-723e-473d-acf0-001dc02bad73",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "92681964-c358-432a-9f2b-5e1ede56e088"
              }
            ]
          },
          "2": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
            "errors": null,
            "id": 2,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool BioPython SeqIO Converter",
                "name": "input"
              }
            ],
            "label": "To Genbank",
            "name": "BioPython SeqIO Converter",
            "outputs": [
              {
                "name": "info_output",
                "type": "gff3"
              },
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 323.16668701171875,
              "top": 172.8333282470703
            },
            "post_job_actions": {
              "HideDatasetActioninfo_output": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "info_output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActioninfo_output": {
                "action_arguments": {
                  "newname": "#{input} Record Info"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "info_output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "#{input} as Genbank"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
            "tool_shed_repository": {
              "changeset_revision": "1c71c770bfd4",
              "name": "biopython_convert",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"bioperl\": \"false\", \"info\": \"true\", \"input\": {\"__class__\": \"RuntimeValue\"}, \"output_type\": \"genbank\", \"query\": \"[?!(features[?type==`source`].qualifiers.plasmid)]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "9e832946-e477-47c8-9071-17b95cc2857a",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 3,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 2,
                "output_name": "info_output"
              }
            },
            "inputs": [],
            "label": "Find drafts",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 795.1666870117188,
              "top": 410
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Found drafts"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Count number of contigs and output ids of drafts\\nBEGINFILE { i=0; }\\n/^[^#]/ { ++i; }\\ni > 1 { print tool_input_id; i=0; nextfile }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "45f58a87-87a4-4a67-be56-e10dd4432d71",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "content_id": "__FILTER_FROM_FILE__",
            "errors": null,
            "id": 4,
            "input_connections": {
              "how|filter_source": {
                "id": 3,
                "output_name": "outfile"
              },
              "input": {
                "id": 2,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Separate datasets that need stitching",
            "name": "Filter collection",
            "outputs": [
              {
                "name": "output_filtered",
                "type": "input"
              },
              {
                "name": "output_discarded",
                "type": "input"
              }
            ],
            "position": {
              "left": 1189.1666259765625,
              "top": 167
            },
            "post_job_actions": {
              "HideDatasetActionoutput_discarded": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_discarded"
              },
              "HideDatasetActionoutput_filtered": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_filtered"
              },
              "RenameDatasetActionoutput_discarded": {
                "action_arguments": {
                  "newname": "Single contig"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output_discarded"
              },
              "RenameDatasetActionoutput_filtered": {
                "action_arguments": {
                  "newname": "Multi-contig"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output_filtered"
              }
            },
            "tool_id": "__FILTER_FROM_FILE__",
            "tool_state": "{\"how\": {\"how_filter\": \"remove_if_absent\", \"__current_case__\": 0, \"filter_source\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "28decac5-5641-4ea0-a27c-e7daff611c99",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 5,
            "input_connections": {
              "envs_0|val": {
                "id": 1,
                "output_name": "output"
              },
              "infiles_0|input_type_selection|infile": {
                "id": 4,
                "output_name": "output_filtered"
              }
            },
            "inputs": [],
            "label": "Optional Ref Logic",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1611.1666259765625,
              "top": 99
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "To be aligned"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# If the reference is set, print all input ids\\nBEGIN { if (ENVIRON[\\\"reference\\\"] == \\\"\\\") exit 0; }\\n{ print tool_input_id; nextfile }\", \"envs\": [{\"__index__\": 0, \"name\": \"reference\", \"val\": {\"__class__\": \"ConnectedValue\"}}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "85d11416-ebf2-41e1-bc59-1125ac5b1657",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "__FILTER_FROM_FILE__",
            "errors": null,
            "id": 6,
            "input_connections": {
              "how|filter_source": {
                "id": 5,
                "output_name": "outfile"
              },
              "input": {
                "id": 4,
                "output_name": "output_filtered"
              }
            },
            "inputs": [],
            "label": "Redirect Datasets",
            "name": "Filter collection",
            "outputs": [
              {
                "name": "output_filtered",
                "type": "input"
              },
              {
                "name": "output_discarded",
                "type": "input"
              }
            ],
            "position": {
              "left": 1930.166748046875,
              "top": 265
            },
            "post_job_actions": {
              "HideDatasetActionoutput_discarded": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_discarded"
              },
              "HideDatasetActionoutput_filtered": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_filtered"
              },
              "RenameDatasetActionoutput_discarded": {
                "action_arguments": {
                  "newname": "No reference"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output_discarded"
              },
              "RenameDatasetActionoutput_filtered": {
                "action_arguments": {
                  "newname": "To Stitch"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output_filtered"
              }
            },
            "tool_id": "__FILTER_FROM_FILE__",
            "tool_state": "{\"how\": {\"how_filter\": \"remove_if_absent\", \"__current_case__\": 0, \"filter_source\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "73b43d86-2883-4422-9ef9-9e8e09631fd8",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover/1.0",
            "errors": null,
            "id": 7,
            "input_connections": {
              "draft": {
                "id": 6,
                "output_name": "output_filtered"
              },
              "ref_select|ref_db": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Mauve Contig Mover",
            "outputs": [
              {
                "name": "reordered",
                "type": "fasta"
              },
              {
                "name": "backbone",
                "type": "tabular"
              },
              {
                "name": "contigs",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 2239.166748046875,
              "top": 0
            },
            "post_job_actions": {
              "HideDatasetActionbackbone": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "backbone"
              },
              "HideDatasetActioncontigs": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "contigs"
              },
              "HideDatasetActionreordered": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "reordered"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover/1.0",
            "tool_shed_repository": {
              "changeset_revision": "4c4838703fa8",
              "name": "mauve_contig_mover",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"draft\": {\"__class__\": \"ConnectedValue\"}, \"ref_select\": {\"ref_source\": \"db\", \"__current_case__\": 1, \"ref_db\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "72d03a95-2d83-4bc0-a445-30630ed2e1b6",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
            "errors": null,
            "id": 8,
            "input_connections": {
              "draft": {
                "id": 6,
                "output_name": "output_discarded"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool Mauve Contig Mover - Stitch",
                "name": "contigs"
              }
            ],
            "label": null,
            "name": "Mauve Contig Mover - Stitch",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 2599.166748046875,
              "top": 536.5
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
            "tool_shed_repository": {
              "changeset_revision": "4c4838703fa8",
              "name": "mauve_contig_mover",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"contigs\": {\"__class__\": \"RuntimeValue\"}, \"draft\": {\"__class__\": \"ConnectedValue\"}, \"pad_len\": \"1000\", \"seqid\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "3f6659d4-a9d7-4c4f-b2c4-7ee638e16275",
            "workflow_outputs": []
          },
          "9": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
            "errors": null,
            "id": 9,
            "input_connections": {
              "contigs": {
                "id": 7,
                "output_name": "contigs"
              },
              "draft": {
                "id": 6,
                "output_name": "output_filtered"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Mauve Contig Mover - Stitch",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 2599.166748046875,
              "top": 351
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
            "tool_shed_repository": {
              "changeset_revision": "4c4838703fa8",
              "name": "mauve_contig_mover",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"contigs\": {\"__class__\": \"ConnectedValue\"}, \"draft\": {\"__class__\": \"ConnectedValue\"}, \"pad_len\": \"1000\", \"seqid\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "b2a8015e-ccb6-42c9-aedf-86220ae57145",
            "workflow_outputs": []
          },
          "10": {
            "annotation": "",
            "content_id": "__MERGE_COLLECTION__",
            "errors": null,
            "id": 10,
            "input_connections": {
              "inputs_0|input": {
                "id": 9,
                "output_name": "output"
              },
              "inputs_1|input": {
                "id": 8,
                "output_name": "output"
              },
              "inputs_2|input": {
                "id": 4,
                "output_name": "output_discarded"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Merge collections",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 2998.166748046875,
              "top": 711
            },
            "post_job_actions": {
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Prepared Data"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__MERGE_COLLECTION__",
            "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_conflict_rest\", \"__current_case__\": 1, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 2, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "206cd79e-d1bd-4a4b-be81-d22e5a89b817",
            "workflow_outputs": [
              {
                "label": "Single Contig Data",
                "output_name": "output",
                "uuid": "ad1ec5a9-8b6b-492f-a7ac-ca59249975a3"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "04008593-e917-47b6-9ac1-931f199f9400"
      },
      "tool_id": "07b20a693cfd9516",
      "type": "subworkflow",
      "uuid": "8d8744eb-2c01-4d14-b9b7-810e76b6a94b",
      "workflow_outputs": [
        {
          "label": "Prepared data",
          "output_name": "Single Contig Data",
          "uuid": "413ae14a-993b-4d78-88c5-109453f98a66"
        }
      ]
    },
    "5": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/make_unique_id/make-unique-id/1.0",
      "errors": null,
      "id": 5,
      "input_connections": {
        "inputs": {
          "id": 4,
          "output_name": "Single Contig Data"
        }
      },
      "inputs": [],
      "label": "Assign unique IDs",
      "name": "BioPython Make Unique ID",
      "outputs": [
        {
          "name": "outputs",
          "type": "input"
        }
      ],
      "position": {
        "left": 500.16668701171875,
        "top": 273.066650390625
      },
      "post_job_actions": {
        "RenameDatasetActionoutputs": {
          "action_arguments": {
            "newname": "Stitched genomes"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outputs"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/make_unique_id/make-unique-id/1.0",
      "tool_shed_repository": {
        "changeset_revision": "85167b9e6c7a",
        "name": "make_unique_id",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "638ee4d0-59fb-4364-9109-467ecacaedb7",
      "workflow_outputs": [
        {
          "label": "Stitched genomes",
          "output_name": "outputs",
          "uuid": "c6727de9-6c45-4b25-987c-4a1a6d276764"
        }
      ]
    },
    "6": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
      "errors": null,
      "id": 6,
      "input_connections": {
        "input": {
          "id": 5,
          "output_name": "outputs"
        }
      },
      "inputs": [],
      "label": "To GFF3",
      "name": "BioPython SeqIO Converter",
      "outputs": [
        {
          "name": "info_output",
          "type": "gff3"
        },
        {
          "name": "output",
          "type": "txt"
        }
      ],
      "position": {
        "left": 823.1500244140625,
        "top": 0
      },
      "post_job_actions": {
        "HideDatasetActioninfo_output": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "info_output"
        },
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "#{input} as GFF3"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
      "tool_shed_repository": {
        "changeset_revision": "1c71c770bfd4",
        "name": "biopython_convert",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"bioperl\": \"false\", \"info\": \"true\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_type\": \"gff3\", \"query\": \"[0]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "172a6711-b851-4dda-b18b-4ac46b724bd6",
      "workflow_outputs": []
    },
    "7": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
      "errors": null,
      "id": 7,
      "input_connections": {
        "input": {
          "id": 5,
          "output_name": "outputs"
        }
      },
      "inputs": [],
      "label": "To Fasta",
      "name": "BioPython SeqIO Converter",
      "outputs": [
        {
          "name": "output",
          "type": "txt"
        }
      ],
      "position": {
        "left": 830.566650390625,
        "top": 671.7166748046875
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutput": {
          "action_arguments": {
            "newtype": "fasta"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "output"
        },
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "#{input} as Fasta"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
      "tool_shed_repository": {
        "changeset_revision": "1c71c770bfd4",
        "name": "biopython_convert",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"bioperl\": \"false\", \"info\": \"false\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_type\": \"fasta\", \"query\": \"[0]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "c4c82b13-cdb3-48be-8746-02957e667108",
      "workflow_outputs": []
    },
    "8": {
      "annotation": "",
      "id": 8,
      "input_connections": {
        "Genbank/EMBL": {
          "id": 5,
          "input_subworkflow_step_id": 0,
          "output_name": "outputs"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Detect genomic islands",
      "outputs": [],
      "position": {
        "left": 1025.949951171875,
        "top": 305.5
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Detect genomic islands",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Genbank/EMBL"
              }
            ],
            "label": "Genbank/EMBL",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 0,
              "top": 0
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "6ef436e0-44bc-48c6-85a7-5df187f4f473",
            "workflow_outputs": []
          },
          "1": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
            "errors": null,
            "id": 1,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool BioPython SeqIO Converter",
                "name": "input"
              }
            ],
            "label": "To EMBL",
            "name": "BioPython SeqIO Converter",
            "outputs": [
              {
                "name": "info_output",
                "type": "gff3"
              },
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 253,
              "top": 17
            },
            "post_job_actions": {
              "HideDatasetActioninfo_output": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "info_output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
            "tool_shed_repository": {
              "changeset_revision": "1c71c770bfd4",
              "name": "biopython_convert",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"bioperl\": \"true\", \"info\": \"true\", \"input\": {\"__class__\": \"RuntimeValue\"}, \"output_type\": \"embl\", \"query\": \"[0]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "c082d7d7-52de-43bd-bada-5fba71f35a0f",
            "workflow_outputs": []
          },
          "2": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/islandpath/islandpath/1.0.6",
            "errors": null,
            "id": 2,
            "input_connections": {
              "input": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool IslandPath",
                "name": "input"
              }
            ],
            "label": null,
            "name": "IslandPath",
            "outputs": [
              {
                "name": "output",
                "type": "gff"
              }
            ],
            "position": {
              "left": 558.5,
              "top": 185
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/islandpath/islandpath/1.0.6",
            "tool_shed_repository": {
              "changeset_revision": "7cb1fb9b582e",
              "name": "islandpath",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"input\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "cc3d3030-1d59-4e84-9fc1-174dc69e6dc1",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/colombo/sigihmm/3.8.0",
            "errors": null,
            "id": 3,
            "input_connections": {
              "input": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool SigiHMM",
                "name": "cut"
              },
              {
                "description": "runtime parameter for tool SigiHMM",
                "name": "input"
              }
            ],
            "label": null,
            "name": "SigiHMM",
            "outputs": [
              {
                "name": "output",
                "type": "embl"
              },
              {
                "name": "gff",
                "type": "gff"
              }
            ],
            "position": {
              "left": 565.1666870117188,
              "top": 464.5
            },
            "post_job_actions": {
              "HideDatasetActiongff": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "gff"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/colombo/sigihmm/3.8.0",
            "tool_shed_repository": {
              "changeset_revision": "7fe2bd997c49",
              "name": "colombo",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"cut\": {\"__class__\": \"RuntimeValue\"}, \"input\": {\"__class__\": \"RuntimeValue\"}, \"join\": \"1\", \"outlier\": \"false\", \"phx\": \"true\", \"sens\": \"0.7\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "4d6236ef-f524-46b4-afaf-87436634c74a",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 4,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 1,
                "output_name": "info_output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 2,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Recover IslandPath sequence IDs",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 841.1666259765625,
              "top": 46.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "IslandPath islands w. ID"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Replace all sequence IDs in second tool input with first sequence ID in first tool input\\nBEGIN { FS=OFS=\\\"\\\\t\\\"; }\\ntool_input == 0 && /^[^#]/ { id = $1; nextfile }\\ntool_input == 1 && /^[^#]/ { $1 = id }\\ntool_input == 1 { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "17e9ac6b-1a0b-4ec4-9bb7-0e11cf516414",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 5,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 1,
                "output_name": "info_output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 3,
                "output_name": "gff"
              }
            },
            "inputs": [],
            "label": "Recover Sigi sequence IDs",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 840.1666259765625,
              "top": 281.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Uncollapsed Sigi islands w. IDs"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Replace all sequence IDs in second tool input with first sequence ID in first tool input\\nBEGIN { FS=OFS=\\\"\\\\t\\\"; }\\ntool_input == 0 && /^[^#]/ { id = $1; nextfile }\\ntool_input == 1 && /^[^#]/ { $1 = id; $9 = \\\"ID=\\\" tool_input_id \\\"_gi\\\" FNR; }\\ntool_input == 1 { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "8ceb87ba-1856-47fc-9b70-7227e6e052f9",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "__FILTER_FAILED_DATASETS__",
            "errors": null,
            "id": 6,
            "input_connections": {
              "input": {
                "id": 4,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Filter failed datasets",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1260,
              "top": 142.83331298828125
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__FILTER_FAILED_DATASETS__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "df4dfc8f-a237-46f7-995d-25cd22039aa6",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 7,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 5,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": "Collapse Sigi Islands",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1071.1666259765625,
              "top": 280
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Collapsed Sigi islands"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# TODO Replace with feature_merge\\nBEGIN { \\n    FS=OFS=\\\"\\\\t\\\";\\n    inIsland = 0; # Flag to track that the next record is part of the same island\\n    print \\\"##gff-version 3\\\";\\n    src = \\\"Colombo/SigiHMM\\\"; # Force source to Colombo v4 output for future compatibility\\n}\\n\\ntool_input == 0 && /^#/ { print; next; }\\ntool_input == 0 && $4 == \\\"1\\\" || $5 == \\\"0\\\" { next } # Some results contain lines where start is 1 / end is 0. Skip to avoid erroneous GIs\\ntool_input == 0 && $3 == \\\"PUTAL\\\" && !inIsland { \\n    #sub(/;$/, \\\"\\\", $1); # Remove trailing garbage SigiHMM attaches to id\\n    id = $1;\\n    #src = $2;\\n    start = $4; end = $5;\\n    inIsland = 1;\\n    next;\\n}\\ntool_input == 0 && $3 == \\\"PUTAL\\\" && inIsland { end = $5; next }\\ntool_input == 0 && $3 != \\\"PUTAL\\\" && inIsland { print id, src, \\\"genomic_island\\\", start, end, \\\".\\\", \\\".\\\", \\\".\\\", \\\"\\\"; inIsland=0; }\\nEND { if (inIsland) print id, src, \\\"genomic_island\\\", start, end, \\\".\\\", \\\".\\\", \\\".\\\", \\\"\\\"; }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "051b9344-3acc-408c-8cbc-4d8b85c4df28",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "__FILTER_FAILED_DATASETS__",
            "errors": null,
            "id": 8,
            "input_connections": {
              "input": {
                "id": 7,
                "output_name": "outfile"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool Filter failed datasets",
                "name": "input"
              }
            ],
            "label": null,
            "name": "Filter failed datasets",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1259.1666259765625,
              "top": 274.5
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__FILTER_FAILED_DATASETS__",
            "tool_state": "{\"input\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "2b65e668-b8ee-4d0c-8a98-06a317487d53",
            "workflow_outputs": []
          },
          "9": {
            "annotation": "",
            "content_id": "__MERGE_COLLECTION__",
            "errors": null,
            "id": 9,
            "input_connections": {
              "inputs_0|input": {
                "id": 6,
                "output_name": "output"
              },
              "inputs_1|input": {
                "id": 8,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Aggregate island calls",
            "name": "Merge collections",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1491,
              "top": 231
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__MERGE_COLLECTION__",
            "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_every\", \"__current_case__\": 2, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"RuntimeValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"RuntimeValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "a993bc8b-37a6-4fcf-872a-6a02689641e2",
            "workflow_outputs": []
          },
          "10": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 10,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 9,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Filter Islands",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1712.166748046875,
              "top": 263.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Unmerged Islands"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"#!/usr/bin/env gawk -f\\n# Filter islands based on size specified in 'minimum_size' environment variable\\nBEGIN { FS=OFS=\\\"\\\\t\\\"; }\\n/^#/ || ($5-$4 >= ENVIRON[\\\"minimum_size\\\"]) { print }\", \"envs\": [{\"__index__\": 0, \"name\": \"minimum_size\", \"val\": \"8000\"}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "0106ccd1-e949-4aca-b995-45122d598bab",
            "workflow_outputs": [
              {
                "label": "Unmerged Islands",
                "output_name": "outfile",
                "uuid": "76fbad50-ee6f-4831-94a9-fc6e880ce01e"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "c77cbceb-09c0-44ae-a270-a968e8737310"
      },
      "tool_id": "9a07063f756f0e80",
      "type": "subworkflow",
      "uuid": "9d5c1946-c6f6-48b9-9c9e-1d36718ab151",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "Unmerged Islands",
          "uuid": "65800201-c9bd-41c9-a09d-c7b609c81c0f"
        }
      ]
    },
    "9": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "errors": null,
      "id": 9,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 6,
          "output_name": "info_output"
        }
      },
      "inputs": [],
      "label": "Append collection ID to records",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "left": 1026.183349609375,
        "top": 24.583328247070312
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Input records"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "tool_shed_repository": {
        "changeset_revision": "df0c8f33c8ea",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"# Attach collection id to end of each gff record\\nfunction gff_encode(v) {\\n    gsub(/\\\\t/, \\\"%09\\\", v);\\n    gsub(/,/, \\\"%2C\\\", v);\\n    gsub(/=/, \\\"%3D\\\", v);\\n    gsub(/;/, \\\"%3B\\\", v);\\n    return v;\\n}\\nBEGIN { FS=OFS=\\\"\\\\t\\\" }\\nBEGINFILE { sub(/_\\\\d+$/, \\\"\\\", tool_input_id) } # Remove hid from id\\n/^[^#]/ { $9 = $9 \\\";userid=\\\" gff_encode(tool_input_id); print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "32a86d05-a483-446b-9486-12d41095395a",
      "workflow_outputs": []
    },
    "10": {
      "annotation": "",
      "id": 10,
      "input_connections": {
        "FASTA": {
          "id": 7,
          "input_subworkflow_step_id": 1,
          "output_name": "output"
        },
        "User newick": {
          "id": 2,
          "input_subworkflow_step_id": 0,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Prepare newick",
      "outputs": [],
      "position": {
        "left": 1987.966552734375,
        "top": 317.04998779296875
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Prepare newick",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "User newick"
              }
            ],
            "label": "User newick",
            "name": "Input dataset",
            "outputs": [],
            "position": {
              "left": 1,
              "top": 8.333328247070312
            },
            "tool_id": null,
            "tool_state": "{\"optional\": true, \"format\": [\"newick\"], \"tag\": null}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "993cb1ef-67e1-41cb-842f-bb436357ac21",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "b4f517a8-8276-4142-a6f9-3ced99066d6e"
              }
            ]
          },
          "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "FASTA"
              }
            ],
            "label": "FASTA",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 0,
              "top": 113.83332824707031
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"format\": [\"fasta\"], \"tag\": null, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "c5d53678-2a44-4288-9bfb-894694e2fbff",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "b81d854e-23c7-4e01-a864-243f7525e263"
              }
            ]
          },
          "2": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 2,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 0,
                "output_name": "output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "newick filter logic",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 320,
              "top": 207.8333282470703
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "To phylogenise"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"tool_input==0 { newick_found=1 }\\ntool_input==1 && !newick_found { print tool_input_id; nextfile }\\n\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "9627194c-c257-4868-b7b1-56bbcd4de342",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "__FILTER_FROM_FILE__",
            "errors": null,
            "id": 3,
            "input_connections": {
              "how|filter_source": {
                "id": 2,
                "output_name": "outfile"
              },
              "input": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Output data for ParSNP",
            "name": "Filter collection",
            "outputs": [
              {
                "name": "output_filtered",
                "type": "input"
              },
              {
                "name": "output_discarded",
                "type": "input"
              }
            ],
            "position": {
              "left": 559,
              "top": 100.83332824707031
            },
            "post_job_actions": {
              "HideDatasetActionoutput_discarded": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_discarded"
              },
              "HideDatasetActionoutput_filtered": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_filtered"
              }
            },
            "tool_id": "__FILTER_FROM_FILE__",
            "tool_state": "{\"how\": {\"how_filter\": \"remove_if_absent\", \"__current_case__\": 0, \"filter_source\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "a5af5cfa-9ab3-4ee5-b61f-f3244a81d62f",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 4,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 3,
                "output_name": "output_filtered"
              }
            },
            "inputs": [],
            "label": "Extract sequence names",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 815.1666717529297,
              "top": 287.00001525878906
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "tabular"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Sequence IDs"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Extract sequence ids and associate to current collection id\\nBEGIN { OFS=FS=\\\"\\\\t\\\" }\\nfunction escape_posix(a) {\\n    gsub(\\\"_\\\", \\\"_esc_\\\", a); # Must be first\\n    gsub(\\\"&\\\", \\\"_amp_\\\", a);\\n    gsub(\\\"/\\\", \\\"_slash_\\\", a);\\n    gsub(/\\\\\\\\/, \\\"_backslash_\\\", a);\\n    gsub(\\\"\\\\\\\\?\\\", \\\"_question_\\\", a);\\n    gsub(\\\"%\\\", \\\"_percent_\\\", a);\\n    gsub(\\\"\\\\\\\\*\\\", \\\"_star_\\\", a);\\n    gsub(\\\":\\\", \\\"_colon_\\\", a);\\n    gsub(\\\"\\\\\\\\|\\\", \\\"_pipe_\\\", a);\\n    gsub(\\\"\\\\\\\"\\\", \\\"_dblquot_\\\", a);\\n    gsub(\\\"<\\\", \\\"_lt_\\\", a);\\n    gsub(\\\">\\\", \\\"_gt_\\\", a);\\n    gsub(\\\"\\\\\\\\.\\\", \\\"_dot_\\\", a);\\n    gsub(\\\" \\\", \\\"_space_\\\", a);\\n    gsub(\\\"\\\\t\\\", \\\"_tab_\\\", a);\\n    gsub(\\\"'\\\", \\\"_quot_\\\", a);\\n    return a;\\n}\\n\\nmatch($0, /^>([^ ]+)/, a) {\\n    name=escape_posix(a[1]);\\n    if (name in names) nextfile;\\n    names[name] = true;\\n    print tool_input_id, name;\\n    nextfile \\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "7def8a89-e1ed-4458-8ca7-3acf38ebb729",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "__RELABEL_FROM_FILE__",
            "errors": null,
            "id": 5,
            "input_connections": {
              "how|labels": {
                "id": 4,
                "output_name": "outfile"
              },
              "input": {
                "id": 3,
                "output_name": "output_filtered"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Relabel identifiers",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1080.1666717529297,
              "top": 184.00001525878906
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "fasta"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__RELABEL_FROM_FILE__",
            "tool_state": "{\"how\": {\"how_select\": \"tabular\", \"__current_case__\": 1, \"labels\": {\"__class__\": \"ConnectedValue\"}, \"strict\": \"false\"}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "4b2c787e-471a-4d8f-a688-9bd6fc8ea428",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "__APPLY_RULES__",
            "errors": null,
            "id": 6,
            "input_connections": {
              "input": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool Apply rules",
                "name": "input"
              }
            ],
            "label": "Map over to avoid error",
            "name": "Apply rules",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1303.6666870117188,
              "top": 83.00001525878906
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__APPLY_RULES__",
            "tool_state": "{\"input\": {\"__class__\": \"RuntimeValue\"}, \"rules\": {\"mapping\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"columns\": [1, 0], \"connectable\": true, \"editing\": false, \"is_workflow\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_value\", \"value\": \"data\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "3dcd09a5-0368-49e9-a61f-f49ca31f7da2",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/parsnp/parsnp/1.2",
            "errors": null,
            "id": 7,
            "input_connections": {
              "genomes": {
                "id": 6,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool ParSNP",
                "name": "adv"
              }
            ],
            "label": null,
            "name": "ParSNP",
            "outputs": [
              {
                "name": "tree",
                "type": "newick"
              },
              {
                "name": "vcf",
                "type": "vcf"
              },
              {
                "name": "ggr",
                "type": "ggr"
              },
              {
                "name": "xfma",
                "type": "xfma"
              }
            ],
            "position": {
              "left": 1542,
              "top": 85.83332824707031
            },
            "post_job_actions": {
              "HideDatasetActionggr": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "ggr"
              },
              "HideDatasetActiontree": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "tree"
              },
              "HideDatasetActionvcf": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "vcf"
              },
              "HideDatasetActionxfma": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "xfma"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/parsnp/parsnp/1.2",
            "tool_shed_repository": {
              "changeset_revision": "d5d5bdee5b94",
              "name": "parsnp",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"adv\": {\"query_genome\": {\"__class__\": \"RuntimeValue\"}, \"use_ids\": \"true\", \"filter_snp\": \"false\", \"min_anchor_len\": {\"anchor_default\": \"true\", \"__current_case__\": 1}, \"d_value\": \"100\", \"lcb_size\": \"25\", \"MUMi_or_curated\": {\"curated\": \"true\", \"__current_case__\": 1}, \"max_diag_diff\": {\"diag_diff_unit\": \"\", \"__current_case__\": 0, \"diag_diff\": \"0.12\"}, \"extend_lcb\": \"false\", \"aligner\": \"muscle\", \"output_unaligned\": \"false\"}, \"genomes\": {\"__class__\": \"ConnectedValue\"}, \"ref_or_gbk\": {\"ref_type\": \"fasta\", \"__current_case__\": 0, \"ref_genome\": {\"random_ref\": \"true\", \"__current_case__\": 1}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "b90ac3a0-c7db-43d3-b29f-9bf98bcaca83",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 8,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 0,
                "output_name": "output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 7,
                "output_name": "tree"
              }
            },
            "inputs": [],
            "label": "Unescape and clean output",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1789.1666870117188,
              "top": 0
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "newick"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Newick"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"function unescape_posix(a) {\\n    gsub(\\\"_amp_\\\", \\\"&\\\", a);\\n    gsub(\\\"_slash_\\\", \\\"/\\\", a);\\n    gsub(\\\"_baskslash_\\\", \\\"\\\\\\\\\\\", a);\\n    gsub(\\\"_question_\\\", \\\"?\\\", a);\\n    gsub(\\\"_percent_\\\", \\\"%\\\", a);\\n    gsub(\\\"_star_\\\", \\\"*\\\", a);\\n    gsub(\\\"_colon_\\\", \\\":\\\", a);\\n    gsub(\\\"_pipe_\\\", \\\"|\\\", a);\\n    gsub(\\\"_dblquot_\\\", \\\"\\\\\\\"\\\", a);\\n    gsub(\\\"_lt_\\\", \\\"<\\\", a);\\n    gsub(\\\"_gt_\\\", \\\">\\\", a);\\n    gsub(\\\"_dot_\\\", \\\".\\\", a);\\n    gsub(\\\"_space_\\\", \\\" \\\", a);\\n    gsub(\\\"_tab_\\\", \\\"\\\\t\\\", a);\\n    gsub(\\\"_quot_\\\", \\\"'\\\", a);\\n    gsub(\\\"_esc_\\\", \\\"_\\\", a); #Must be last\\n    return a;\\n}\\n\\n{ print unescape_posix(gensub(/'([^']+)\\\\.ref'/, \\\"'\\\\\\\\1'\\\", \\\"g\\\", $0)); exit }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "b5731ed9-bcfc-4db4-9589-2bd7cb59b725",
            "workflow_outputs": [
              {
                "label": "Newick",
                "output_name": "outfile",
                "uuid": "e13ff54e-ee23-4e5e-89ab-18c82cc7e4c8"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "8894157f-6b9d-4cbf-b8b8-b5e059da3ca2"
      },
      "tool_id": "17e5bfeab19eba0f",
      "type": "subworkflow",
      "uuid": "db3d421a-8eb1-40ec-bc2e-b88a6d662562",
      "workflow_outputs": [
        {
          "label": "Newick",
          "output_name": "Newick",
          "uuid": "7ec2f45c-cd21-4472-b8be-260fbc15ed87"
        }
      ]
    },
    "11": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/card/rgi/rgi/5.2.1",
      "errors": null,
      "id": 11,
      "input_connections": {
        "input_sequence": {
          "id": 7,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Resistance Gene Identifier (RGI)",
      "outputs": [
        {
          "name": "report",
          "type": "json"
        },
        {
          "name": "summary",
          "type": "tabular"
        }
      ],
      "position": {
        "left": 1992.60009765625,
        "top": 533.683349609375
      },
      "post_job_actions": {
        "HideDatasetActionreport": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "report"
        },
        "HideDatasetActionsummary": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "summary"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/card/rgi/rgi/5.2.1",
      "tool_shed_repository": {
        "changeset_revision": "84bd24ac33fd",
        "name": "rgi",
        "owner": "card",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"alignment_tool\": \"blast\", \"data\": \"NA\", \"db_opts\": {\"db_opts_selector\": \"local\", \"__current_case__\": 1, \"rgi_db_local\": \"latest\", \"rgi_db_hist\": \"\"}, \"include_loose\": \"false\", \"input_sequence\": {\"__class__\": \"ConnectedValue\"}, \"input_type\": \"contig\", \"low_quality\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "6832a4ac-8992-44be-91a0-8d92d10242ef",
      "workflow_outputs": []
    },
    "12": {
      "annotation": "",
      "content_id": "__MERGE_COLLECTION__",
      "errors": null,
      "id": 12,
      "input_connections": {
        "inputs_0|input": {
          "id": 9,
          "output_name": "outfile"
        },
        "inputs_1|input": {
          "id": 6,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Merge collections",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "left": 1251.8499755859375,
        "top": 79.14999389648438
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__MERGE_COLLECTION__",
      "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_conflict_rest\", \"__current_case__\": 1, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "60cba574-dee6-4221-94d3-78f8b8a0b41d",
      "workflow_outputs": []
    },
    "13": {
      "annotation": "",
      "id": 13,
      "input_connections": {
        "Collection ID in newick": {
          "id": 3,
          "input_subworkflow_step_id": 2,
          "output_name": "output"
        },
        "Newick": {
          "id": 10,
          "input_subworkflow_step_id": 1,
          "output_name": "Newick"
        },
        "Sequences to align": {
          "id": 7,
          "input_subworkflow_step_id": 0,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Pairwise align sequences from tree",
      "outputs": [],
      "position": {
        "left": 2317,
        "top": 713.0833129882812
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Pairwise align sequences from tree",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Sequences to align"
              }
            ],
            "label": "Sequences to align",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 5.16668701171875,
              "top": 19
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "52d43b49-ea31-44ba-822d-dc4a7e824f01",
            "workflow_outputs": []
          },
          "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Newick"
              }
            ],
            "label": "Newick",
            "name": "Input dataset",
            "outputs": [],
            "position": {
              "left": 3.16668701171875,
              "top": 281
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": null}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "5bca4417-6b4b-4bd4-9fb4-0b62d23ec429",
            "workflow_outputs": []
          },
          "2": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 2,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Collection ID in newick"
              }
            ],
            "label": "Collection ID in newick",
            "name": "Input parameter",
            "outputs": [],
            "position": {
              "left": 0,
              "top": 478.8500061035156
            },
            "tool_id": null,
            "tool_state": "{\"parameter_type\": \"text\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "23aa0043-8e94-44b8-a3fb-04154a66fd9d",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "6152f6a5-ca7b-4d1f-a8c4-8aa1513356ef"
              }
            ]
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/extract_tree_order/extract-tree-order/1.0",
            "errors": null,
            "id": 3,
            "input_connections": {
              "input": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Extract alignment order",
            "name": "BioPython Phylo Parse Newick Leaf Order",
            "outputs": [
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 252.66668701171875,
              "top": 284
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Alignment order"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/extract_tree_order/extract-tree-order/1.0",
            "tool_shed_repository": {
              "changeset_revision": "eb980e8bb133",
              "name": "extract_tree_order",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "e45c0996-cb40-4f7b-bda9-8cefb2c2c09c",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 4,
            "input_connections": {
              "envs_0|val": {
                "id": 2,
                "output_name": "output"
              },
              "infiles_0|input_type_selection|infile": {
                "id": 0,
                "output_name": "output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 3,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Generate alignment order",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 578.1666870117188,
              "top": 245.5
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Collection order"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"BEGIN { \\n    OFS=FS=\\\"\\\\t\\\";\\n    by_collection_id = ENVIRON[\\\"by_collection_id\\\"] == \\\"True\\\"; # Allow toggling between using accession and collection id as identifiers in newick\\n}\\ntool_input == 0 && by_collection_id {\\n    names[tool_input_id] = tool_input_id;\\n    nextfile;\\n}\\ntool_input == 0 && match($0, /^>([^ ]+)/, a) {\\n    names[a[1]] = tool_input_id;\\n    nextfile;\\n}\\ntool_input == 1 && ($1 in names) {\\n    print names[$1];\\n    delete names[$1];\\n}\\nEND {\\n    # Output elements not found in alignment order\\n    for (name in names) print names[name];\\n}\", \"envs\": [{\"__index__\": 0, \"name\": \"by_collection_id\", \"val\": {\"__class__\": \"ConnectedValue\"}}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "846dbef4-fcad-44e8-a641-676360dadfec",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "__SORTLIST__",
            "errors": null,
            "id": 5,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              },
              "sort_type|sort_file": {
                "id": 4,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": "Sort datasets to order of alignment",
            "name": "Sort collection",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 855.1500244140625,
              "top": 0
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Sequences in Alignment Order"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__SORTLIST__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"sort_type\": {\"sort_type\": \"file\", \"__current_case__\": 2, \"sort_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "12a89f51-a2ce-443f-be2d-1f55c9cb270e",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "__APPLY_RULES__",
            "errors": null,
            "id": 6,
            "input_connections": {
              "input": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Create pairwise invocations",
            "name": "Apply rules",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1195.6500244140625,
              "top": 196
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Alignment file name to seq id"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__APPLY_RULES__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"columns\": [1, 0], \"editing\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"error\": null, \"start\": 0, \"type\": \"add_column_rownum\", \"warn\": null}, {\"error\": null, \"start\": 1, \"type\": \"add_column_rownum\", \"warn\": null}, {\"error\": null, \"target_columns_0\": [1], \"target_columns_1\": [2], \"type\": \"split_columns\", \"warn\": null}, {\"count\": 1, \"error\": null, \"invert\": false, \"type\": \"add_filter_count\", \"warn\": null, \"which\": \"first\"}, {\"count\": 1, \"error\": null, \"invert\": false, \"type\": \"add_filter_count\", \"warn\": null, \"which\": \"last\"}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "adaa14ee-e31e-4823-b260-d53a881e474d",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/progressivemauve/2015_02_13.0",
            "errors": null,
            "id": 7,
            "input_connections": {
              "sequences": {
                "id": 6,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool progressiveMauve",
                "name": "apply_backbone"
              },
              {
                "description": "runtime parameter for tool progressiveMauve",
                "name": "input_guide_tree"
              },
              {
                "description": "runtime parameter for tool progressiveMauve",
                "name": "match_input"
              }
            ],
            "label": null,
            "name": "progressiveMauve",
            "outputs": [
              {
                "name": "output",
                "type": "xmfa"
              },
              {
                "name": "output_backbone_file",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 1492.1500244140625,
              "top": 185.5
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput_backbone_file": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_backbone_file"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/progressivemauve/2015_02_13.0",
            "tool_shed_repository": {
              "changeset_revision": "bdb752f3c6bb",
              "name": "progressivemauve",
              "owner": "iuc",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"apply_backbone\": {\"__class__\": \"RuntimeValue\"}, \"bp_dist_estimate_min_score\": \"0\", \"coding_seeds\": \"false\", \"collinear\": \"false\", \"conservation_distance_scale\": \"0.5\", \"disable_backbone\": \"false\", \"gap_extend\": \"0\", \"gap_open\": \"0\", \"hmm_identity\": \"0.7\", \"hmm_p_go_homologous\": \"1e-05\", \"hmm_p_go_unrelated\": \"1e-09\", \"input_guide_tree\": {\"__class__\": \"RuntimeValue\"}, \"island_gap_size\": \"20\", \"match_input\": {\"__class__\": \"RuntimeValue\"}, \"max_breakpoint_distance_scale\": \"0.5\", \"max_gapped_aligner_length\": \"0\", \"min_scaled_penalty\": \"0\", \"mums\": \"false\", \"no_recursion\": \"false\", \"no_weight_scaling\": \"false\", \"output_backbone\": \"true\", \"output_guide_tree\": \"false\", \"repeat_penalty\": \"negative\", \"scoring_scheme\": \"sp\", \"seed_family\": \"false\", \"seed_weight\": \"0\", \"sequences\": {\"__class__\": \"ConnectedValue\"}, \"skip_gapped_alignment\": \"false\", \"skip_refinement\": \"false\", \"solid_seeds\": \"false\", \"weight\": \"0\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "e2fd1ed5-99b2-452b-b506-19f297d3068f",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "errors": null,
            "id": 8,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 5,
                "output_name": "output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 7,
                "output_name": "output"
              },
              "infiles_2|input_type_selection|infile": {
                "id": 7,
                "output_name": "output_backbone_file"
              }
            },
            "inputs": [],
            "label": "Backbone to GFF",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1826.14990234375,
              "top": 100
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Backbone to GFF for #{infiles_0.input_type_selection.infile}"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
            "tool_shed_repository": {
              "changeset_revision": "df0c8f33c8ea",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Convert progressiveMauves backbone output to GFF3 alignment records\\nfunction abs(v) { return v < 0 ? -v : v }\\nfunction int_to_strand(v) { return v < 0 ? \\\"-\\\" : \\\"+\\\" }\\n\\n# Read sequence names\\ntool_input == 0 && match($0, /^>([^ ]+)/, a) {\\n    file=FILENAME;\\n    sub(/.*\\\\//, \\\"\\\", file);\\n    datasets[file] = a[1];\\n    nextfile\\n}\\n\\n# Read sequence order from XFMA\\ntool_input==1 && match($1, /^#Sequence([0-9]+)File/, a) { ordinals[a[1]-1] = datasets[$2]; next}\\ntool_input==1 && /^#BackboneFile/ { nextfile }\\n\\n# Output alignment\\ntool_input==2 && FNR>1 {\\n    seq=0;\\n    for (i=1; i < NF; i+=2) {\\n        if ($i != \\\"0\\\" && (abs($(i+1) - $i) > ENVIRON[\\\"minimum_homologous_region\\\"])) {\\n            base_seq=seq;\\n            for (j=i+2; j < NF; j+=2) {\\n                ++seq;\\n                if ($j != \\\"0\\\" && (abs($(j+1) - $j) > ENVIRON[\\\"minimum_homologous_region\\\"])) {\\n                    print ordinals[base_seq], \\\"progressiveMauve\\\", \\\"match\\\", abs($i), abs($(i+1)), \\\".\\\", int_to_strand($i), \\\".\\\", \\\"Target=\\\" ordinals[seq] \\\" \\\" abs($j) \\\" \\\" abs($(j+1)) \\\" \\\" int_to_strand($j);\\n                }\\n            }\\n            break;\\n        }\\n        ++seq;\\n    }\\n    next\\n}\\n\", \"envs\": [{\"__index__\": 0, \"name\": \"minimum_homologous_region\", \"val\": \"50\"}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 2, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "11eb5ca9-b645-4428-b394-4f47bd9ac874",
            "workflow_outputs": []
          },
          "9": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "errors": null,
            "id": 9,
            "input_connections": {
              "inputs": {
                "id": 8,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": "Concatentate pairwise alignments",
            "name": "Concatenate datasets",
            "outputs": [
              {
                "name": "out_file1",
                "type": "input"
              }
            ],
            "position": {
              "left": 2058.14990234375,
              "top": 225.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionout_file1": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "out_file1"
              },
              "RenameDatasetActionout_file1": {
                "action_arguments": {
                  "newname": "Pairwise Alignments"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "7857e95a-4578-432c-97a3-872b27904d9e",
            "workflow_outputs": [
              {
                "label": "Pairwise Alignments",
                "output_name": "out_file1",
                "uuid": "93de9415-26b5-47ec-a37b-b9868f7b49cb"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "f3395b2b-01c2-42a9-b03c-a6b675587465"
      },
      "tool_id": "7348e19f5e8339f5",
      "type": "subworkflow",
      "uuid": "d827c82b-0e8c-498b-aaa2-f7678b16e996",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "Pairwise Alignments",
          "uuid": "fe0cfd91-ef5f-422b-b9be-f8dd3712c71c"
        }
      ]
    },
    "14": {
      "annotation": "",
      "id": 14,
      "input_connections": {
        "Additional annotations": {
          "id": 12,
          "input_subworkflow_step_id": 0,
          "output_name": "output"
        },
        "FASTA": {
          "id": 7,
          "input_subworkflow_step_id": 2,
          "output_name": "output"
        },
        "Predicted Islands": {
          "id": 8,
          "input_subworkflow_step_id": 1,
          "output_name": "Unmerged Islands"
        },
        "Stitched genomes GBK": {
          "id": 5,
          "input_subworkflow_step_id": 3,
          "output_name": "outputs"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Island Check",
      "outputs": [],
      "position": {
        "left": 1442,
        "top": 328
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Island Check",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Additional annotations"
              }
            ],
            "label": "Additional annotations",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 0,
              "top": 0.0833282470703125
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "176f4462-9319-43d1-b831-e34d7e4baef0",
            "workflow_outputs": []
          },
          "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Predicted Islands"
              }
            ],
            "label": "Predicted Islands",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 5.9166717529296875,
              "top": 129
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "53fb6293-9262-4e96-b381-3293a1fcb811",
            "workflow_outputs": []
          },
          "2": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 2,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "FASTA"
              }
            ],
            "label": "FASTA",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 1.899993896484375,
              "top": 374.433349609375
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "2833353d-6216-4904-badd-a5d19f2b5189",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 3,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Stitched genomes GBK"
              }
            ],
            "label": "Stitched genomes GBK",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 1.1666717529296875,
              "top": 514.4666748046875
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "adfde03d-7714-4f3e-8bba-4b237c210a2a",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "id": 4,
            "input_connections": {
              "Fasta": {
                "id": 2,
                "input_subworkflow_step_id": 0,
                "output_name": "output"
              },
              "Predicted GIs": {
                "id": 1,
                "input_subworkflow_step_id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "BLAST Check",
            "outputs": [],
            "position": {
              "left": 220.45001220703125,
              "top": 254.98333740234375
            },
            "subworkflow": {
              "a_galaxy_workflow": "true",
              "annotation": "",
              "format-version": "0.1",
              "name": "BLAST Check",
              "steps": {
                "0": {
                  "annotation": "",
                  "content_id": null,
                  "errors": null,
                  "id": 0,
                  "input_connections": {},
                  "inputs": [
                    {
                      "description": "",
                      "name": "Fasta"
                    }
                  ],
                  "label": "Fasta",
                  "name": "Input dataset collection",
                  "outputs": [],
                  "position": {
                    "left": 5.995018802471975,
                    "top": 36.56716417910445
                  },
                  "tool_id": null,
                  "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
                  "tool_version": null,
                  "type": "data_collection_input",
                  "uuid": "b1c9b980-c88d-4be0-b443-162baf35712d",
                  "workflow_outputs": []
                },
                "1": {
                  "annotation": "",
                  "content_id": null,
                  "errors": null,
                  "id": 1,
                  "input_connections": {},
                  "inputs": [
                    {
                      "description": "",
                      "name": "Predicted GIs"
                    }
                  ],
                  "label": "Predicted GIs",
                  "name": "Input dataset collection",
                  "outputs": [],
                  "position": {
                    "left": 0,
                    "top": 233.98009342933761
                  },
                  "tool_id": null,
                  "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
                  "tool_version": null,
                  "type": "data_collection_input",
                  "uuid": "a94db30f-db8f-49ae-bba9-b5fa89c80657",
                  "workflow_outputs": []
                },
                "2": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_makeblastdb/0.3.3",
                  "errors": null,
                  "id": 2,
                  "input_connections": {
                    "input_file": {
                      "id": 0,
                      "output_name": "output"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool NCBI BLAST+ makeblastdb",
                      "name": "input_file"
                    },
                    {
                      "description": "runtime parameter for tool NCBI BLAST+ makeblastdb",
                      "name": "mask_data_file"
                    }
                  ],
                  "label": "Genomes BLAST Database",
                  "name": "NCBI BLAST+ makeblastdb",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "data"
                    }
                  ],
                  "position": {
                    "left": 783.0597379314365,
                    "top": 143.28358208955223
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutfile": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_makeblastdb/0.3.3",
                  "tool_shed_repository": {
                    "changeset_revision": "2889433c7ae1",
                    "name": "ncbi_blast_plus",
                    "owner": "devteam",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"dbtype\": \"nucl\", \"hash_index\": \"false\", \"input_file\": {\"__class__\": \"RuntimeValue\"}, \"mask_data_file\": {\"__class__\": \"RuntimeValue\"}, \"parse_seqids\": \"false\", \"tax\": {\"taxselect\": \"\", \"__current_case__\": 0}, \"title\": \"Genomes\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "7c3d3a1c-b0a9-4b67-9085-2f065b3fc028",
                  "workflow_outputs": []
                },
                "3": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "errors": null,
                  "id": 3,
                  "input_connections": {
                    "infiles_0|input_type_selection|infile": {
                      "id": 1,
                      "output_name": "output"
                    }
                  },
                  "inputs": [],
                  "label": "Remove Comments",
                  "name": "AWK Script",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "txt"
                    }
                  ],
                  "position": {
                    "left": 207.81095134678174,
                    "top": 220.84573774195422
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutfile": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "df0c8f33c8ea",
                    "name": "awkscript",
                    "owner": "brinkmanlab",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"code\": \"$0 !~ /^#/ {print}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "1061ba72-f3d0-445a-808b-823f62882ee2",
                  "workflow_outputs": []
                },
                "4": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
                  "errors": null,
                  "id": 4,
                  "input_connections": {
                    "inputs": {
                      "id": 3,
                      "output_name": "outfile"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool Concatenate datasets",
                      "name": "inputs"
                    }
                  ],
                  "label": null,
                  "name": "Concatenate datasets",
                  "outputs": [
                    {
                      "name": "out_file1",
                      "type": "input"
                    }
                  ],
                  "position": {
                    "left": 391.51747973997203,
                    "top": 261.44277088677705
                  },
                  "post_job_actions": {
                    "ChangeDatatypeActionout_file1": {
                      "action_arguments": {
                        "newtype": "gff"
                      },
                      "action_type": "ChangeDatatypeAction",
                      "output_name": "out_file1"
                    },
                    "HideDatasetActionout_file1": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "out_file1"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
                  "tool_shed_repository": {
                    "changeset_revision": "a6f147a050a2",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"inputs\": {\"__class__\": \"RuntimeValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "aa88178e-b2d4-46d1-8992-0f92241cbce2",
                  "workflow_outputs": []
                },
                "5": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
                  "errors": null,
                  "id": 5,
                  "input_connections": {
                    "input": {
                      "id": 4,
                      "output_name": "out_file1"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool Cut",
                      "name": "input"
                    }
                  ],
                  "label": "To BED",
                  "name": "Cut",
                  "outputs": [
                    {
                      "name": "output",
                      "type": "tabular"
                    }
                  ],
                  "position": {
                    "left": 573.607031978778,
                    "top": 303.2586852116371
                  },
                  "post_job_actions": {
                    "ChangeDatatypeActionoutput": {
                      "action_arguments": {
                        "newtype": "bed"
                      },
                      "action_type": "ChangeDatatypeAction",
                      "output_name": "output"
                    },
                    "HideDatasetActionoutput": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output"
                    },
                    "RenameDatasetActionoutput": {
                      "action_arguments": {
                        "newname": "Predicted Islands BED"
                      },
                      "action_type": "RenameDatasetAction",
                      "output_name": "output"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
                  "tool_shed_repository": {
                    "changeset_revision": "a6f147a050a2",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"complement\": \"\", \"cut_type_options\": {\"cut_element\": \"-f\", \"__current_case__\": 0, \"list\": \"1,4,5\"}, \"delimiter\": \"\", \"input\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "7b2d56ec-0b7d-432c-b90f-d740261f1eee",
                  "workflow_outputs": []
                },
                "6": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
                  "errors": null,
                  "id": 6,
                  "input_connections": {
                    "fasta_source|fasta": {
                      "id": 0,
                      "output_name": "output"
                    },
                    "input": {
                      "id": 5,
                      "output_name": "output"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool bedtools GetFastaBed",
                      "name": "fasta_source"
                    },
                    {
                      "description": "runtime parameter for tool bedtools GetFastaBed",
                      "name": "input"
                    }
                  ],
                  "label": null,
                  "name": "bedtools GetFastaBed",
                  "outputs": [
                    {
                      "name": "output",
                      "type": "fasta"
                    }
                  ],
                  "position": {
                    "left": 785.1741961578823,
                    "top": 0
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutput": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output"
                    },
                    "RenameDatasetActionoutput": {
                      "action_arguments": {
                        "newname": "Island Sequences from #{fasta_source.fasta} defined in #{input}"
                      },
                      "action_type": "RenameDatasetAction",
                      "output_name": "output"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
                  "tool_shed_repository": {
                    "changeset_revision": "87ee588b3d45",
                    "name": "bedtools",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"fasta_source\": {\"fasta_source_selector\": \"history\", \"__current_case__\": 0, \"fasta\": {\"__class__\": \"RuntimeValue\"}}, \"input\": {\"__class__\": \"RuntimeValue\"}, \"name\": \"false\", \"split\": \"false\", \"strand\": \"false\", \"tab\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "cd294ca9-a263-4fbf-a605-8fca4e1d8818",
                  "workflow_outputs": []
                },
                "7": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/0.3.3",
                  "errors": null,
                  "id": 7,
                  "input_connections": {
                    "db_opts|histdb": {
                      "id": 2,
                      "output_name": "outfile"
                    },
                    "query": {
                      "id": 6,
                      "output_name": "output"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool NCBI BLAST+ blastn",
                      "name": "db_opts"
                    },
                    {
                      "description": "runtime parameter for tool NCBI BLAST+ blastn",
                      "name": "query"
                    }
                  ],
                  "label": "GI blastn",
                  "name": "NCBI BLAST+ blastn",
                  "outputs": [
                    {
                      "name": "output1",
                      "type": "tabular"
                    }
                  ],
                  "position": {
                    "left": 991.0945152168842,
                    "top": 66.39299535039646
                  },
                  "post_job_actions": {
                    "ChangeDatatypeActionoutput1": {
                      "action_arguments": {
                        "newtype": "tabular"
                      },
                      "action_type": "ChangeDatatypeAction",
                      "output_name": "output1"
                    },
                    "HideDatasetActionoutput1": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output1"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/0.3.3",
                  "tool_shed_repository": {
                    "changeset_revision": "2889433c7ae1",
                    "name": "ncbi_blast_plus",
                    "owner": "devteam",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"adv_opts\": {\"adv_opts_selector\": \"advanced\", \"__current_case__\": 1, \"filter_query\": \"true\", \"strand\": \"-strand both\", \"max_hits\": \"0\", \"max_hsps\": null, \"identity_cutoff\": \"0.0\", \"word_size\": null, \"ungapped\": \"false\", \"parse_deflines\": \"false\", \"adv_optional_id_files_opts\": {\"adv_optional_id_files_opts_selector\": \"none\", \"__current_case__\": 0}, \"qcov_hsp_perc\": \"0.0\", \"window_size\": null, \"gapopen\": null, \"gapextend\": null}, \"blast_type\": \"blastn\", \"db_opts\": {\"db_opts_selector\": \"histdb\", \"__current_case__\": 1, \"database\": \"\", \"histdb\": {\"__class__\": \"RuntimeValue\"}, \"subject\": \"\"}, \"evalue_cutoff\": \"0.001\", \"output\": {\"out_format\": \"cols\", \"__current_case__\": 2, \"std_cols\": [\"qseqid\", \"sseqid\", \"pident\", \"length\", \"mismatch\", \"gapopen\", \"qstart\", \"qend\", \"sstart\", \"send\", \"evalue\", \"bitscore\"], \"ext_cols\": [\"qlen\"], \"ids_cols\": null, \"misc_cols\": null, \"tax_cols\": null}, \"query\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "0b0c4831-6d71-4d99-b4a3-72b83b162be8",
                  "workflow_outputs": []
                },
                "8": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "errors": null,
                  "id": 8,
                  "input_connections": {
                    "infiles_0|input_type_selection|infile": {
                      "id": 7,
                      "output_name": "output1"
                    }
                  },
                  "inputs": [],
                  "label": "BLAST Hit Filter",
                  "name": "AWK Script",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "txt"
                    }
                  ],
                  "position": {
                    "left": 1180.9452797049905,
                    "top": 161.96516805620337
                  },
                  "post_job_actions": {
                    "ChangeDatatypeActionoutfile": {
                      "action_arguments": {
                        "newtype": "tabular"
                      },
                      "action_type": "ChangeDatatypeAction",
                      "output_name": "outfile"
                    },
                    "HideDatasetActionoutfile": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "df0c8f33c8ea",
                    "name": "awkscript",
                    "owner": "brinkmanlab",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"code\": \"$3>=90 && $4>400 && $11<1.63e-7 {print $1, $2, $4, $7, $8, $9, $10, ($9<$10 ? \\\"+\\\" : \\\"-\\\"), $13}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "e27b5786-df8b-40b8-84fa-34c1c5b87f70",
                  "workflow_outputs": []
                },
                "9": {
                  "annotation": "",
                  "content_id": "__FILTER_EMPTY_DATASETS__",
                  "errors": null,
                  "id": 9,
                  "input_connections": {
                    "input": {
                      "id": 8,
                      "output_name": "outfile"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool Filter empty datasets",
                      "name": "input"
                    }
                  ],
                  "label": null,
                  "name": "Filter empty datasets",
                  "outputs": [
                    {
                      "name": "output",
                      "type": "input"
                    }
                  ],
                  "position": {
                    "left": 1367.537404530084,
                    "top": 186.7164270201726
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutput": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output"
                    }
                  },
                  "tool_id": "__FILTER_EMPTY_DATASETS__",
                  "tool_state": "{\"input\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "bf57b7d0-5e5a-4d3e-875a-52ae07fee341",
                  "workflow_outputs": []
                },
                "10": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                  "errors": null,
                  "id": 10,
                  "input_connections": {
                    "infile": {
                      "id": 9,
                      "output_name": "output"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool Sort",
                      "name": "infile"
                    }
                  ],
                  "label": "Sort BLAST Hits",
                  "name": "Sort",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "input"
                    }
                  ],
                  "position": {
                    "left": 1557.8856510902517,
                    "top": 243.83084880771918
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutfile": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "a6f147a050a2",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"header\": \"0\", \"ignore_case\": \"false\", \"infile\": {\"__class__\": \"RuntimeValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"1\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 1, \"column\": \"2\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 2, \"column\": \"8\", \"order\": \"r\", \"style\": \"\"}, {\"__index__\": 3, \"column\": \"6\", \"order\": \"\", \"style\": \"n\"}], \"unique\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "fe833044-abe5-44a1-af04-e8a446958101",
                  "workflow_outputs": []
                },
                "11": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "errors": null,
                  "id": 11,
                  "input_connections": {
                    "infiles_0|input_type_selection|infile": {
                      "id": 10,
                      "output_name": "outfile"
                    }
                  },
                  "inputs": [],
                  "label": "Grouping Hits",
                  "name": "AWK Script",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "txt"
                    }
                  ],
                  "position": {
                    "left": 1746.1692696187033,
                    "top": 268.7313250641325
                  },
                  "post_job_actions": {
                    "ChangeDatatypeActionoutfile": {
                      "action_arguments": {
                        "newtype": "gff"
                      },
                      "action_type": "ChangeDatatypeAction",
                      "output_name": "outfile"
                    },
                    "HideDatasetActionoutfile": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "df0c8f33c8ea",
                    "name": "awkscript",
                    "owner": "brinkmanlab",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"code\": \"BEGIN {\\n    getline first\\n    split(first,last_line)\\n    gap_dist=14000\\n    min_length=8000\\n    min_cov=0.95\\n}\\n\\n{\\n    if (($1 == last_line[1]) && ($2 == last_line[2]) && ($8 == last_line[8]) && (($6 < $7) ? ($6 <= last_line[7]+gap_dist) : ($7 <= last_line[6]+gap_dist))) {\\n        if ($8 == \\\"+\\\") {\\n            last_line[6] = (last_line[6] < $6 ? last_line[6] : $6)\\n            last_line[7] = (last_line[7] > $7 ? last_line[7] : $7)\\n        } else {\\n            last_line[6] = (last_line[6] > $6 ? last_line[6] : $6)\\n            last_line[7] = (last_line[7] < $7 ? last_line[7] : $7)\\n        }\\n        if ($4 < last_line[4]) {\\n            last_line[3] += ($5 < last_line[4] ? $5 : last_line[4]-1) - $4 + 1\\n            last_line[4] = $4\\n        }\\n        if ($5 > last_line[5]) {\\n            last_line[3] += $5 - ($4 > last_line[5] ? $4 : last_line[5]+1) + 1\\n            last_line[5] = $5\\n        }\\n        if (last_line[3]<$3) {\\n            last_line[3] = $3\\n        }\\n    } else {\\n        if ((last_line[3] >= min_length) && (last_line[3]/last_line[9]>=min_cov)) {\\n            print last_line[2], \\\"blast\\\", \\\"genomic_island\\\", (last_line[6]<last_line[7] ? last_line[6] : last_line[7]), (last_line[6]<last_line[7] ? last_line[7] : last_line[6]), \\\".\\\", \\\"+\\\", \\\".\\\", \\\"Query=\\\" last_line[1]\\n        }\\n        split($0,last_line)\\n    }\\n}\\n\\nEND {\\n    if ((last_line[3] >= min_length) && (last_line[3]/last_line[9]>=min_cov)) {\\n        print last_line[2], \\\"blast\\\", \\\"genomic_island\\\", (last_line[6]<last_line[7] ? last_line[6] : last_line[7]), (last_line[6]<last_line[7] ? last_line[7] : last_line[6]), \\\".\\\", \\\"+\\\", \\\".\\\", \\\"Query=\\\" last_line[1]\\n    }\\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "89d4acbc-8d56-41f4-80a0-2b2a5fb39276",
                  "workflow_outputs": []
                },
                "12": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
                  "errors": null,
                  "id": 12,
                  "input_connections": {
                    "inputA": {
                      "id": 11,
                      "output_name": "outfile"
                    },
                    "reduce_or_iterate|inputB": {
                      "id": 5,
                      "output_name": "output"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool bedtools Intersect intervals",
                      "name": "inputA"
                    },
                    {
                      "description": "runtime parameter for tool bedtools Intersect intervals",
                      "name": "reduce_or_iterate"
                    }
                  ],
                  "label": "GI Predictor Check",
                  "name": "bedtools Intersect intervals",
                  "outputs": [
                    {
                      "name": "output",
                      "type": "input"
                    }
                  ],
                  "position": {
                    "left": 1926.5921066056435,
                    "top": 294.07958984374994
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutput": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
                  "tool_shed_repository": {
                    "changeset_revision": "87ee588b3d45",
                    "name": "bedtools",
                    "owner": "iuc",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"bed\": \"false\", \"count\": \"false\", \"fraction_cond\": {\"fraction_select\": \"specify\", \"__current_case__\": 1, \"overlap\": \"0.5\", \"reciprocal_cond\": {\"reciprocal\": \"\", \"__current_case__\": 1, \"overlapB\": \"1e-09\", \"disjoint\": \"false\"}}, \"header\": \"false\", \"inputA\": {\"__class__\": \"RuntimeValue\"}, \"invert\": \"true\", \"once\": \"false\", \"overlap_mode\": null, \"reduce_or_iterate\": {\"reduce_or_iterate_selector\": \"iterate\", \"__current_case__\": 0, \"inputB\": {\"__class__\": \"RuntimeValue\"}}, \"sorted\": \"false\", \"split\": \"false\", \"strand\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "dbc9e8e4-a8ba-43fc-b428-ac8a36d762b2",
                  "workflow_outputs": []
                },
                "13": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
                  "errors": null,
                  "id": 13,
                  "input_connections": {
                    "inputs": {
                      "id": 12,
                      "output_name": "output"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool Concatenate datasets",
                      "name": "inputs"
                    }
                  ],
                  "label": "Collect BLAST Groups",
                  "name": "Concatenate datasets",
                  "outputs": [
                    {
                      "name": "out_file1",
                      "type": "input"
                    }
                  ],
                  "position": {
                    "left": 2107.736433797808,
                    "top": 343.1591887972248
                  },
                  "post_job_actions": {
                    "HideDatasetActionout_file1": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "out_file1"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
                  "tool_shed_repository": {
                    "changeset_revision": "a6f147a050a2",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"inputs\": {\"__class__\": \"RuntimeValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "2dbd84bc-9a65-40a8-86a8-3350115f53a4",
                  "workflow_outputs": []
                },
                "14": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                  "errors": null,
                  "id": 14,
                  "input_connections": {
                    "infile": {
                      "id": 13,
                      "output_name": "out_file1"
                    }
                  },
                  "inputs": [
                    {
                      "description": "runtime parameter for tool Sort",
                      "name": "infile"
                    }
                  ],
                  "label": "Sort All BLAST Groups",
                  "name": "Sort",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "input"
                    }
                  ],
                  "position": {
                    "left": 2285.2984528043376,
                    "top": 369.02985074626866
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutfile": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "a6f147a050a2",
                    "name": "text_processing",
                    "owner": "bgruening",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"header\": \"0\", \"ignore_case\": \"false\", \"infile\": {\"__class__\": \"RuntimeValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"1\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 1, \"column\": \"4\", \"order\": \"\", \"style\": \"n\"}], \"unique\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "63dbdc39-7065-4dea-8e12-05fe37076d88",
                  "workflow_outputs": []
                },
                "15": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "errors": null,
                  "id": 15,
                  "input_connections": {
                    "infiles_0|input_type_selection|infile": {
                      "id": 14,
                      "output_name": "outfile"
                    }
                  },
                  "inputs": [],
                  "label": "Filter Redundant",
                  "name": "AWK Script",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "txt"
                    }
                  ],
                  "position": {
                    "left": 2467.338265945662,
                    "top": 409.5273601475047
                  },
                  "post_job_actions": {
                    "ChangeDatatypeActionoutfile": {
                      "action_arguments": {
                        "newtype": "gff"
                      },
                      "action_type": "ChangeDatatypeAction",
                      "output_name": "outfile"
                    },
                    "RenameDatasetActionoutfile": {
                      "action_arguments": {
                        "newname": "BLAST Check"
                      },
                      "action_type": "RenameDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "df0c8f33c8ea",
                    "name": "awkscript",
                    "owner": "brinkmanlab",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"code\": \"BEGIN { \\n    getline first\\n    split(first,last_line)\\n}\\n\\n{\\n    if (($1 == last_line[1]) && ($4 <= last_line[5]) && ($5 >= last_line[4])) {\\n        if (last_line[5]-last_line[4] < $5-$4) {\\n            split($0,last_line)\\n        }\\n    } else {\\n        print join(last_line, \\\"\\\\t\\\")\\n        split($0,last_line)\\n    }\\n}\\n\\nEND {\\n    print join(last_line, \\\"\\\\t\\\")\\n}\\n\\nfunction join(array, sep)\\n{\\n    if (sep == \\\"\\\")\\n       sep = \\\" \\\"\\n    result = \\\"\\\"\\n    for (i=1; i<=length(array); i++) {\\n        if (i==1) {\\n            result = array[i]\\n        } else {\\n            result = result sep array[i]\\n        }\\n    }\\n    return result\\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "3e0d20c5-058f-491b-9661-1cc9b96937c5",
                  "workflow_outputs": [
                    {
                      "label": "BLAST Check",
                      "output_name": "outfile",
                      "uuid": "564200fb-d14f-4dd1-acf5-bf3e5b301a38"
                    }
                  ]
                }
              },
              "tags": "",
              "uuid": "585d9b5b-6afc-43ef-a01e-f8eeff189013"
            },
            "tool_id": "4ecca0a4cee6c77c",
            "type": "subworkflow",
            "uuid": "6d855981-8552-4dcf-b9b7-44c58cb062b1",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "BLAST Check",
                "uuid": "4cc9fc55-74ee-41cb-8334-21b9d1faf061"
              }
            ]
          },
          "5": {
            "annotation": "",
            "id": 5,
            "input_connections": {
              "FASTA Formatted Genomes": {
                "id": 2,
                "input_subworkflow_step_id": 0,
                "output_name": "output"
              },
              "Genbank Formatted Genomes": {
                "id": 3,
                "input_subworkflow_step_id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Curated GI Detection",
            "outputs": [],
            "position": {
              "left": 226,
              "top": 458.5
            },
            "subworkflow": {
              "a_galaxy_workflow": "true",
              "annotation": "",
              "format-version": "0.1",
              "name": "Curated GI Detection",
              "steps": {
                "0": {
                  "annotation": "",
                  "content_id": null,
                  "errors": null,
                  "id": 0,
                  "input_connections": {},
                  "inputs": [
                    {
                      "description": "",
                      "name": "FASTA Formatted Genomes"
                    }
                  ],
                  "label": "FASTA Formatted Genomes",
                  "name": "Input dataset collection",
                  "outputs": [],
                  "position": {
                    "left": 0,
                    "top": 0
                  },
                  "tool_id": null,
                  "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}",
                  "tool_version": null,
                  "type": "data_collection_input",
                  "uuid": "3060d059-caa7-4bcf-a8e1-43fb8d52f661",
                  "workflow_outputs": []
                },
                "1": {
                  "annotation": "",
                  "content_id": null,
                  "errors": null,
                  "id": 1,
                  "input_connections": {},
                  "inputs": [
                    {
                      "description": "",
                      "name": "Genbank Formatted Genomes"
                    }
                  ],
                  "label": "Genbank Formatted Genomes",
                  "name": "Input dataset collection",
                  "outputs": [],
                  "position": {
                    "left": 0,
                    "top": 135.71665954589844
                  },
                  "tool_id": null,
                  "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}",
                  "tool_version": null,
                  "type": "data_collection_input",
                  "uuid": "747ae45d-cedd-4127-aafd-6b935ba13470",
                  "workflow_outputs": []
                },
                "2": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
                  "errors": null,
                  "id": 2,
                  "input_connections": {
                    "input": {
                      "id": 1,
                      "output_name": "output"
                    }
                  },
                  "inputs": [],
                  "label": "Extract organism name",
                  "name": "BioPython SeqIO Converter",
                  "outputs": [
                    {
                      "name": "output",
                      "type": "txt"
                    }
                  ],
                  "position": {
                    "left": 261,
                    "top": 135.71665954589844
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutput": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "1c71c770bfd4",
                    "name": "biopython_convert",
                    "owner": "brinkmanlab",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"bioperl\": \"false\", \"info\": \"false\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_type\": \"text\", \"query\": \"[0].features[? type == `\\\"source\\\"`].qualifiers.organism[0]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "03d6f93f-368c-492a-887d-fdaf787d4c62",
                  "workflow_outputs": []
                },
                "3": {
                  "annotation": "",
                  "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "errors": null,
                  "id": 3,
                  "input_connections": {
                    "infiles_0|input_type_selection|infile": {
                      "id": 2,
                      "output_name": "output"
                    }
                  },
                  "inputs": [],
                  "label": "List Salmonella Files",
                  "name": "AWK Script",
                  "outputs": [
                    {
                      "name": "outfile",
                      "type": "txt"
                    }
                  ],
                  "position": {
                    "left": 500.933349609375,
                    "top": 252.2833251953125
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutfile": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "outfile"
                    }
                  },
                  "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                  "tool_shed_repository": {
                    "changeset_revision": "df0c8f33c8ea",
                    "name": "awkscript",
                    "owner": "brinkmanlab",
                    "tool_shed": "toolshed.g2.bx.psu.edu"
                  },
                  "tool_state": "{\"code\": \"tolower($0) ~ \\\"^\\\" ENVIRON[\\\"target\\\"] { print tool_input_id }\", \"envs\": [{\"__index__\": 0, \"name\": \"target\", \"val\": \"salmonella enterica\"}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "d96d0e5b-b8c0-4c7d-9821-1bb23c022ef7",
                  "workflow_outputs": []
                },
                "4": {
                  "annotation": "",
                  "content_id": "__FILTER_FROM_FILE__",
                  "errors": null,
                  "id": 4,
                  "input_connections": {
                    "how|filter_source": {
                      "id": 3,
                      "output_name": "outfile"
                    },
                    "input": {
                      "id": 0,
                      "output_name": "output"
                    }
                  },
                  "inputs": [],
                  "label": "Filter Salmonella",
                  "name": "Filter collection",
                  "outputs": [
                    {
                      "name": "output_filtered",
                      "type": "input"
                    },
                    {
                      "name": "output_discarded",
                      "type": "input"
                    }
                  ],
                  "position": {
                    "left": 741.933349609375,
                    "top": 16.166671752929688
                  },
                  "post_job_actions": {
                    "HideDatasetActionoutput_discarded": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output_discarded"
                    },
                    "HideDatasetActionoutput_filtered": {
                      "action_arguments": {},
                      "action_type": "HideDatasetAction",
                      "output_name": "output_filtered"
                    }
                  },
                  "tool_id": "__FILTER_FROM_FILE__",
                  "tool_state": "{\"how\": {\"how_filter\": \"remove_if_absent\", \"__current_case__\": 0, \"filter_source\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                  "tool_version": null,
                  "type": "tool",
                  "uuid": "26113434-a48b-4851-b5bd-cd95e2b5ac57",
                  "workflow_outputs": []
                },
                "5": {
                  "annotation": "",
                  "id": 5,
                  "input_connections": {
                    "FASTA Salmonella Genomes": {
                      "id": 4,
                      "input_subworkflow_step_id": 1,
                      "output_name": "output_filtered"
                    }
                  },
                  "inputs": [],
                  "label": null,
                  "name": "Salmonella Curated GI Detection",
                  "outputs": [],
                  "position": {
                    "left": 975,
                    "top": 93.5
                  },
                  "subworkflow": {
                    "a_galaxy_workflow": "true",
                    "annotation": "",
                    "format-version": "0.1",
                    "name": "Salmonella Curated GI Detection",
                    "steps": {
                      "0": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/artbio/get_reference_fasta/get_fasta_reference/0.3.1",
                        "errors": null,
                        "id": 0,
                        "input_connections": {},
                        "inputs": [],
                        "label": "Get Curated Salmonella GI Database",
                        "name": "get fasta reference",
                        "outputs": [
                          {
                            "name": "output",
                            "type": "fasta"
                          }
                        ],
                        "position": {
                          "left": 8,
                          "top": 0
                        },
                        "post_job_actions": {
                          "HideDatasetActionoutput": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "output"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/artbio/get_reference_fasta/get_fasta_reference/0.3.1",
                        "tool_shed_repository": {
                          "changeset_revision": "f3c9cbd84728",
                          "name": "get_reference_fasta",
                          "owner": "artbio",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"pre_installed_fasta\": \"salmonella_gis\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "e1779360-3287-454d-a8de-9c4b48ba338d",
                        "workflow_outputs": []
                      },
                      "1": {
                        "annotation": "",
                        "content_id": null,
                        "errors": null,
                        "id": 1,
                        "input_connections": {},
                        "inputs": [
                          {
                            "description": "",
                            "name": "FASTA Salmonella Genomes"
                          }
                        ],
                        "label": "FASTA Salmonella Genomes",
                        "name": "Input dataset collection",
                        "outputs": [],
                        "position": {
                          "left": 0,
                          "top": 153
                        },
                        "tool_id": null,
                        "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
                        "tool_version": null,
                        "type": "data_collection_input",
                        "uuid": "69b1c253-f042-4eaf-b15a-f0d1e257caae",
                        "workflow_outputs": []
                      },
                      "2": {
                        "annotation": "",
                        "content_id": "__APPLY_RULES__",
                        "errors": null,
                        "id": 2,
                        "input_connections": {
                          "input": {
                            "id": 1,
                            "output_name": "output"
                          }
                        },
                        "inputs": [
                          {
                            "description": "runtime parameter for tool Apply rules",
                            "name": "input"
                          }
                        ],
                        "label": "Map over",
                        "name": "Apply rules",
                        "outputs": [
                          {
                            "name": "output",
                            "type": "input"
                          }
                        ],
                        "position": {
                          "left": 154,
                          "top": 332
                        },
                        "post_job_actions": {
                          "HideDatasetActionoutput": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "output"
                          }
                        },
                        "tool_id": "__APPLY_RULES__",
                        "tool_state": "{\"input\": {\"__class__\": \"RuntimeValue\"}, \"rules\": {\"mapping\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"columns\": [1, 0], \"connectable\": true, \"editing\": false, \"is_workflow\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_value\", \"value\": \"data\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "adf24a5b-f0be-4641-aa04-db42c471bdc5",
                        "workflow_outputs": []
                      },
                      "3": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_makeblastdb/0.3.3",
                        "errors": null,
                        "id": 3,
                        "input_connections": {
                          "input_file": {
                            "id": 2,
                            "output_name": "output"
                          }
                        },
                        "inputs": [
                          {
                            "description": "runtime parameter for tool NCBI BLAST+ makeblastdb",
                            "name": "mask_data_file"
                          }
                        ],
                        "label": "Build Salmonella BLAST Database",
                        "name": "NCBI BLAST+ makeblastdb",
                        "outputs": [
                          {
                            "name": "outfile",
                            "type": "data"
                          }
                        ],
                        "position": {
                          "left": 339,
                          "top": 155
                        },
                        "post_job_actions": {
                          "HideDatasetActionoutfile": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "outfile"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_makeblastdb/0.3.3",
                        "tool_shed_repository": {
                          "changeset_revision": "2889433c7ae1",
                          "name": "ncbi_blast_plus",
                          "owner": "devteam",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"dbtype\": \"nucl\", \"hash_index\": \"false\", \"input_file\": {\"__class__\": \"ConnectedValue\"}, \"mask_data_file\": {\"__class__\": \"RuntimeValue\"}, \"parse_seqids\": \"false\", \"tax\": {\"taxselect\": \"\", \"__current_case__\": 0}, \"title\": \"Genomes\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "2570c8bf-ea8c-4f82-9a85-489a5cd740e1",
                        "workflow_outputs": []
                      },
                      "4": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/0.3.3",
                        "errors": null,
                        "id": 4,
                        "input_connections": {
                          "db_opts|histdb": {
                            "id": 3,
                            "output_name": "outfile"
                          },
                          "query": {
                            "id": 0,
                            "output_name": "output"
                          }
                        },
                        "inputs": [],
                        "label": "BLASTn Salmonella GI DB",
                        "name": "NCBI BLAST+ blastn",
                        "outputs": [
                          {
                            "name": "output1",
                            "type": "tabular"
                          }
                        ],
                        "position": {
                          "left": 560,
                          "top": 80
                        },
                        "post_job_actions": {
                          "ChangeDatatypeActionoutput1": {
                            "action_arguments": {
                              "newtype": "tabular"
                            },
                            "action_type": "ChangeDatatypeAction",
                            "output_name": "output1"
                          },
                          "HideDatasetActionoutput1": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "output1"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/0.3.3",
                        "tool_shed_repository": {
                          "changeset_revision": "2889433c7ae1",
                          "name": "ncbi_blast_plus",
                          "owner": "devteam",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"adv_opts\": {\"adv_opts_selector\": \"advanced\", \"__current_case__\": 1, \"filter_query\": \"true\", \"strand\": \"-strand both\", \"max_hits\": \"0\", \"max_hsps\": null, \"identity_cutoff\": \"0.0\", \"word_size\": null, \"ungapped\": \"false\", \"parse_deflines\": \"false\", \"adv_optional_id_files_opts\": {\"adv_optional_id_files_opts_selector\": \"none\", \"__current_case__\": 0}, \"qcov_hsp_perc\": \"0.0\", \"window_size\": null, \"gapopen\": null, \"gapextend\": null}, \"blast_type\": \"blastn\", \"db_opts\": {\"db_opts_selector\": \"histdb\", \"__current_case__\": 1, \"database\": \"\", \"histdb\": {\"__class__\": \"ConnectedValue\"}, \"subject\": \"\"}, \"evalue_cutoff\": \"0.001\", \"output\": {\"out_format\": \"cols\", \"__current_case__\": 2, \"std_cols\": [\"qseqid\", \"sseqid\", \"pident\", \"length\", \"mismatch\", \"gapopen\", \"qstart\", \"qend\", \"sstart\", \"send\", \"evalue\", \"bitscore\"], \"ext_cols\": [\"qlen\"], \"ids_cols\": null, \"misc_cols\": null, \"tax_cols\": null}, \"query\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "b1fb0511-e607-47d0-bf4d-de8b18a8752d",
                        "workflow_outputs": []
                      },
                      "5": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                        "errors": null,
                        "id": 5,
                        "input_connections": {
                          "infiles_0|input_type_selection|infile": {
                            "id": 4,
                            "output_name": "output1"
                          }
                        },
                        "inputs": [],
                        "label": "BLAST Hit Filter",
                        "name": "AWK Script",
                        "outputs": [
                          {
                            "name": "outfile",
                            "type": "txt"
                          }
                        ],
                        "position": {
                          "left": 779,
                          "top": 93
                        },
                        "post_job_actions": {
                          "ChangeDatatypeActionoutfile": {
                            "action_arguments": {
                              "newtype": "tabular"
                            },
                            "action_type": "ChangeDatatypeAction",
                            "output_name": "outfile"
                          },
                          "HideDatasetActionoutfile": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "outfile"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                        "tool_shed_repository": {
                          "changeset_revision": "df0c8f33c8ea",
                          "name": "awkscript",
                          "owner": "brinkmanlab",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"code\": \"$3>=90 && $4>400 && $11<1.63e-7 {print $1, $2, $4, $7, $8, $9, $10, ($9<$10 ? \\\"+\\\" : \\\"-\\\"), $13}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "b0dcf6e9-760e-4fe1-b35c-58caa289e9d8",
                        "workflow_outputs": []
                      },
                      "6": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                        "errors": null,
                        "id": 6,
                        "input_connections": {
                          "infile": {
                            "id": 5,
                            "output_name": "outfile"
                          }
                        },
                        "inputs": [],
                        "label": "Sort BLAST Hits",
                        "name": "Sort",
                        "outputs": [
                          {
                            "name": "outfile",
                            "type": "input"
                          }
                        ],
                        "position": {
                          "left": 996,
                          "top": 101.5
                        },
                        "post_job_actions": {
                          "HideDatasetActionoutfile": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "outfile"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                        "tool_shed_repository": {
                          "changeset_revision": "a6f147a050a2",
                          "name": "text_processing",
                          "owner": "bgruening",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"header\": \"0\", \"ignore_case\": \"false\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"1\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 1, \"column\": \"2\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 2, \"column\": \"8\", \"order\": \"r\", \"style\": \"\"}, {\"__index__\": 3, \"column\": \"6\", \"order\": \"\", \"style\": \"n\"}], \"unique\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "8afc95ec-3ba8-4916-bbc2-af440460edad",
                        "workflow_outputs": []
                      },
                      "7": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                        "errors": null,
                        "id": 7,
                        "input_connections": {
                          "infiles_0|input_type_selection|infile": {
                            "id": 6,
                            "output_name": "outfile"
                          }
                        },
                        "inputs": [],
                        "label": "Grouping Hits",
                        "name": "AWK Script",
                        "outputs": [
                          {
                            "name": "outfile",
                            "type": "txt"
                          }
                        ],
                        "position": {
                          "left": 1204,
                          "top": 100.5
                        },
                        "post_job_actions": {
                          "ChangeDatatypeActionoutfile": {
                            "action_arguments": {
                              "newtype": "gff"
                            },
                            "action_type": "ChangeDatatypeAction",
                            "output_name": "outfile"
                          },
                          "HideDatasetActionoutfile": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "outfile"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                        "tool_shed_repository": {
                          "changeset_revision": "df0c8f33c8ea",
                          "name": "awkscript",
                          "owner": "brinkmanlab",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"code\": \"BEGIN {\\n    getline first\\n    split(first,last_line)\\n    gap_dist=14000\\n    min_length=8000\\n    min_cov=0.95\\n}\\n\\n{\\n    if (($1 == last_line[1]) && ($2 == last_line[2]) && ($8 == last_line[8]) && (($6 < $7) ? ($6 <= last_line[7]+gap_dist) : ($7 <= last_line[6]+gap_dist))) {\\n        if ($8 == \\\"+\\\") {\\n            last_line[6] = (last_line[6] < $6 ? last_line[6] : $6)\\n            last_line[7] = (last_line[7] > $7 ? last_line[7] : $7)\\n        } else {\\n            last_line[6] = (last_line[6] > $6 ? last_line[6] : $6)\\n            last_line[7] = (last_line[7] < $7 ? last_line[7] : $7)\\n        }\\n        if ($4 < last_line[4]) {\\n            last_line[3] += ($5 < last_line[4] ? $5 : last_line[4]-1) - $4 + 1\\n            last_line[4] = $4\\n        }\\n        if ($5 > last_line[5]) {\\n            last_line[3] += $5 - ($4 > last_line[5] ? $4 : last_line[5]+1) + 1\\n            last_line[5] = $5\\n        }\\n        if (last_line[3]<$3) {\\n            last_line[3] = $3\\n        }\\n    } else {\\n        if ((last_line[3] >= min_length) && (last_line[3]/last_line[9]>=min_cov)) {\\n            print last_line[2], \\\"curated\\\", \\\"genomic_island\\\", (last_line[6]<last_line[7] ? last_line[6] : last_line[7]), (last_line[6]<last_line[7] ? last_line[7] : last_line[6]), \\\".\\\", \\\"+\\\", \\\".\\\", \\\"Query=\\\" last_line[1]\\n        }\\n        split($0,last_line)\\n    }\\n}\\n\\nEND {\\n    if ((last_line[3] >= min_length) && (last_line[3]/last_line[9]>=min_cov)) {\\n        print last_line[2], \\\"curated\\\", \\\"genomic_island\\\", (last_line[6]<last_line[7] ? last_line[6] : last_line[7]), (last_line[6]<last_line[7] ? last_line[7] : last_line[6]), \\\".\\\", \\\"+\\\", \\\".\\\", \\\"Query=\\\" last_line[1]\\n    }\\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "62d98bf0-a251-4e64-8d62-e841126b286a",
                        "workflow_outputs": []
                      },
                      "8": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                        "errors": null,
                        "id": 8,
                        "input_connections": {
                          "infile": {
                            "id": 7,
                            "output_name": "outfile"
                          }
                        },
                        "inputs": [],
                        "label": "Sort All BLAST Groups",
                        "name": "Sort",
                        "outputs": [
                          {
                            "name": "outfile",
                            "type": "input"
                          }
                        ],
                        "position": {
                          "left": 1408,
                          "top": 100
                        },
                        "post_job_actions": {
                          "HideDatasetActionoutfile": {
                            "action_arguments": {},
                            "action_type": "HideDatasetAction",
                            "output_name": "outfile"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
                        "tool_shed_repository": {
                          "changeset_revision": "a6f147a050a2",
                          "name": "text_processing",
                          "owner": "bgruening",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"header\": \"0\", \"ignore_case\": \"false\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"1\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 1, \"column\": \"4\", \"order\": \"\", \"style\": \"n\"}], \"unique\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "d4a80aa1-68cd-4731-b7a6-a2926e334454",
                        "workflow_outputs": []
                      },
                      "9": {
                        "annotation": "",
                        "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                        "errors": null,
                        "id": 9,
                        "input_connections": {
                          "infiles_0|input_type_selection|infile": {
                            "id": 8,
                            "output_name": "outfile"
                          }
                        },
                        "inputs": [],
                        "label": "Filter Redundant",
                        "name": "AWK Script",
                        "outputs": [
                          {
                            "name": "outfile",
                            "type": "txt"
                          }
                        ],
                        "position": {
                          "left": 1614,
                          "top": 102
                        },
                        "post_job_actions": {
                          "ChangeDatatypeActionoutfile": {
                            "action_arguments": {
                              "newtype": "gff"
                            },
                            "action_type": "ChangeDatatypeAction",
                            "output_name": "outfile"
                          },
                          "RenameDatasetActionoutfile": {
                            "action_arguments": {
                              "newname": "Curated Salmonella Islands"
                            },
                            "action_type": "RenameDatasetAction",
                            "output_name": "outfile"
                          }
                        },
                        "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
                        "tool_shed_repository": {
                          "changeset_revision": "df0c8f33c8ea",
                          "name": "awkscript",
                          "owner": "brinkmanlab",
                          "tool_shed": "toolshed.g2.bx.psu.edu"
                        },
                        "tool_state": "{\"code\": \"BEGIN { \\n    getline first\\n    split(first,last_line)\\n}\\n\\n{\\n    if (($1 == last_line[1]) && ($4 <= last_line[5]) && ($5 >= last_line[4])) {\\n        if (last_line[5]-last_line[4] < $5-$4) {\\n            split($0,last_line)\\n        }\\n    } else {\\n        print join(last_line, \\\"\\\\t\\\")\\n        split($0,last_line)\\n    }\\n}\\n\\nEND {\\n    print join(last_line, \\\"\\\\t\\\")\\n}\\n\\nfunction join(array, sep)\\n{\\n    if (sep == \\\"\\\")\\n       sep = \\\" \\\"\\n    result = \\\"\\\"\\n    for (i=1; i<=length(array); i++) {\\n        if (i==1) {\\n            result = array[i]\\n        } else {\\n            result = result sep array[i]\\n        }\\n    }\\n    return result\\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
                        "tool_version": null,
                        "type": "tool",
                        "uuid": "7c5da33b-b8e5-477f-8a48-7398a8268133",
                        "workflow_outputs": [
                          {
                            "label": "Curated Salmonella Islands",
                            "output_name": "outfile",
                            "uuid": "08527632-f3e9-4260-957e-fae95e81c59f"
                          }
                        ]
                      }
                    },
                    "tags": "",
                    "uuid": "1b9071c9-ac3a-4941-b561-9aab025b2deb"
                  },
                  "tool_id": "4c2123b652f3dbff",
                  "type": "subworkflow",
                  "uuid": "f5cdba8e-6c4b-4a1c-a6c8-7bf3f93c0510",
                  "workflow_outputs": [
                    {
                      "label": null,
                      "output_name": "Curated Salmonella Islands",
                      "uuid": "1c5be83c-2f40-4b9d-aa4b-f55c9b2f0e99"
                    }
                  ]
                }
              },
              "tags": "",
              "uuid": "0dcf562c-84d1-4a53-9d13-f012cbc51a82"
            },
            "tool_id": "0f4a6cde070834f7",
            "type": "subworkflow",
            "uuid": "b61484d0-f32d-4073-82af-2e0e14f60f2b",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "5:Curated Salmonella Islands",
                "uuid": "76608e60-f6f4-4eba-bccd-32045b78890b"
              }
            ]
          },
          "6": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "errors": null,
            "id": 6,
            "input_connections": {
              "inputs": {
                "id": 1,
                "output_name": "output"
              },
              "queries_0|inputs2": {
                "id": 4,
                "output_name": "BLAST Check"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Concatenate datasets",
            "outputs": [
              {
                "name": "out_file1",
                "type": "input"
              }
            ],
            "position": {
              "left": 432.70001220703125,
              "top": 129.5
            },
            "post_job_actions": {
              "HideDatasetActionout_file1": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"queries\": [{\"__index__\": 0, \"inputs2\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "7928fd6d-101f-464d-a359-f4e7e5689460",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "errors": null,
            "id": 7,
            "input_connections": {
              "inputs": {
                "id": 5,
                "output_name": "5:Curated Salmonella Islands"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool Concatenate datasets",
                "name": "inputs"
              }
            ],
            "label": null,
            "name": "Concatenate datasets",
            "outputs": [
              {
                "name": "out_file1",
                "type": "input"
              }
            ],
            "position": {
              "left": 440,
              "top": 346.5
            },
            "post_job_actions": {
              "HideDatasetActionout_file1": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"inputs\": {\"__class__\": \"RuntimeValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "1de348ce-52ac-4977-9d4f-2c7d952d0d0e",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
            "errors": null,
            "id": 8,
            "input_connections": {
              "inputA": {
                "id": 6,
                "output_name": "out_file1"
              },
              "reduce_or_iterate|inputB": {
                "id": 7,
                "output_name": "out_file1"
              }
            },
            "inputs": [],
            "label": "Filtered GIs - Do Not Overlap Curated",
            "name": "bedtools Intersect intervals",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 719.9166870117188,
              "top": 180.7166748046875
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
            "tool_shed_repository": {
              "changeset_revision": "87ee588b3d45",
              "name": "bedtools",
              "owner": "iuc",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"bed\": \"false\", \"count\": \"false\", \"fraction_cond\": {\"fraction_select\": \"default\", \"__current_case__\": 0}, \"header\": \"false\", \"inputA\": {\"__class__\": \"ConnectedValue\"}, \"invert\": \"true\", \"once\": \"false\", \"overlap_mode\": null, \"reduce_or_iterate\": {\"reduce_or_iterate_selector\": \"iterate\", \"__current_case__\": 0, \"inputB\": {\"__class__\": \"ConnectedValue\"}}, \"sorted\": \"false\", \"split\": \"false\", \"strand\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "abea6c80-f326-4515-83cd-559de4633749",
            "workflow_outputs": []
          },
          "9": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
            "errors": null,
            "id": 9,
            "input_connections": {
              "inputA": {
                "id": 6,
                "output_name": "out_file1"
              },
              "reduce_or_iterate|inputB": {
                "id": 7,
                "output_name": "out_file1"
              }
            },
            "inputs": [],
            "label": "Removed Predictions - Overlap Curated",
            "name": "bedtools Intersect intervals",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 717.8333129882812,
              "top": 399.58331298828125
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Discarded Predictions"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
            "tool_shed_repository": {
              "changeset_revision": "87ee588b3d45",
              "name": "bedtools",
              "owner": "iuc",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"bed\": \"false\", \"count\": \"false\", \"fraction_cond\": {\"fraction_select\": \"default\", \"__current_case__\": 0}, \"header\": \"false\", \"inputA\": {\"__class__\": \"ConnectedValue\"}, \"invert\": \"false\", \"once\": \"false\", \"overlap_mode\": [\"-wa\"], \"reduce_or_iterate\": {\"reduce_or_iterate_selector\": \"iterate\", \"__current_case__\": 0, \"inputB\": {\"__class__\": \"ConnectedValue\"}}, \"sorted\": \"false\", \"split\": \"false\", \"strand\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "16926aee-2844-408b-8ac4-e9cf4e920375",
            "workflow_outputs": [
              {
                "label": "Discarded Predictions",
                "output_name": "output",
                "uuid": "9ec87d06-f2c0-48e4-afba-6fbaee6b3bea"
              }
            ]
          },
          "10": {
            "annotation": "",
            "content_id": "__BUILD_LIST__",
            "errors": null,
            "id": 10,
            "input_connections": {
              "datasets_0|input": {
                "id": 8,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Build list",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 925,
              "top": 138.48333740234375
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__BUILD_LIST__",
            "tool_state": "{\"datasets\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "2f0fe9fb-b894-46bc-b3c7-f37be7063470",
            "workflow_outputs": []
          },
          "11": {
            "annotation": "",
            "content_id": "__MERGE_COLLECTION__",
            "errors": null,
            "id": 11,
            "input_connections": {
              "inputs_0|input": {
                "id": 0,
                "output_name": "output"
              },
              "inputs_1|input": {
                "id": 10,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Merge collections",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1118.9833984375,
              "top": 0
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__MERGE_COLLECTION__",
            "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_conflict_rest\", \"__current_case__\": 1, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "52432839-099a-4a87-8d44-19fd35345e1b",
            "workflow_outputs": []
          },
          "12": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/feature_merge/feature-merge/1.3",
            "errors": null,
            "id": 12,
            "input_connections": {
              "inputs": {
                "id": 11,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Merge user annotations",
            "name": "GFF/GTF Feature Merge",
            "outputs": [
              {
                "name": "output",
                "type": "gff"
              }
            ],
            "position": {
              "left": 1311.4666748046875,
              "top": 307.183349609375
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/feature_merge/feature-merge/1.3",
            "tool_shed_repository": {
              "changeset_revision": "cc4bffe1d9b5",
              "name": "feature_merge",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"exact_only\": \"false\", \"exclude_components\": \"true\", \"features\": [{\"__index__\": 0, \"csv\": \"genomic_island\"}], \"ignore_strand\": \"true\", \"inputs\": {\"__class__\": \"ConnectedValue\"}, \"merge_strategy\": \"append\", \"threshold\": \"500\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "2b083626-9f0a-4a4d-8352-28473a7f7440",
            "workflow_outputs": []
          },
          "13": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "errors": null,
            "id": 13,
            "input_connections": {
              "inputs": {
                "id": 12,
                "output_name": "output"
              },
              "queries_0|inputs2": {
                "id": 5,
                "output_name": "5:Curated Salmonella Islands"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Concatenate datasets",
            "outputs": [
              {
                "name": "out_file1",
                "type": "input"
              }
            ],
            "position": {
              "left": 1509.75,
              "top": 529.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionout_file1": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "out_file1"
              },
              "RenameDatasetActionout_file1": {
                "action_arguments": {
                  "newname": "Final Annotations"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"queries\": [{\"__index__\": 0, \"inputs2\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "c0183b2c-5738-4254-97df-8f68caeac877",
            "workflow_outputs": [
              {
                "label": "Final Annotations",
                "output_name": "out_file1",
                "uuid": "75608a06-6e22-4867-960e-d50b20328877"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "a72fe967-f162-409e-a4dc-923f12355d9c"
      },
      "tool_id": "7225804e14fed6b6",
      "type": "subworkflow",
      "uuid": "ef2c078f-afee-473d-8fb4-b1743c4e882f",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "5:5:Curated Salmonella Islands",
          "uuid": "d82cc1d5-20f0-42fc-8107-1e16e1a8a4ca"
        },
        {
          "label": null,
          "output_name": "Discarded Predictions",
          "uuid": "ce01e453-98b6-4857-b204-9b6cd3642213"
        },
        {
          "label": null,
          "output_name": "4:BLAST Check",
          "uuid": "dd20664c-0ec9-4430-905e-ea40671b5c85"
        },
        {
          "label": null,
          "output_name": "Final Annotations",
          "uuid": "1b3a30bb-43f9-48bd-8c28-c5dfc1b7f606"
        }
      ]
    },
    "15": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "errors": null,
      "id": 15,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 14,
          "output_name": "Final Annotations"
        }
      },
      "inputs": [],
      "label": "Extract Islands",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "left": 1696.63330078125,
        "top": 102.80000305175781
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Islands to be clustered"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "tool_shed_repository": {
        "changeset_revision": "df0c8f33c8ea",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"$3==\\\"genomic_island\\\" && $9 !~ /Parent=/ { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "bedb087b-1d80-42d8-8958-4568c02d98a2",
      "workflow_outputs": []
    },
    "16": {
      "annotation": "",
      "id": 16,
      "input_connections": {
        "Fasta": {
          "id": 7,
          "input_subworkflow_step_id": 1,
          "output_name": "output"
        },
        "Island GFF": {
          "id": 15,
          "input_subworkflow_step_id": 0,
          "output_name": "outfile"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Cluster islands",
      "outputs": [],
      "position": {
        "left": 1988.716552734375,
        "top": 143.43333435058594
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Cluster islands",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Island GFF"
              }
            ],
            "label": "Island GFF",
            "name": "Input dataset",
            "outputs": [],
            "position": {
              "left": 0,
              "top": 20.5
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": null}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "251bf726-c6b9-4b50-91c0-92e81f1da31c",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "cb2737a8-4ec1-4ab8-898d-281c84289b05"
              }
            ]
          },
          "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Fasta"
              }
            ],
            "label": "Fasta",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 1,
              "top": 115.5
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "a8b32e06-4513-470f-b0d9-ca721432861e",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "907635b1-b835-4525-a1f2-0c96603ad5de"
              }
            ]
          },
          "2": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
            "errors": null,
            "id": 2,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "To BED",
            "name": "Cut",
            "outputs": [
              {
                "name": "output",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 242.16668701171875,
              "top": 0
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "bed"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Predicted Islands BED"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"complement\": \"\", \"cut_type_options\": {\"cut_element\": \"-f\", \"__current_case__\": 0, \"list\": \"1,4,5\"}, \"delimiter\": \"\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "f433af75-b389-4203-8cf1-495623cf99fb",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
            "errors": null,
            "id": 3,
            "input_connections": {
              "fasta_source|fasta": {
                "id": 1,
                "output_name": "output"
              },
              "input": {
                "id": 2,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "bedtools GetFastaBed",
            "outputs": [
              {
                "name": "output",
                "type": "fasta"
              }
            ],
            "position": {
              "left": 495.5,
              "top": 50.5
            },
            "post_job_actions": {
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Island Sequences from #{fasta_source.fasta} defined in #{input}"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
            "tool_shed_repository": {
              "changeset_revision": "87ee588b3d45",
              "name": "bedtools",
              "owner": "iuc",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"fasta_source\": {\"fasta_source_selector\": \"history\", \"__current_case__\": 0, \"fasta\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"name\": \"false\", \"split\": \"false\", \"strand\": \"false\", \"tab\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "4588ddfb-be85-43ee-9d60-a622e33f435b",
            "workflow_outputs": [
              {
                "label": "Island Sequences",
                "output_name": "output",
                "uuid": "27a556d3-f43f-45ac-92d0-9a41f7421be2"
              }
            ]
          },
          "4": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "errors": null,
            "id": 4,
            "input_connections": {
              "commands|inputs": {
                "id": 3,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool MASH",
                "name": "commands"
              }
            ],
            "label": "Mash Sketch",
            "name": "MASH",
            "outputs": [
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 774,
              "top": 52.5
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "tool_shed_repository": {
              "changeset_revision": "572587cbb1dd",
              "name": "mash",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"commands\": {\"command\": \"sketch\", \"__current_case__\": 5, \"inputs\": {\"__class__\": \"RuntimeValue\"}, \"kmer_size\": \"16\", \"sketch_size\": \"1000\", \"hash_seed\": \"42\", \"kmer_size_thresh\": \"0.01\", \"input_option\": {\"individual_seq\": \"true\", \"__current_case__\": 1}, \"preserve_strand\": \"false\", \"use_aaa\": \"false\", \"alphabet\": \"\", \"preserve_case\": \"false\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "2fa6a504-f12e-418d-88fd-f7fa5e247bd0",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "errors": null,
            "id": 5,
            "input_connections": {
              "commands|inputs": {
                "id": 4,
                "output_name": "output"
              },
              "commands|reference": {
                "id": 4,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool MASH",
                "name": "commands"
              },
              {
                "description": "runtime parameter for tool MASH",
                "name": "commands"
              }
            ],
            "label": "MASH Generate Island Graph",
            "name": "MASH",
            "outputs": [
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1067,
              "top": 53.5
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "tool_shed_repository": {
              "changeset_revision": "572587cbb1dd",
              "name": "mash",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"commands\": {\"command\": \"dist\", \"__current_case__\": 1, \"reference\": {\"__class__\": \"RuntimeValue\"}, \"inputs\": {\"__class__\": \"RuntimeValue\"}, \"table_output\": \"false\", \"max_p\": \"1.0\", \"max_dist\": \"1.0\", \"kmer_size\": \"16\", \"sketch_size\": \"1000\", \"hash_seed\": \"42\", \"kmer_size_thresh\": \"0.01\", \"input_option\": {\"individual_seq\": \"true\", \"__current_case__\": 1}, \"preserve_strand\": \"false\", \"use_aaa\": \"false\", \"alphabet\": \"\", \"preserve_case\": \"false\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "4d8b6dd0-5e53-4749-81d8-b7b02b447deb",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "Cut1",
            "errors": null,
            "id": 6,
            "input_connections": {
              "input": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Remove columns",
            "name": "Cut",
            "outputs": [
              {
                "name": "out_file1",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 1349,
              "top": 55.5
            },
            "post_job_actions": {
              "HideDatasetActionout_file1": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "Cut1",
            "tool_state": "{\"columnList\": \"c1,c2,c3\", \"delimiter\": \"T\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "50b82aa6-5840-4b3d-bb44-e457b3c20e5e",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mcl/mcl/14.137",
            "errors": null,
            "id": 7,
            "input_connections": {
              "input_type_select|input": {
                "id": 6,
                "output_name": "out_file1"
              }
            },
            "inputs": [],
            "label": "MCL cluster islands",
            "name": "MCL",
            "outputs": [
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1594,
              "top": 58.5
            },
            "post_job_actions": {
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Island clusters"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mcl/mcl/14.137",
            "tool_shed_repository": {
              "changeset_revision": "60609b076830",
              "name": "mcl",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"discard_loops\": \"true\", \"inflation\": \"5.0\", \"input_type_select\": {\"input_type\": \"--abc\", \"__current_case__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}, \"reweight\": \"1.0\", \"sum_loops\": \"false\", \"transform\": \"mul(-1),add(1),gq(0.96)\", \"verbosity\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": null,
            "type": "tool",
            "uuid": "b0212d3d-9b47-4839-ac79-51bb2278aa8d",
            "workflow_outputs": [
              {
                "label": "Island clusters",
                "output_name": "output",
                "uuid": "ec32ccd6-e32f-498d-8c5d-b088347baf32"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "6455dca1-118c-4dcc-ab52-4bb3be1b2dec"
      },
      "tool_id": "42529043a0075516",
      "type": "subworkflow",
      "uuid": "f75f7668-a6a5-436f-8f6d-f73a18df67d1",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "Island Sequences",
          "uuid": "c3627a1a-49cc-4763-9495-7696b8b5e876"
        },
        {
          "label": null,
          "output_name": "Island clusters",
          "uuid": "9c2de458-2393-4715-88f3-3a5a8c60b8d1"
        }
      ]
    },
    "17": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "errors": null,
      "id": 17,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 16,
          "output_name": "Island clusters"
        },
        "infiles_1|input_type_selection|infile": {
          "id": 10,
          "output_name": "Newick"
        },
        "infiles_2|input_type_selection|infile": {
          "id": 14,
          "output_name": "Final Annotations"
        },
        "infiles_3|input_type_selection|infile": {
          "id": 11,
          "output_name": "summary"
        },
        "infiles_4|input_type_selection|infile": {
          "id": 13,
          "output_name": "Pairwise Alignments"
        }
      },
      "inputs": [],
      "label": "Generate final GFF",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "left": 2602.61669921875,
        "top": 337.2833251953125
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Results"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "tool_shed_repository": {
        "changeset_revision": "df0c8f33c8ea",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"# Collects outputs from IslandCompare workflow and combines into GFF\\n# Why not Python? AWK is far more concise and the language is far more stable for this application.\\n\\n# See ./color.gawk for a writeup on this function\\nfunction generate_distinct_color(n){\\n    n -= 1; # Clusters are 1-indexed, shift to 0-index\\n    if (n > 0) {\\n        #calculate log2 n TODO implement using integer log2 as it is more efficient\\n        log2n=log(n)/log(2);\\n        floor=int(log2n);\\n        ceil=(log2n>floor?floor+1:floor);\\n        h=((n - 2^floor) * 2 + 1) / (2^ceil);\\n        h *= 0.9; # Shift color range to exclude circular h values\\n    } else {\\n        h=0;\\n    }\\n    s = 1;\\n    v = 1;\\n    # The following maps into a hsv color gradient\\n    # Taken from https://gist.github.com/mjackson/5311256\\n    i = int(h * 6);\\n    f = h * 6 - i;\\n    p = v * (1 - s);\\n    q = v * (1 - f * s);\\n    t = v * (1 - (1 - f) * s);\\n    switch (i % 6) {\\n        case 0: r = v; g = t; b = p; break;\\n        case 1: r = q; g = v; b = p; break;\\n        case 2: r = p; g = v; b = t; break;\\n        case 3: r = p; g = q; b = v; break;\\n        case 4: r = t; g = p; b = v; break;\\n        case 5: r = v; g = p; b = q; break;\\n    }\\n    return sprintf(\\\"#%02X%02X%02X\\\", r * 255, g * 255, b * 255)\\n}\\n\\n# Expected inputs\\n# 0: MCL Clustering matrix\\n# 1: Newick tree\\n# 2: Genomic islands + user annotations GFF\\n# 3: RGI annotation summary\\n# 4: Alignment GFF\\n\\nBEGIN {\\n    OFS=FS=\\\"\\\\t\\\";\\n    print \\\"##gff-version 3\\\";\\n}\\n\\n#Read clusters\\ntool_input==0 { for (i=1; i<=NF; i++) { clusters[$i] = FNR;} next}\\n\\n#Output newick and column header\\ntool_input==1 { \\n    print \\\"##newick: \\\"$0;\\n    print \\\"#Sequence ID\\\", \\\"Feature Source\\\", \\\"Feature Type\\\", \\\"Start\\\", \\\"End\\\", \\\"Score\\\", \\\"Strand\\\", \\\"Phase\\\", \\\"Attributes\\\";\\n    nextfile \\n}\\n\\n#Output user annotations\\ntool_input==2 && $3 != \\\"genomic_island\\\" && /^[^#]/ { print; }\\n\\n#Output islands with cluster and color\\ntool_input==2 && $3 == \\\"genomic_island\\\" {\\n    i=$1 \\\":\\\" $4 \\\"-\\\" $5;\\n    if (i in clusters) {\\n        if (length($9)>0 && substr($9, length($9)-1) != \\\";\\\") $9 = $9 \\\";\\\";\\n        cluster = clusters[i];\\n        $9 = $9 \\\"cluster=\\\" cluster \\\";color=\\\" generate_distinct_color(cluster);\\n    }\\n    print;\\n    next\\n}\\n\\n#Output RGI\\ntool_input==3 && FNR==1 { split( $0, tags ); next }\\ntool_input==3 { match($1, /ID=[^_]*([^;]+)/, a); print gensub(a[1]\\\" *$\\\", \\\"\\\", 1, $2),\\\"RGI-CARD\\\",\\\"gene\\\",$3,$4,$8,$5,\\\".\\\",\\\"Name=\\\"$9\\\";Alias=ARO:\\\"$11\\\";\\\"tags[6]\\\"=\\\"$6\\\";\\\"tags[7]\\\"=\\\"$7\\\";\\\"tags[9]\\\"=\\\"$9\\\";\\\"tags[10]\\\"=\\\"$10\\\";\\\"tags[12]\\\"=\\\"$12\\\";\\\"tags[13]\\\"=\\\"$13\\\";\\\"tags[14]\\\"=\\\"$14\\\";\\\"tags[16]\\\"=\\\"$16\\\";\\\"tags[17]\\\"=\\\"$17\\\";\\\"tags[15]\\\"=\\\"$15\\\";\\\"; next}\\n\\n#Output alignment\\ntool_input==4 { print; }\\n\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 2, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 3, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 4, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "f4e37eb1-e4ca-4698-906e-9341f1114ac8",
      "workflow_outputs": [
        {
          "label": "Results",
          "output_name": "outfile",
          "uuid": "04cc2623-15d1-44ff-b364-69a4e6ebadbe"
        }
      ]
    },
    "18": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "errors": null,
      "id": 18,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 17,
          "output_name": "outfile"
        }
      },
      "inputs": [],
      "label": "Extract islands with children",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "left": 2817,
        "top": 467.8499755859375
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Genomic Islands"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.1",
      "tool_shed_repository": {
        "changeset_revision": "df0c8f33c8ea",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"$3==\\\"genomic_island\\\" { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": null,
      "type": "tool",
      "uuid": "bfbcce83-073f-4e11-9c1a-7d2544dd1429",
      "workflow_outputs": [
        {
          "label": "Genomic Islands",
          "output_name": "outfile",
          "uuid": "caf5f0b6-6006-4eeb-a7e7-082900b0da11"
        }
      ]
    }
  },
  "tags": [
    "islandcompare"
  ],
  "uuid": "05545098-ff32-47c5-a4dc-7561c826b0b0",
  "version": 6
}
