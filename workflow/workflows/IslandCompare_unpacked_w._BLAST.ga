{
  "a_galaxy_workflow": "true",
  "annotation": "",
  "format-version": "0.1",
  "name": "IslandCompare unpacked w. BLAST",
  "steps": {
    "0": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 0,
      "input_connections": {},
      "inputs": [],
      "label": "Output data and newick",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": 739.8500213623047,
        "height": 64.90000915527344,
        "left": 585.566650390625,
        "right": 735.566650390625,
        "top": 674.9500122070312,
        "width": 150,
        "x": 585.566650390625,
        "y": 674.9500122070312
      },
      "post_job_actions": {
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Data and newick labels"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"BEGIN { print \\\"data\\\"; print \\\"newick\\\"; }\", \"envs\": [], \"infiles\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "de45014e-82cc-456e-912d-c7e8e3008843",
      "workflow_outputs": []
    },
    "1": {
      "annotation": "{ \"type\": \"dbkey_input\", \"optional\": true, \"value\":\"\", \"annotation\": \"Select a reference genome to align draft input data\", \"order\":3, \"collapse\":true }",
      "content_id": null,
      "errors": null,
      "id": 1,
      "input_connections": {},
      "inputs": [
        {
          "description": "{ \"type\": \"dbkey_input\", \"optional\": true, \"value\":\"\", \"annotation\": \"Select a reference genome to align draft input data\", \"order\":3, \"collapse\":true }",
          "name": "Reference Genome"
        }
      ],
      "label": "Reference Genome",
      "name": "Input parameter",
      "outputs": [],
      "position": {
        "bottom": -861.3500061035156,
        "height": 64.89999389648438,
        "left": 33.56666564941406,
        "right": 183.56666564941406,
        "top": -926.25,
        "width": 150,
        "x": 33.56666564941406,
        "y": -926.25
      },
      "tool_id": null,
      "tool_state": "{\"parameter_type\": \"text\", \"optional\": false}",
      "tool_version": null,
      "type": "parameter_input",
      "uuid": "7629a68d-f23b-4093-a8b2-536165054df0",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "111c209e-6475-4cff-8861-7fec54a1fee4"
        }
      ]
    },
    "2": {
      "annotation": "{ \"subinputs\": [\n{ \"id\": \"data\", \"label\": \"Input datasets\", \"type\": \"data_collection_input\", \"annotation\": \"Select data to analyze.\", \"format\": [\"genbank\", \"gbk\", \"embl\", \"gbff\"], \"order\":0, \"validator\":\"(selection &amp;&amp; selection.length &gt; 1)?'':'Please select at least two datasets'\" },\n{ \"id\": \"newick\", \"label\": \"Phylogenetic tree in newick format\", \"type\": \"data_input\", \"annotation\": \"Select tree to use for alignment order.\", \"optional\": true, \"format\": [\"newick\"], \"order\":1, \"collapse\":true }\n]}",
      "content_id": null,
      "errors": null,
      "id": 2,
      "input_connections": {},
      "inputs": [
        {
          "description": "{ \"subinputs\": [\n{ \"id\": \"data\", \"label\": \"Input datasets\", \"type\": \"data_collection_input\", \"annotation\": \"Select data to analyze.\", \"format\": [\"genbank\", \"gbk\", \"embl\", \"gbff\"], \"order\":0, \"validator\":\"(selection &amp;&amp; selection.length &gt; 1)?'':'Please select at least two datasets'\" },\n{ \"id\": \"newick\", \"label\": \"Phylogenetic tree in newick format\", \"type\": \"data_input\", \"annotation\": \"Select tree to use for alignment order.\", \"optional\": true, \"format\": [\"newick\"], \"order\":1, \"collapse\":true }\n]}",
          "name": "list:list of data and optional inputs"
        }
      ],
      "label": "list:list of data and optional inputs",
      "name": "Input dataset collection",
      "outputs": [],
      "position": {
        "bottom": 183.5,
        "height": 64.89999389648438,
        "left": -1040.9833984375,
        "right": -890.9833984375,
        "top": 118.60000610351562,
        "width": 150,
        "x": -1040.9833984375,
        "y": 118.60000610351562
      },
      "tool_id": null,
      "tool_state": "{\"optional\": false, \"collection_type\": \"list:list\"}",
      "tool_version": null,
      "type": "data_collection_input",
      "uuid": "7a81e28b-cab5-4cf8-a581-1044ee0b8516",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "07e5f94b-db30-4a1d-8d1c-e06ebe556acd"
        }
      ]
    },
    "3": {
      "annotation": "{ \"type\": \"select\", \"label\":\"Newick identifier type\", \"value\":\"False\", \"annotation\": \"Select the identifers that are present in the optional newick\", \"order\": 2, \"options\": {\"Accession\":\"False\", \"File name\":\"True\"} }",
      "content_id": null,
      "errors": null,
      "id": 3,
      "input_connections": {},
      "inputs": [
        {
          "description": "{ \"type\": \"select\", \"label\":\"Newick identifier type\", \"value\":\"False\", \"annotation\": \"Select the identifers that are present in the optional newick\", \"order\": 2, \"options\": {\"Accession\":\"False\", \"File name\":\"True\"} }",
          "name": "Newick Identifiers"
        }
      ],
      "label": "Newick Identifiers",
      "name": "Input parameter",
      "outputs": [],
      "position": {
        "bottom": -1748.0833892822266,
        "height": 64.90000915527344,
        "left": -1673.63330078125,
        "right": -1523.63330078125,
        "top": -1812.9833984375,
        "width": 150,
        "x": -1673.63330078125,
        "y": -1812.9833984375
      },
      "tool_id": null,
      "tool_state": "{\"parameter_type\": \"text\", \"optional\": false}",
      "tool_version": null,
      "type": "parameter_input",
      "uuid": "11b0dc1e-0b25-4aab-802c-ff9fdd6d32ab",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "2a7118fa-005a-48f2-8fbb-5b7e219b2789"
        }
      ]
    },
    "4": {
      "annotation": "",
      "content_id": "__APPLY_RULES__",
      "errors": null,
      "id": 4,
      "input_connections": {
        "input": {
          "id": 2,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Extract user newick",
      "name": "Apply Rule to Collection",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 705.7999725341797,
        "height": 91.19999694824219,
        "left": -17.366668701171875,
        "right": 132.63333129882812,
        "top": 614.5999755859375,
        "width": 150,
        "x": -17.366668701171875,
        "y": 614.5999755859375
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__APPLY_RULES__",
      "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"columns\": [1], \"editing\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier1\", \"warn\": null}, {\"error\": null, \"invert\": false, \"target_column\": 0, \"type\": \"add_filter_matches\", \"value\": \"newick\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "17bd3ac6-d17e-42f4-9521-8ec55488179b",
      "workflow_outputs": []
    },
    "5": {
      "annotation": "",
      "content_id": "__APPLY_RULES__",
      "errors": null,
      "id": 5,
      "input_connections": {
        "input": {
          "id": 2,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Extract data",
      "name": "Apply Rule to Collection",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 51.31666564941406,
        "height": 75.98333740234375,
        "left": -744.0499877929688,
        "right": -594.0499877929688,
        "top": -24.666671752929688,
        "width": 150,
        "x": -744.0499877929688,
        "y": -24.666671752929688
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__APPLY_RULES__",
      "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"columns\": [1], \"connectable\": true, \"editing\": false, \"is_workflow\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier1\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"invert\": false, \"is_workflow\": false, \"target_column\": 0, \"type\": \"add_filter_matches\", \"value\": \"data\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "213eff77-6b72-4f43-af74-7bcac7d33baf",
      "workflow_outputs": []
    },
    "6": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
      "errors": null,
      "id": 6,
      "input_connections": {
        "input": {
          "id": 5,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "To Genbank",
      "name": "BioPython SeqIO Converter",
      "outputs": [
        {
          "name": "info_output",
          "type": "gff3"
        },
        {
          "name": "output",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": -522.4666442871094,
        "height": 269.5833435058594,
        "left": -744.8333129882812,
        "right": -594.8333129882812,
        "top": -792.0499877929688,
        "width": 150,
        "x": -744.8333129882812,
        "y": -792.0499877929688
      },
      "post_job_actions": {
        "HideDatasetActioninfo_output": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "info_output"
        },
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActioninfo_output": {
          "action_arguments": {
            "newname": "#{input} Record Info"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "info_output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "#{input} as Genbank"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
      "tool_shed_repository": {
        "changeset_revision": "d9ae46bb9f09",
        "name": "biopython_convert",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"bioperl\": \"true\", \"info\": \"true\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_type\": \"genbank\", \"query\": \"[?!(features[?type==`source`].qualifiers.plasmid)]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "2af3e8dd-5390-4f09-ac56-c41d6e6ec8b7",
      "workflow_outputs": []
    },
    "7": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 7,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 6,
          "output_name": "info_output"
        }
      },
      "inputs": [],
      "label": "Find drafts",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": -510.96665954589844,
        "height": 91.28334045410156,
        "left": -367.25,
        "right": -217.25,
        "top": -602.25,
        "width": 150,
        "x": -367.25,
        "y": -602.25
      },
      "post_job_actions": {
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Found drafts"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"# Count number of contigs and output ids of drafts\\nBEGINFILE { i=0; }\\n/^[^#]/ { ++i; }\\ni > 1 { print tool_input_id; i=0; nextfile }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "b2617e3b-e76c-4bfb-bd20-56719e8c028a",
      "workflow_outputs": []
    },
    "8": {
      "annotation": "",
      "content_id": "__FILTER_FROM_FILE__",
      "errors": null,
      "id": 8,
      "input_connections": {
        "how|filter_source": {
          "id": 7,
          "output_name": "outfile"
        },
        "input": {
          "id": 6,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Separate datasets that need stitching",
      "name": "Filter List",
      "outputs": [
        {
          "name": "output_filtered",
          "type": "input"
        },
        {
          "name": "output_discarded",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -593.6666870117188,
        "height": 203,
        "left": -51.98333740234375,
        "right": 98.01666259765625,
        "top": -796.6666870117188,
        "width": 150,
        "x": -51.98333740234375,
        "y": -796.6666870117188
      },
      "post_job_actions": {
        "HideDatasetActionoutput_discarded": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output_discarded"
        },
        "HideDatasetActionoutput_filtered": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output_filtered"
        },
        "RenameDatasetActionoutput_discarded": {
          "action_arguments": {
            "newname": "Single contig"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output_discarded"
        },
        "RenameDatasetActionoutput_filtered": {
          "action_arguments": {
            "newname": "Multi-contig"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output_filtered"
        }
      },
      "tool_id": "__FILTER_FROM_FILE__",
      "tool_state": "{\"how\": {\"how_filter\": \"remove_if_absent\", \"__current_case__\": 0, \"filter_source\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "f2090b2d-fd32-4bc8-8546-6d323b4e89ae",
      "workflow_outputs": []
    },
    "9": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 9,
      "input_connections": {
        "envs_0|val": {
          "id": 1,
          "output_name": "output"
        },
        "infiles_0|input_type_selection|infile": {
          "id": 8,
          "output_name": "output_filtered"
        }
      },
      "inputs": [],
      "label": "Optional Ref Logic",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": -703.9499816894531,
        "height": 147.10000610351562,
        "left": 285.566650390625,
        "right": 435.566650390625,
        "top": -851.0499877929688,
        "width": 150,
        "x": 285.566650390625,
        "y": -851.0499877929688
      },
      "post_job_actions": {
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "To be stitched"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"# If the reference is set, print all input ids\\nBEGIN { if (ENVIRON[\\\"reference\\\"] == \\\"\\\") exit 0; }\\n{ print tool_input_id; nextfile }\", \"envs\": [{\"__index__\": 0, \"name\": \"reference\", \"val\": {\"__class__\": \"ConnectedValue\"}}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "c8802b7e-458b-4de6-b514-c19c4749de1a",
      "workflow_outputs": []
    },
    "10": {
      "annotation": "",
      "content_id": "__FILTER_FROM_FILE__",
      "errors": null,
      "id": 10,
      "input_connections": {
        "how|filter_source": {
          "id": 9,
          "output_name": "outfile"
        },
        "input": {
          "id": 8,
          "output_name": "output_filtered"
        }
      },
      "inputs": [],
      "label": "Redirect Datasets",
      "name": "Filter List",
      "outputs": [
        {
          "name": "output_filtered",
          "type": "input"
        },
        {
          "name": "output_discarded",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -530.5500030517578,
        "height": 187.6999969482422,
        "left": 540.75,
        "right": 690.75,
        "top": -718.25,
        "width": 150,
        "x": 540.75,
        "y": -718.25
      },
      "post_job_actions": {
        "HideDatasetActionoutput_discarded": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output_discarded"
        },
        "HideDatasetActionoutput_filtered": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output_filtered"
        },
        "RenameDatasetActionoutput_discarded": {
          "action_arguments": {
            "newname": "No reference"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output_discarded"
        },
        "RenameDatasetActionoutput_filtered": {
          "action_arguments": {
            "newname": "To Stitch"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output_filtered"
        }
      },
      "tool_id": "__FILTER_FROM_FILE__",
      "tool_state": "{\"how\": {\"how_filter\": \"remove_if_absent\", \"__current_case__\": 0, \"filter_source\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "1037bee4-1258-40d2-ae70-595eef9cc3ee",
      "workflow_outputs": []
    },
    "11": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
      "errors": null,
      "id": 11,
      "input_connections": {
        "draft": {
          "id": 10,
          "output_name": "output_discarded"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Mauve Contig Mover - Stitch",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -455.75,
        "height": 116.5,
        "left": 760.75,
        "right": 910.75,
        "top": -572.25,
        "width": 150,
        "x": 760.75,
        "y": -572.25
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
      "tool_shed_repository": {
        "changeset_revision": "f8b09693c9c1",
        "name": "mauve_contig_mover",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"contigs\": {\"__class__\": \"ConnectedValue\"}, \"draft\": {\"__class__\": \"ConnectedValue\"}, \"pad_len\": \"1000\", \"seqid\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "51b4c39d-590d-480c-8190-24a2e14eca57",
      "workflow_outputs": []
    },
    "12": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover/1.0",
      "errors": null,
      "id": 12,
      "input_connections": {
        "draft": {
          "id": 10,
          "output_name": "output_filtered"
        },
        "ref_select|key": {
          "id": 1,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Mauve Contig Mover",
      "outputs": [
        {
          "name": "reordered",
          "type": "fasta"
        },
        {
          "name": "backbone",
          "type": "tabular"
        },
        {
          "name": "contigs",
          "type": "tabular"
        }
      ],
      "position": {
        "bottom": -671.3500061035156,
        "height": 258.8999938964844,
        "left": 788.0166625976562,
        "right": 938.0166625976562,
        "top": -930.25,
        "width": 150,
        "x": 788.0166625976562,
        "y": -930.25
      },
      "post_job_actions": {
        "HideDatasetActionbackbone": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "backbone"
        },
        "HideDatasetActioncontigs": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "contigs"
        },
        "HideDatasetActionreordered": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "reordered"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover/1.0",
      "tool_shed_repository": {
        "changeset_revision": "f8b09693c9c1",
        "name": "mauve_contig_mover",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"draft\": {\"__class__\": \"ConnectedValue\"}, \"ref_select\": {\"ref_source\": \"key\", \"__current_case__\": 3, \"key\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "2d5cdfa5-0c66-48f4-b743-9f285ab8b0b7",
      "workflow_outputs": []
    },
    "13": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
      "errors": null,
      "id": 13,
      "input_connections": {
        "contigs": {
          "id": 12,
          "output_name": "contigs"
        },
        "draft": {
          "id": 10,
          "output_name": "output_filtered"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Mauve Contig Mover - Stitch",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -532.9500122070312,
        "height": 116.5,
        "left": 1076.0166015625,
        "right": 1226.0166015625,
        "top": -649.4500122070312,
        "width": 150,
        "x": 1076.0166015625,
        "y": -649.4500122070312
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mauve_contig_mover/mauve-contig-mover-stitch/1.0",
      "tool_shed_repository": {
        "changeset_revision": "f8b09693c9c1",
        "name": "mauve_contig_mover",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"contigs\": {\"__class__\": \"ConnectedValue\"}, \"draft\": {\"__class__\": \"ConnectedValue\"}, \"pad_len\": \"1000\", \"seqid\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "39a95046-05ca-4529-b1bf-4cfe87e77192",
      "workflow_outputs": []
    },
    "14": {
      "annotation": "",
      "content_id": "__MERGE_COLLECTION__",
      "errors": null,
      "id": 14,
      "input_connections": {
        "inputs_0|input": {
          "id": 13,
          "output_name": "output"
        },
        "inputs_1|input": {
          "id": 11,
          "output_name": "output"
        },
        "inputs_2|input": {
          "id": 8,
          "output_name": "output_discarded"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Merge Collections",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -25.666671752929688,
        "height": 203,
        "left": -439.25,
        "right": -289.25,
        "top": -228.6666717529297,
        "width": 150,
        "x": -439.25,
        "y": -228.6666717529297
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "Prepared Data"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__MERGE_COLLECTION__",
      "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_conflict_rest\", \"__current_case__\": 1, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 2, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "50e167f2-be54-4b74-a7c8-f279c5ddc678",
      "workflow_outputs": []
    },
    "15": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/make_unique_id/make-unique-id/1.0",
      "errors": null,
      "id": 15,
      "input_connections": {
        "inputs": {
          "id": 14,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "BioPython Make Unique ID",
      "outputs": [
        {
          "name": "outputs",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 320.4166717529297,
        "height": 91.20001220703125,
        "left": -453.25,
        "right": -303.25,
        "top": 229.21665954589844,
        "width": 150,
        "x": -453.25,
        "y": 229.21665954589844
      },
      "post_job_actions": {
        "HideDatasetActionoutputs": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outputs"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/make_unique_id/make-unique-id/1.0",
      "tool_shed_repository": {
        "changeset_revision": "85167b9e6c7a",
        "name": "make_unique_id",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "44a4c9d5-28d7-4ee3-9dfb-76801b67024b",
      "workflow_outputs": []
    },
    "16": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
      "errors": null,
      "id": 16,
      "input_connections": {
        "input": {
          "id": 15,
          "output_name": "outputs"
        }
      },
      "inputs": [],
      "label": "To GFF3",
      "name": "BioPython SeqIO Converter",
      "outputs": [
        {
          "name": "info_output",
          "type": "gff3"
        },
        {
          "name": "output",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": 112.80000305175781,
        "height": 269.5833435058594,
        "left": -105.25,
        "right": 44.75,
        "top": -156.78334045410156,
        "width": 150,
        "x": -105.25,
        "y": -156.78334045410156
      },
      "post_job_actions": {
        "HideDatasetActioninfo_output": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "info_output"
        },
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "#{input} as GFF3"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
      "tool_shed_repository": {
        "changeset_revision": "d9ae46bb9f09",
        "name": "biopython_convert",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"bioperl\": \"false\", \"info\": \"true\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_type\": \"gff3\", \"query\": \"[0]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "a91949e4-0b7a-4760-9e35-39c4fadeed7b",
      "workflow_outputs": []
    },
    "17": {
      "annotation": "",
      "id": 17,
      "input_connections": {
        "Genbank/EMBL": {
          "id": 15,
          "input_subworkflow_step_id": 0,
          "output_name": "outputs"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Detect genomic islands",
      "outputs": [],
      "position": {
        "bottom": 371.01666259765625,
        "height": 131.8000030517578,
        "left": -131.36666870117188,
        "right": 18.633331298828125,
        "top": 239.21665954589844,
        "width": 150,
        "x": -131.36666870117188,
        "y": 239.21665954589844
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Detect genomic islands",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Genbank/EMBL"
              }
            ],
            "label": "Genbank/EMBL",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 205,
              "top": 291.16668701171875
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "d8556894-e84f-426b-b8f0-6ecd6384e7d6",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "23ab87d4-8352-42d9-a41f-ce8435446755"
              }
            ]
          },
          "1": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
            "errors": null,
            "id": 1,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "To EMBL",
            "name": "BioPython SeqIO Converter",
            "outputs": [
              {
                "name": "info_output",
                "type": "gff3"
              },
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 548,
              "top": 295.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActioninfo_output": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "info_output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
            "tool_shed_repository": {
              "changeset_revision": "d9ae46bb9f09",
              "name": "biopython_convert",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"bioperl\": \"true\", \"info\": \"true\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_type\": \"embl\", \"query\": \"[0]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "c2b225ce-4216-4f8f-bdf9-1bd5f0580516",
            "workflow_outputs": []
          },
          "2": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/colombo/sigihmm/3.8.0",
            "errors": null,
            "id": 2,
            "input_connections": {
              "input": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "SigiHMM",
            "outputs": [
              {
                "name": "output",
                "type": "embl"
              },
              {
                "name": "gff",
                "type": "gff"
              }
            ],
            "position": {
              "left": 624.1666870117188,
              "top": 702.6666870117188
            },
            "post_job_actions": {
              "HideDatasetActiongff": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "gff"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/colombo/sigihmm/3.8.0",
            "tool_shed_repository": {
              "changeset_revision": "7fe2bd997c49",
              "name": "colombo",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"cut\": null, \"input\": {\"__class__\": \"ConnectedValue\"}, \"join\": \"1\", \"outlier\": \"false\", \"phx\": \"true\", \"sens\": \"0.7\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "3.8.0",
            "type": "tool",
            "uuid": "978448cd-5f81-4d20-9608-f76737844517",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/islandpath/islandpath/1.0.4",
            "errors": null,
            "id": 3,
            "input_connections": {
              "input": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "IslandPath",
            "outputs": [
              {
                "name": "output",
                "type": "gff"
              }
            ],
            "position": {
              "left": 898.5,
              "top": 330.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/islandpath/islandpath/1.0.4",
            "tool_shed_repository": {
              "changeset_revision": "d798a01c4c16",
              "name": "islandpath",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.4",
            "type": "tool",
            "uuid": "5679b56c-745f-4b13-aaf5-21c32db62220",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 4,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 1,
                "output_name": "info_output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 2,
                "output_name": "gff"
              }
            },
            "inputs": [],
            "label": "Recover Sigi sequence IDs",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 984.1666259765625,
              "top": 730.6666870117188
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Uncollapsed Sigi islands w. IDs"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Replace all sequence IDs in second tool input with first sequence ID in first tool input\\nBEGIN { FS=OFS=\\\"\\\\t\\\"; }\\ntool_input == 0 && /^[^#]/ { id = $1; nextfile }\\ntool_input == 1 && /^[^#]/ { $1 = id }\\ntool_input == 1 { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "d2b5b484-a6a7-4a50-812d-feb5ceadbf44",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 5,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 1,
                "output_name": "info_output"
              },
              "infiles_1|input_type_selection|infile": {
                "id": 3,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Recover IslandPath sequence IDs",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1128.1666259765625,
              "top": 482.66668701171875
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "IslandPath islands w. ID"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Replace all sequence IDs in second tool input with first sequence ID in first tool input\\nBEGIN { FS=OFS=\\\"\\\\t\\\"; }\\ntool_input == 0 && /^[^#]/ { id = $1; nextfile }\\ntool_input == 1 && /^[^#]/ { $1 = id }\\ntool_input == 1 { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "428d9b70-9ef2-467d-bc18-dd3171f4ffd9",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 6,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 4,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": "Collapse Sigi Islands",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1281.1666259765625,
              "top": 746.1666870117188
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Collapsed Sigi islands"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# TODO Replace with feature_merge\\nBEGIN { \\n    FS=OFS=\\\"\\\\t\\\";\\n    inIsland = 0; # Flag to track that the next record is part of the same island\\n    print \\\"##gff-version 3\\\";\\n    src = \\\"Colombo/SigiHMM\\\"; # Force source to Colombo v4 output for future compatibility\\n}\\n\\ntool_input == 0 && /^#/ { print; next; }\\ntool_input == 0 && $4 == \\\"1\\\" || $5 == \\\"0\\\" { next } # Some results contain lines where start is 1 / end is 0. Skip to avoid erroneous GIs\\ntool_input == 0 && $3 == \\\"PUTAL\\\" && !inIsland { \\n    #sub(/;$/, \\\"\\\", $1); # Remove trailing garbage SigiHMM attaches to id\\n    id = $1;\\n    #src = $2;\\n    start = $4; end = $5;\\n    inIsland = 1;\\n    next;\\n}\\ntool_input == 0 && $3 == \\\"PUTAL\\\" && inIsland { end = $5; next }\\ntool_input == 0 && $3 != \\\"PUTAL\\\" && inIsland { print id, src, \\\"genomic_island\\\", start, end, \\\".\\\", \\\".\\\", \\\".\\\", \\\"\\\"; inIsland=0; }\\nEND { if (inIsland) print id, src, \\\"genomic_island\\\", start, end, \\\".\\\", \\\".\\\", \\\".\\\", \\\"\\\"; }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "5c414cbf-d742-4961-8174-bd0727d439f8",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "__FILTER_FAILED_DATASETS__",
            "errors": null,
            "id": 7,
            "input_connections": {
              "input": {
                "id": 5,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Filter failed",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1515,
              "top": 397
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__FILTER_FAILED_DATASETS__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "2235b16f-47c1-47a5-9763-7b38d8a2e05b",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "__FILTER_FAILED_DATASETS__",
            "errors": null,
            "id": 8,
            "input_connections": {
              "input": {
                "id": 6,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Filter failed",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1567.1666259765625,
              "top": 750.6666870117188
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__FILTER_FAILED_DATASETS__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "19a303a4-5337-477c-a4ff-b70084318d9d",
            "workflow_outputs": []
          },
          "9": {
            "annotation": "",
            "content_id": "__MERGE_COLLECTION__",
            "errors": null,
            "id": 9,
            "input_connections": {
              "inputs_0|input": {
                "id": 7,
                "output_name": "output"
              },
              "inputs_1|input": {
                "id": 8,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Aggregate island calls",
            "name": "Merge Collections",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1924,
              "top": 319.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__MERGE_COLLECTION__",
            "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_every\", \"__current_case__\": 2, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "52bda088-7054-44c1-a54b-56bf345eca1a",
            "workflow_outputs": []
          },
          "10": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 10,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 9,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Filter Islands",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 2243.166748046875,
              "top": 359.66668701171875
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff3"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Unmerged Islands"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"#!/usr/bin/env gawk -f\\n# Filter islands based on size specified in 'minimum_size' environment variable\\nBEGIN { FS=OFS=\\\"\\\\t\\\"; }\\n/^#/ || ($5-$4 >= ENVIRON[\\\"minimum_size\\\"]) { print }\", \"envs\": [{\"__index__\": 0, \"name\": \"minimum_size\", \"val\": \"8000\"}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "1147732a-f5d7-4bfa-b2de-008a60819445",
            "workflow_outputs": [
              {
                "label": "Unmerged Islands",
                "output_name": "outfile",
                "uuid": "03b705ab-c70b-49b8-9ae9-b2ac52bbe062"
              }
            ]
          },
          "11": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/feature_merge/feature-merge/1.2",
            "errors": null,
            "id": 11,
            "input_connections": {
              "inputs": {
                "id": 10,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": "Merge Islands",
            "name": "GFF/GTF Feature Merge",
            "outputs": [
              {
                "name": "output",
                "type": "gff"
              }
            ],
            "position": {
              "left": 2540.5,
              "top": 356.16668701171875
            },
            "post_job_actions": {
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Predicted Genomic Islands"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/feature_merge/feature-merge/1.2",
            "tool_shed_repository": {
              "changeset_revision": "fd6ec1fe399b",
              "name": "feature_merge",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"exact_only\": \"false\", \"exclude_components\": \"true\", \"features\": [], \"ignore_strand\": \"true\", \"inputs\": {\"__class__\": \"ConnectedValue\"}, \"merge_strategy\": \"append\", \"threshold\": \"500\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.2",
            "type": "tool",
            "uuid": "99cdab66-11d2-4cfa-a550-928aeef6bce4",
            "workflow_outputs": [
              {
                "label": "Predicted Genomic Islands",
                "output_name": "output",
                "uuid": "878990bf-541d-42d9-a3cf-2d2a7fb1b70d"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "006be925-76e3-4873-9a27-52456188e8ca"
      },
      "tool_id": "701b02597a33edc5",
      "type": "subworkflow",
      "uuid": "36c34ca9-0f15-46e5-b351-e5bbf2f9bd76",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "Unmerged Islands",
          "uuid": "0d1f4f82-f9ff-43f7-9ace-5fabb342bb4f"
        },
        {
          "label": null,
          "output_name": "Predicted Genomic Islands",
          "uuid": "c6290ef1-33ae-40c9-9dcf-395c856d0baf"
        }
      ]
    },
    "18": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
      "errors": null,
      "id": 18,
      "input_connections": {
        "input": {
          "id": 15,
          "output_name": "outputs"
        }
      },
      "inputs": [],
      "label": "To Fasta",
      "name": "BioPython SeqIO Converter",
      "outputs": [
        {
          "name": "output",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": 559.5500030517578,
        "height": 213.68333435058594,
        "left": -137.8333282470703,
        "right": 12.166671752929688,
        "top": 345.8666687011719,
        "width": 150,
        "x": -137.8333282470703,
        "y": 345.8666687011719
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "#{input} as Fasta"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/biopython_convert/biopython-convert/1.0",
      "tool_shed_repository": {
        "changeset_revision": "d9ae46bb9f09",
        "name": "biopython_convert",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"bioperl\": \"false\", \"info\": \"false\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"output_type\": \"fasta\", \"query\": \"[0]\", \"split\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "c9a37b3f-b3df-4cde-a396-dd193bab3d29",
      "workflow_outputs": []
    },
    "19": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 19,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 16,
          "output_name": "info_output"
        }
      },
      "inputs": [],
      "label": "Append collection ID to records",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": 134.61666870117188,
        "height": 121.80000305175781,
        "left": 160.75,
        "right": 310.75,
        "top": 12.816665649414062,
        "width": 150,
        "x": 160.75,
        "y": 12.816665649414062
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Input records"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"# Attach collection id to end of each gff record\\nfunction gff_encode(v) {\\n    gsub(/\\\\t/, \\\"%09\\\", v);\\n    gsub(/,/, \\\"%2C\\\", v);\\n    gsub(/=/, \\\"%3D\\\", v);\\n    gsub(/;/, \\\"%3B\\\", v);\\n    return v;\\n}\\nBEGIN { FS=OFS=\\\"\\\\t\\\" }\\nBEGINFILE { sub(/_\\\\d+$/, \\\"\\\", tool_input_id) } # Remove hid from id\\n/^[^#]/ { $9 = $9 \\\";userid=\\\" gff_encode(tool_input_id); print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "bac1e54e-252d-4646-a686-02069d965b89",
      "workflow_outputs": []
    },
    "20": {
      "annotation": "",
      "id": 20,
      "input_connections": {
        "Fasta": {
          "id": 18,
          "input_subworkflow_step_id": 1,
          "output_name": "output"
        },
        "Predicted GIs": {
          "id": 17,
          "input_subworkflow_step_id": 0,
          "output_name": "Unmerged Islands"
        }
      },
      "inputs": [],
      "label": null,
      "name": "BLAST Check",
      "outputs": [],
      "position": {
        "bottom": 451.8333435058594,
        "height": 141.88333129882812,
        "left": 182.06666564941406,
        "right": 332.06666564941406,
        "top": 309.95001220703125,
        "width": 150,
        "x": 182.06666564941406,
        "y": 309.95001220703125
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "BLAST Check",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Predicted GIs"
              }
            ],
            "label": "Predicted GIs",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 218,
              "top": 280.5
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "aa992997-6463-45b9-a28c-38dab59743c0",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "be960b7b-9d92-4569-b0f5-dd46cba13cb8"
              }
            ]
          },
          "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Fasta"
              }
            ],
            "label": "Fasta",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 227,
              "top": 466.640625
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "ee407559-9b61-474e-9592-184259ca2fd3",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "9134ba11-736b-441d-866d-b60bd3e795ce"
              }
            ]
          },
          "2": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 2,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Remove Comments",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 490,
              "top": 324
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"$0 !~ /^#/ {print}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "a0a94e43-8d98-441f-9056-a382e0b096c4",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_makeblastdb/0.3.3",
            "errors": null,
            "id": 3,
            "input_connections": {
              "input_file": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool NCBI BLAST+ makeblastdb",
                "name": "mask_data_file"
              }
            ],
            "label": "Genomes_BLAST_Database",
            "name": "NCBI BLAST+ makeblastdb",
            "outputs": [
              {
                "name": "outfile",
                "type": "data"
              }
            ],
            "position": {
              "left": 1004,
              "top": 555.5
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_makeblastdb/0.3.3",
            "tool_shed_repository": {
              "changeset_revision": "2889433c7ae1",
              "name": "ncbi_blast_plus",
              "owner": "devteam",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"dbtype\": \"nucl\", \"hash_index\": \"false\", \"input_file\": {\"__class__\": \"ConnectedValue\"}, \"mask_data_file\": {\"__class__\": \"RuntimeValue\"}, \"parse_seqids\": \"false\", \"tax\": {\"taxselect\": \"\", \"__current_case__\": 0}, \"title\": \"Genomes\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.3.3",
            "type": "tool",
            "uuid": "a8f2006e-149c-4a98-a2e2-6487bbc913b3",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "errors": null,
            "id": 4,
            "input_connections": {
              "inputs": {
                "id": 2,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Concatenate datasets",
            "outputs": [
              {
                "name": "out_file1",
                "type": "input"
              }
            ],
            "position": {
              "left": 508,
              "top": 188.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionout_file1": {
                "action_arguments": {
                  "newtype": "gff"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "out_file1"
              },
              "HideDatasetActionout_file1": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.0",
            "type": "tool",
            "uuid": "e2ef3ec1-10f8-4271-9ab5-a222e289d2fe",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
            "errors": null,
            "id": 5,
            "input_connections": {
              "input": {
                "id": 4,
                "output_name": "out_file1"
              }
            },
            "inputs": [],
            "label": "To BED",
            "name": "Cut",
            "outputs": [
              {
                "name": "output",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 784.140625,
              "top": 266.140625
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "bed"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Predicted Islands BED"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"complement\": \"\", \"cut_type_options\": {\"cut_element\": \"-f\", \"__current_case__\": 0, \"list\": \"1,4,5\"}, \"delimiter\": \"\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.1.0",
            "type": "tool",
            "uuid": "ccd60469-f6a2-4536-aa4f-f5e7d3d464a6",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
            "errors": null,
            "id": 6,
            "input_connections": {
              "fasta_source|fasta": {
                "id": 1,
                "output_name": "output"
              },
              "input": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "bedtools GetFastaBed",
            "outputs": [
              {
                "name": "output",
                "type": "fasta"
              }
            ],
            "position": {
              "left": 1037.5,
              "top": 316.640625
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Island Sequences from #{fasta_source.fasta} defined in #{input}"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
            "tool_shed_repository": {
              "changeset_revision": "87ee588b3d45",
              "name": "bedtools",
              "owner": "iuc",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"fasta_source\": {\"fasta_source_selector\": \"history\", \"__current_case__\": 0, \"fasta\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"name\": \"false\", \"split\": \"false\", \"strand\": \"false\", \"tab\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "2.27.1",
            "type": "tool",
            "uuid": "528dd273-b113-43c8-947f-2cfdc14d48bc",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/0.3.3",
            "errors": null,
            "id": 7,
            "input_connections": {
              "db_opts|histdb": {
                "id": 3,
                "output_name": "outfile"
              },
              "query": {
                "id": 6,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "GI_blastn",
            "name": "NCBI BLAST+ blastn",
            "outputs": [
              {
                "name": "output1",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 1327,
              "top": 481.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput1": {
                "action_arguments": {
                  "newtype": "tabular"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output1"
              },
              "HideDatasetActionoutput1": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output1"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/0.3.3",
            "tool_shed_repository": {
              "changeset_revision": "2889433c7ae1",
              "name": "ncbi_blast_plus",
              "owner": "devteam",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"adv_opts\": {\"adv_opts_selector\": \"advanced\", \"__current_case__\": 1, \"filter_query\": \"true\", \"strand\": \"-strand both\", \"max_hits\": \"0\", \"max_hsps\": \"\", \"identity_cutoff\": \"0.0\", \"word_size\": \"\", \"ungapped\": \"false\", \"parse_deflines\": \"false\", \"adv_optional_id_files_opts\": {\"adv_optional_id_files_opts_selector\": \"none\", \"__current_case__\": 0}, \"qcov_hsp_perc\": \"0.0\", \"window_size\": \"\", \"gapopen\": \"\", \"gapextend\": \"\"}, \"blast_type\": \"blastn\", \"db_opts\": {\"db_opts_selector\": \"histdb\", \"__current_case__\": 1, \"database\": \"\", \"histdb\": {\"__class__\": \"ConnectedValue\"}, \"subject\": \"\"}, \"evalue_cutoff\": \"0.001\", \"output\": {\"out_format\": \"cols\", \"__current_case__\": 2, \"std_cols\": [\"qseqid\", \"sseqid\", \"pident\", \"length\", \"mismatch\", \"gapopen\", \"qstart\", \"qend\", \"sstart\", \"send\", \"evalue\", \"bitscore\"], \"ext_cols\": [\"qlen\"], \"ids_cols\": null, \"misc_cols\": null, \"tax_cols\": null}, \"query\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.3.3",
            "type": "tool",
            "uuid": "6a893d71-8390-4453-9f00-5e3cb2216e3d",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 8,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 7,
                "output_name": "output1"
              }
            },
            "inputs": [],
            "label": "BLAST_Hit_Filter",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1684,
              "top": 505.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "tabular"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"$3>=90 && $4>400 && $11<1.63e-7 {print $1, $2, $4, $7, $8, $9, $10, ($9<$10 ? \\\"+\\\" : \\\"-\\\"), $13}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "67da9292-6f26-445e-b257-9647441df26e",
            "workflow_outputs": []
          },
          "9": {
            "annotation": "",
            "content_id": "__FILTER_EMPTY_DATASETS__",
            "errors": null,
            "id": 9,
            "input_connections": {
              "input": {
                "id": 8,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Filter empty",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1793,
              "top": 678
            },
            "post_job_actions": {},
            "tool_id": "__FILTER_EMPTY_DATASETS__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "059f43e7-4b59-4adb-95be-e07f8a189e61",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "a4c7068d-94c6-4c8a-8684-91f24810df52"
              }
            ]
          },
          "10": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
            "errors": null,
            "id": 10,
            "input_connections": {
              "infile": {
                "id": 9,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Sort_BLAST_Hits",
            "name": "Sort",
            "outputs": [
              {
                "name": "outfile",
                "type": "input"
              }
            ],
            "position": {
              "left": 1952,
              "top": 547
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"header\": \"0\", \"ignore_case\": \"false\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"1\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 1, \"column\": \"2\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 2, \"column\": \"8\", \"order\": \"r\", \"style\": \"\"}, {\"__index__\": 3, \"column\": \"6\", \"order\": \"\", \"style\": \"n\"}], \"unique\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.1.1",
            "type": "tool",
            "uuid": "3c82f717-8a79-445a-a4b8-e54103ce825e",
            "workflow_outputs": []
          },
          "11": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 11,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 10,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": "Grouping_Hits",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 2194,
              "top": 460
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"BEGIN {\\n    getline first\\n    split(first,last_line)\\n    gap_dist=14000\\n    min_length=5000\\n    min_cov=0.95\\n}\\n\\n{\\n    if (($1 == last_line[1]) && ($2 == last_line[2]) && ($8 == last_line[8]) && (($6 < $7) ? ($6 <= last_line[7]+gap_dist) : ($7 <= last_line[6]+gap_dist))) {\\n        if ($8 == \\\"+\\\") {\\n            last_line[6] = (last_line[6] < $6 ? last_line[6] : $6)\\n            last_line[7] = (last_line[7] > $7 ? last_line[7] : $7)\\n        } else {\\n            last_line[6] = (last_line[6] > $6 ? last_line[6] : $6)\\n            last_line[7] = (last_line[7] < $7 ? last_line[7] : $7)\\n        }\\n        if ($4 < last_line[4]) {\\n            last_line[3] += ($5 < last_line[4] ? $5 : last_line[4]-1) - $4 + 1\\n            last_line[4] = $4\\n        }\\n        if ($5 > last_line[5]) {\\n            last_line[3] += $5 - ($4 > last_line[5] ? $4 : last_line[5]+1) + 1\\n            last_line[5] = $5\\n        }\\n        if (last_line[3]<$3) {\\n            last_line[3] = $3\\n        }\\n    } else {\\n        if ((last_line[3] >= min_length) && (last_line[3]/last_line[9]>=min_cov)) {\\n            print last_line[2], \\\"blast\\\", \\\"genomic_island\\\", (last_line[6]<last_line[7] ? last_line[6] : last_line[7]), (last_line[6]<last_line[7] ? last_line[7] : last_line[6]), \\\".\\\", \\\"+\\\", \\\".\\\", \\\"Query=\\\" last_line[1]\\n        }\\n        split($0,last_line)\\n    }\\n}\\n\\nEND {\\n    if ((last_line[3] >= min_length) && (last_line[3]/last_line[9]>=min_cov)) {\\n        print last_line[2], \\\"blast\\\", \\\"genomic_island\\\", (last_line[6]<last_line[7] ? last_line[6] : last_line[7]), (last_line[6]<last_line[7] ? last_line[7] : last_line[6]), \\\".\\\", \\\"+\\\", \\\".\\\", \\\"Query=\\\" last_line[1]\\n    }\\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "e2fbf5e8-6842-4b17-8d61-1a8aab5e847c",
            "workflow_outputs": []
          },
          "12": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
            "errors": null,
            "id": 12,
            "input_connections": {
              "inputA": {
                "id": 11,
                "output_name": "outfile"
              },
              "reduce_or_iterate|inputB": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "GI_Predictor_Check",
            "name": "bedtools Intersect intervals",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 2565.5,
              "top": 344
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.27.1",
            "tool_shed_repository": {
              "changeset_revision": "87ee588b3d45",
              "name": "bedtools",
              "owner": "iuc",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"bed\": \"false\", \"count\": \"false\", \"fraction_cond\": {\"fraction_select\": \"specify\", \"__current_case__\": 1, \"overlap\": \"0.5\", \"reciprocal_cond\": {\"reciprocal\": \"\", \"__current_case__\": 1, \"overlapB\": \"1e-09\", \"disjoint\": \"false\"}}, \"header\": \"false\", \"inputA\": {\"__class__\": \"ConnectedValue\"}, \"invert\": \"true\", \"once\": \"false\", \"overlap_mode\": null, \"reduce_or_iterate\": {\"reduce_or_iterate_selector\": \"iterate\", \"__current_case__\": 0, \"inputB\": {\"__class__\": \"ConnectedValue\"}}, \"sorted\": \"false\", \"split\": \"false\", \"strand\": \"\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "2.27.1",
            "type": "tool",
            "uuid": "4c00001b-8a2a-4ba6-8743-376981a99c2c",
            "workflow_outputs": []
          },
          "13": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "errors": null,
            "id": 13,
            "input_connections": {
              "inputs": {
                "id": 12,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Collect_BLAST_Groups",
            "name": "Concatenate datasets",
            "outputs": [
              {
                "name": "out_file1",
                "type": "input"
              }
            ],
            "position": {
              "left": 2869,
              "top": 316.5
            },
            "post_job_actions": {
              "HideDatasetActionout_file1": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.0",
            "type": "tool",
            "uuid": "8729aae0-99cf-404b-8318-159510ec9b56",
            "workflow_outputs": []
          },
          "14": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
            "errors": null,
            "id": 14,
            "input_connections": {
              "infile": {
                "id": 13,
                "output_name": "out_file1"
              }
            },
            "inputs": [],
            "label": "Sort_All_BLAST_Groups",
            "name": "Sort",
            "outputs": [
              {
                "name": "outfile",
                "type": "input"
              }
            ],
            "position": {
              "left": 3166,
              "top": 321.5
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"header\": \"0\", \"ignore_case\": \"false\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"sortkeys\": [{\"__index__\": 0, \"column\": \"1\", \"order\": \"\", \"style\": \"\"}, {\"__index__\": 1, \"column\": \"4\", \"order\": \"\", \"style\": \"n\"}], \"unique\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.1.1",
            "type": "tool",
            "uuid": "f444380e-df16-448a-8f58-938a61565fda",
            "workflow_outputs": []
          },
          "15": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 15,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 14,
                "output_name": "outfile"
              }
            },
            "inputs": [],
            "label": "Filter_Redundant",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 3460,
              "top": 348.5
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "gff"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"BEGIN { \\n    getline first\\n    split(first,last_line)\\n}\\n\\n{\\n    if (($1 == last_line[1]) && ($4 <= last_line[5]) && ($5 >= last_line[4])) {\\n        if (last_line[5]-last_line[4] < $5-$4) {\\n            split($0,last_line)\\n        }\\n    } else {\\n        print join(last_line, \\\"\\\\t\\\")\\n        split($0,last_line)\\n    }\\n}\\n\\nEND {\\n    print join(last_line, \\\"\\\\t\\\")\\n}\\n\\nfunction join(array, sep)\\n{\\n    if (sep == \\\"\\\")\\n       sep = \\\" \\\"\\n    result = \\\"\\\"\\n    for (i=1; i<=length(array); i++) {\\n        if (i==1) {\\n            result = array[i]\\n        } else {\\n            result = result sep array[i]\\n        }\\n    }\\n    return result\\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "dc15589e-3a0a-4d92-a904-1c9a3fed55a9",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "outfile",
                "uuid": "6c05d646-f957-4031-b392-f6656338bb2f"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "cba0282b-003c-4b32-8b5f-0300b854294c"
      },
      "tool_id": "76951729dbc120dc",
      "type": "subworkflow",
      "uuid": "a570bdbc-80aa-4720-ae90-f02f2842e0c3",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "9:output",
          "uuid": "dd33f9df-b11c-4e35-b9bc-fb202039bff4"
        },
        {
          "label": null,
          "output_name": "15:outfile",
          "uuid": "0b9bb187-8597-48e1-8e70-c84faf67ddcb"
        }
      ]
    },
    "21": {
      "annotation": "",
      "content_id": "__MERGE_COLLECTION__",
      "errors": null,
      "id": 21,
      "input_connections": {
        "inputs_0|input": {
          "id": 18,
          "output_name": "output"
        },
        "inputs_1|input": {
          "id": 4,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Merge Collections",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 762.8000335693359,
        "height": 162.40000915527344,
        "left": 302.3666687011719,
        "right": 452.3666687011719,
        "top": 600.4000244140625,
        "width": 150,
        "x": 302.3666687011719,
        "y": 600.4000244140625
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__MERGE_COLLECTION__",
      "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_every\", \"__current_case__\": 2, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "f08488fc-c10f-4ec3-a5b5-37226d3ff47c",
      "workflow_outputs": []
    },
    "22": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/card/rgi/rgi/5.1.0",
      "errors": null,
      "id": 22,
      "input_connections": {
        "input_sequence": {
          "id": 18,
          "output_name": "output"
        }
      },
      "inputs": [
        {
          "description": "runtime parameter for tool Resistance Gene Identifier (RGI)",
          "name": "input_sequence"
        }
      ],
      "label": null,
      "name": "Resistance Gene Identifier (RGI)",
      "outputs": [
        {
          "name": "report",
          "type": "json"
        },
        {
          "name": "summary",
          "type": "tabular"
        }
      ],
      "position": {
        "bottom": 586.1666717529297,
        "height": 208.3000030517578,
        "left": 1148.2166748046875,
        "right": 1298.2166748046875,
        "top": 377.8666687011719,
        "width": 150,
        "x": 1148.2166748046875,
        "y": 377.8666687011719
      },
      "post_job_actions": {
        "HideDatasetActionreport": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "report"
        },
        "HideDatasetActionsummary": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "summary"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/card/rgi/rgi/5.1.0",
      "tool_shed_repository": {
        "changeset_revision": "f96cbb663aa9",
        "name": "rgi",
        "owner": "card",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"alignment_tool\": \"blast\", \"data\": \"NA\", \"db_opts\": {\"db_opts_selector\": \"local\", \"__current_case__\": 1, \"rgi_db_local\": \"latest\", \"rgi_db_hist\": \"\"}, \"include_loose\": \"false\", \"input_sequence\": {\"__class__\": \"RuntimeValue\"}, \"input_type\": \"contig\", \"low_quality\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "5.1.0",
      "type": "tool",
      "uuid": "a757285e-0c57-44e9-853b-32bd7bb08f37",
      "workflow_outputs": []
    },
    "23": {
      "annotation": "",
      "content_id": "__BUILD_LIST__",
      "errors": null,
      "id": 23,
      "input_connections": {
        "datasets_0|input": {
          "id": 20,
          "output_name": "15:outfile"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Build List",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 584.2500152587891,
        "height": 91.28334045410156,
        "left": 321.08331298828125,
        "right": 471.08331298828125,
        "top": 492.9666748046875,
        "width": 150,
        "x": 321.08331298828125,
        "y": 492.9666748046875
      },
      "post_job_actions": {},
      "tool_id": "__BUILD_LIST__",
      "tool_state": "{\"datasets\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "af0fdfe7-02a2-45e9-a7ac-8386e2897da5",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "3f32d2c9-08bf-49f5-b5b3-2e62da7d965c"
        }
      ]
    },
    "24": {
      "annotation": "",
      "content_id": "__APPLY_RULES__",
      "errors": null,
      "id": 24,
      "input_connections": {
        "input": {
          "id": 21,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Rebuild list:list",
      "name": "Apply Rule to Collection",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 639.5832977294922,
        "height": 75.98332214355469,
        "left": 585.9500122070312,
        "right": 735.9500122070312,
        "top": 563.5999755859375,
        "width": 150,
        "x": 585.9500122070312,
        "y": 563.5999755859375
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__APPLY_RULES__",
      "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"columns\": [1, 0], \"connectable\": true, \"editing\": false, \"is_workflow\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"is_workflow\": false, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"collapsible_value\": {\"__class__\": \"RuntimeValue\"}, \"connectable\": true, \"error\": null, \"expression\": \"\\\\d+$\", \"is_workflow\": false, \"target_column\": 0, \"type\": \"add_column_regex\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "5b2828cb-03c4-4c4d-8cc2-c9a2a2d4d406",
      "workflow_outputs": []
    },
    "25": {
      "annotation": "",
      "content_id": "__MERGE_COLLECTION__",
      "errors": null,
      "id": 25,
      "input_connections": {
        "inputs_0|input": {
          "id": 19,
          "output_name": "outfile"
        },
        "inputs_1|input": {
          "id": 17,
          "output_name": "Unmerged Islands"
        },
        "inputs_2|input": {
          "id": 23,
          "output_name": "output"
        },
        "inputs_3|input": {
          "id": 16,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Merge Collections",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 408,
        "height": 243.60000610351562,
        "left": 434.3666687011719,
        "right": 584.3666687011719,
        "top": 164.39999389648438,
        "width": 150,
        "x": 434.3666687011719,
        "y": 164.39999389648438
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__MERGE_COLLECTION__",
      "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"suffix_conflict_rest\", \"__current_case__\": 1, \"suffix_pattern\": \"_#\"}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 2, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 3, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "291adce8-c75a-4d98-b2b9-d1ad55daaa28",
      "workflow_outputs": []
    },
    "26": {
      "annotation": "",
      "content_id": "__RELABEL_FROM_FILE__",
      "errors": null,
      "id": 26,
      "input_connections": {
        "how|labels": {
          "id": 0,
          "output_name": "outfile"
        },
        "input": {
          "id": 24,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Relabel List Identifiers",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 746.6667022705078,
        "height": 131.8000030517578,
        "left": 856.75,
        "right": 1006.75,
        "top": 614.86669921875,
        "width": 150,
        "x": 856.75,
        "y": 614.86669921875
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "Bundled newick and fasta"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__RELABEL_FROM_FILE__",
      "tool_state": "{\"how\": {\"how_select\": \"txt\", \"__current_case__\": 0, \"labels\": {\"__class__\": \"ConnectedValue\"}, \"strict\": \"false\"}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "7c87abe2-f59a-4078-8a71-e690447f258b",
      "workflow_outputs": []
    },
    "27": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/feature_merge/feature-merge/1.2",
      "errors": null,
      "id": 27,
      "input_connections": {
        "inputs": {
          "id": 25,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Merge user annotations",
      "name": "GFF/GTF Feature Merge",
      "outputs": [
        {
          "name": "output",
          "type": "gff"
        }
      ],
      "position": {
        "bottom": 305.21665954589844,
        "height": 91.19999694824219,
        "left": 714.75,
        "right": 864.75,
        "top": 214.01666259765625,
        "width": 150,
        "x": 714.75,
        "y": 214.01666259765625
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/feature_merge/feature-merge/1.2",
      "tool_shed_repository": {
        "changeset_revision": "fd6ec1fe399b",
        "name": "feature_merge",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"exact_only\": \"false\", \"exclude_components\": \"true\", \"features\": [{\"__index__\": 0, \"csv\": \"genomic_island\"}], \"ignore_strand\": \"true\", \"inputs\": {\"__class__\": \"ConnectedValue\"}, \"merge_strategy\": \"append\", \"threshold\": \"500\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.2",
      "type": "tool",
      "uuid": "ede039a4-0975-47f7-ad2c-9cfdda3f51c1",
      "workflow_outputs": []
    },
    "28": {
      "annotation": "",
      "id": 28,
      "input_connections": {
        "list:list of data and optional inputs": {
          "id": 26,
          "input_subworkflow_step_id": 0,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Prepare newick",
      "outputs": [],
      "position": {
        "bottom": 708.5000152587891,
        "height": 91.28334045410156,
        "left": 1140.63330078125,
        "right": 1290.63330078125,
        "top": 617.2166748046875,
        "width": 150,
        "x": 1140.63330078125,
        "y": 617.2166748046875
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Prepare newick",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "list:list of data and optional inputs"
              }
            ],
            "label": "list:list of data and optional inputs",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 200,
              "top": 200
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"collection_type\": \"list:list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "9002506b-eb9c-4ed7-a2de-7b2e4051b2e5",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "1df29478-1a9e-4178-8501-5103b7ee4db5"
              }
            ]
          },
          "1": {
            "annotation": "",
            "content_id": "__FLATTEN__",
            "errors": null,
            "id": 1,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Flatten Collection",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 430.166748046875,
              "top": 396.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__FLATTEN__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"join_identifier\": \":\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "a597685e-e0f7-4718-833c-b5cd1a170440",
            "workflow_outputs": []
          },
          "2": {
            "annotation": "",
            "content_id": "__APPLY_RULES__",
            "errors": null,
            "id": 2,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Filter input newick",
            "name": "Apply Rule to Collection",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 2510.6666717529297,
              "top": 222.1666717529297
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__APPLY_RULES__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"columns\": [1], \"editing\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier1\", \"warn\": null}, {\"error\": null, \"invert\": false, \"target_column\": 0, \"type\": \"add_filter_matches\", \"value\": \"newick\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "2afc52a6-d7c5-426a-bd4f-f7ea30b45403",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 3,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 1,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "newick filter logic",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 729,
              "top": 376
            },
            "post_job_actions": {
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "To phylogenise"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# If tool_input_id begins with query, output nothing, else output result\\nmatch(tool_input_id, \\\"^\\\"ENVIRON[\\\"query\\\"]\\\":\\\") { found = 1; exit }\\n{ nextfile }\\nEND { if (!found) print ENVIRON[\\\"result\\\"] }\", \"envs\": [{\"__index__\": 0, \"name\": \"query\", \"val\": \"newick\"}, {\"__index__\": 1, \"name\": \"result\", \"val\": \"data\"}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "ce9b8d1f-2363-4ed6-8b17-7c4a46cff0b2",
            "workflow_outputs": []
          },
          "4": {
            "annotation": "",
            "content_id": "__FILTER_FROM_FILE__",
            "errors": null,
            "id": 4,
            "input_connections": {
              "how|filter_source": {
                "id": 3,
                "output_name": "outfile"
              },
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Output data for ParSNP",
            "name": "Filter List",
            "outputs": [
              {
                "name": "output_filtered",
                "type": "input"
              },
              {
                "name": "output_discarded",
                "type": "input"
              }
            ],
            "position": {
              "left": 1072,
              "top": 289
            },
            "post_job_actions": {
              "HideDatasetActionoutput_discarded": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_discarded"
              },
              "HideDatasetActionoutput_filtered": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output_filtered"
              }
            },
            "tool_id": "__FILTER_FROM_FILE__",
            "tool_state": "{\"how\": {\"how_filter\": \"remove_if_absent\", \"__current_case__\": 0, \"filter_source\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "30a4264b-c3d6-45ca-af62-e068d040845f",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "__FLATTEN__",
            "errors": null,
            "id": 5,
            "input_connections": {
              "input": {
                "id": 4,
                "output_name": "output_filtered"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Flatten Collection",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1397.1666259765625,
              "top": 459.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__FLATTEN__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"join_identifier\": \"_\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "12cfcb17-7363-4de6-8d94-c3584ccc343c",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 6,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Extract sequence names",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1601.1666870117188,
              "top": 710.1666870117188
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "tabular"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              },
              "HideDatasetActionoutfile": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "outfile"
              },
              "RenameDatasetActionoutfile": {
                "action_arguments": {
                  "newname": "Sequence IDs"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"# Extract sequence ids and associate to current collection id\\nfunction escape_posix(a) {\\n    gsub(\\\"_\\\", \\\"_esc_\\\", a); # Must be first\\n    gsub(\\\"&\\\", \\\"_amp_\\\", a);\\n    gsub(\\\"/\\\", \\\"_slash_\\\", a);\\n    gsub(\\\"\\\\\\\\\\\\\\\\\\\", \\\"_baskslash_\\\", a);\\n    gsub(\\\"\\\\\\\\?\\\", \\\"_question_\\\", a);\\n    gsub(\\\"%\\\", \\\"_percent_\\\", a);\\n    gsub(\\\"\\\\\\\\*\\\", \\\"_star_\\\", a);\\n    gsub(\\\":\\\", \\\"_colon_\\\", a);\\n    gsub(\\\"\\\\\\\\|\\\", \\\"_pipe_\\\", a);\\n    gsub(\\\"\\\\\\\"\\\", \\\"_dblquot_\\\", a);\\n    gsub(\\\"<\\\", \\\"_lt_\\\", a);\\n    gsub(\\\">\\\", \\\"_gt_\\\", a);\\n    gsub(\\\"\\\\\\\\.\\\", \\\"_dot_\\\", a);\\n    gsub(\\\" \\\", \\\"_space_\\\", a);\\n    gsub(\\\"\\\\t\\\", \\\"_tab_\\\", a);\\n    gsub(\\\"'\\\", \\\"_quot_\\\", a);\\n    return a;\\n}\\n\\nmatch($0, /^>([^ ]+)/, a) {\\n    name=escape_posix(a[1]);\\n    if (name in names) nextfile;\\n    names[name] = true;\\n    print tool_input_id, name;\\n    nextfile \\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "3215ef83-ecd7-4f7c-bd89-3bd3cebeb380",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "__RELABEL_FROM_FILE__",
            "errors": null,
            "id": 7,
            "input_connections": {
              "how|labels": {
                "id": 6,
                "output_name": "outfile"
              },
              "input": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Relabel List Identifiers",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 1843.1666870117188,
              "top": 489.16668701171875
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "fasta"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__RELABEL_FROM_FILE__",
            "tool_state": "{\"how\": {\"how_select\": \"tabular\", \"__current_case__\": 1, \"labels\": {\"__class__\": \"ConnectedValue\"}, \"strict\": \"false\"}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "a0377edb-83fe-4a02-82c8-7d3b2c887d69",
            "workflow_outputs": []
          },
          "8": {
            "annotation": "",
            "content_id": "__APPLY_RULES__",
            "errors": null,
            "id": 8,
            "input_connections": {
              "input": {
                "id": 7,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Map over to avoid error",
            "name": "Apply Rule to Collection",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 2109.6666870117188,
              "top": 492.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__APPLY_RULES__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"columns\": [1, 0], \"editing\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"error\": null, \"type\": \"add_column_value\", \"value\": \"data\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "3391bc41-47cb-40df-824c-d394178f9944",
            "workflow_outputs": []
          },
          "9": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/parsnp/parsnp/1.2",
            "errors": null,
            "id": 9,
            "input_connections": {
              "genomes": {
                "id": 8,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool ParSNP",
                "name": "adv"
              }
            ],
            "label": null,
            "name": "ParSNP",
            "outputs": [
              {
                "name": "tree",
                "type": "newick"
              },
              {
                "name": "vcf",
                "type": "vcf"
              },
              {
                "name": "ggr",
                "type": "ggr"
              },
              {
                "name": "xfma",
                "type": "xfma"
              }
            ],
            "position": {
              "left": 2397,
              "top": 441
            },
            "post_job_actions": {
              "HideDatasetActionggr": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "ggr"
              },
              "HideDatasetActiontree": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "tree"
              },
              "HideDatasetActionvcf": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "vcf"
              },
              "HideDatasetActionxfma": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "xfma"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/parsnp/parsnp/1.2",
            "tool_shed_repository": {
              "changeset_revision": "22bf5b566ce2",
              "name": "parsnp",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"adv\": {\"query_genome\": {\"__class__\": \"RuntimeValue\"}, \"use_ids\": \"true\", \"filter_snp\": \"false\", \"min_anchor_len\": {\"anchor_default\": \"true\", \"__current_case__\": 1}, \"d_value\": \"100\", \"lcb_size\": \"25\", \"MUMi_or_curated\": {\"curated\": \"true\", \"__current_case__\": 1}, \"max_diag_diff\": {\"diag_diff_unit\": \"\", \"__current_case__\": 0, \"diag_diff\": \"0.12\"}, \"extend_lcb\": \"false\", \"aligner\": \"muscle\", \"output_unaligned\": \"false\"}, \"genomes\": {\"__class__\": \"ConnectedValue\"}, \"ref_or_gbk\": {\"ref_type\": \"fasta\", \"__current_case__\": 0, \"ref_genome\": {\"random_ref\": \"true\", \"__current_case__\": 1}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.2",
            "type": "tool",
            "uuid": "bff28e32-d142-4ecf-86e4-47c92a92eea9",
            "workflow_outputs": []
          },
          "10": {
            "annotation": "",
            "content_id": "__MERGE_COLLECTION__",
            "errors": null,
            "id": 10,
            "input_connections": {
              "inputs_0|input": {
                "id": 2,
                "output_name": "output"
              },
              "inputs_1|input": {
                "id": 9,
                "output_name": "tree"
              }
            },
            "inputs": [],
            "label": null,
            "name": "Merge Collections",
            "outputs": [
              {
                "name": "output",
                "type": "input"
              }
            ],
            "position": {
              "left": 2827.1666717529297,
              "top": 325.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__MERGE_COLLECTION__",
            "tool_state": "{\"advanced\": {\"conflict\": {\"duplicate_options\": \"keep_first\", \"__current_case__\": 3}}, \"inputs\": [{\"__index__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}, {\"__index__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "b25ca44e-c83e-4eee-82db-d6aedb819e64",
            "workflow_outputs": []
          },
          "11": {
            "annotation": "",
            "content_id": "__EXTRACT_DATASET__",
            "errors": null,
            "id": 11,
            "input_connections": {
              "input": {
                "id": 10,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Extract resulting newick",
            "name": "Extract Dataset",
            "outputs": [
              {
                "name": "output",
                "type": "data"
              }
            ],
            "position": {
              "left": 3183.1666870117188,
              "top": 352.16668701171875
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "txt"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "__EXTRACT_DATASET__",
            "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"which\": {\"which_dataset\": \"first\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.0",
            "type": "tool",
            "uuid": "399a59b4-887d-4caa-a870-0fad7dc48065",
            "workflow_outputs": []
          },
          "12": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "errors": null,
            "id": 12,
            "input_connections": {
              "infiles_0|input_type_selection|infile": {
                "id": 11,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Unescape and clean output",
            "name": "AWK Script",
            "outputs": [
              {
                "name": "outfile",
                "type": "txt"
              }
            ],
            "position": {
              "left": 3506.1666870117188,
              "top": 352.16668701171875
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutfile": {
                "action_arguments": {
                  "newtype": "newick"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "outfile"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
            "tool_shed_repository": {
              "changeset_revision": "7966a43dbc9e",
              "name": "awkscript",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"code\": \"function unescape_posix(a) {\\n    gsub(\\\"_amp_\\\", \\\"&\\\", a);\\n    gsub(\\\"_slash_\\\", \\\"/\\\", a);\\n    gsub(\\\"_baskslash_\\\", \\\"\\\\\\\\\\\", a);\\n    gsub(\\\"_question_\\\", \\\"?\\\", a);\\n    gsub(\\\"_percent_\\\", \\\"%\\\", a);\\n    gsub(\\\"_star_\\\", \\\"*\\\", a);\\n    gsub(\\\"_colon_\\\", \\\":\\\", a);\\n    gsub(\\\"_pipe_\\\", \\\"|\\\", a);\\n    gsub(\\\"_dblquot_\\\", \\\"\\\\\\\"\\\", a);\\n    gsub(\\\"_lt_\\\", \\\"<\\\", a);\\n    gsub(\\\"_gt_\\\", \\\">\\\", a);\\n    gsub(\\\"_dot_\\\", \\\".\\\", a);\\n    gsub(\\\"_space_\\\", \\\" \\\", a);\\n    gsub(\\\"_tab_\\\", \\\"\\\\t\\\", a);\\n    gsub(\\\"_quot_\\\", \\\"'\\\", a);\\n    gsub(\\\"_esc_\\\", \\\"_\\\", a); #Must be last\\n    return a;\\n}\\n\\n{ print unescape_posix(gensub(/'([^']+)\\\\.ref'/, \\\"'\\\\\\\\1'\\\", \\\"g\\\", $0)); nextfile }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"RuntimeValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0",
            "type": "tool",
            "uuid": "9185db84-d1c9-47f5-97cd-3e8b3a5b1dbe",
            "workflow_outputs": [
              {
                "label": "",
                "output_name": "outfile",
                "uuid": "678ee6eb-2a2b-4764-b8b3-3be9c25ead7f"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "02e10ee3-2c7c-4420-9902-c52f05405c1e"
      },
      "tool_id": "b6aabc3d0ccdb88f",
      "type": "subworkflow",
      "uuid": "56bd2263-31f4-4dae-b948-2fdd9f0eb6bf",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "12:outfile",
          "uuid": "2729deaf-50f8-4ed2-b399-24a98bba61a7"
        }
      ]
    },
    "29": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 29,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 27,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Extract Islands",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": 230.28334045410156,
        "height": 91.28334045410156,
        "left": 1298.1666259765625,
        "right": 1448.1666259765625,
        "top": 139,
        "width": 150,
        "x": 1298.1666259765625,
        "y": 139
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Islands to be clustered"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"$3==\\\"genomic_island\\\" && $9 !~ /Parent=/ { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "7e349f7a-1898-4484-b369-31d0ad7dc107",
      "workflow_outputs": []
    },
    "30": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
      "errors": null,
      "id": 30,
      "input_connections": {
        "inputs": {
          "id": 28,
          "output_name": "12:outfile"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Concatenate datasets",
      "outputs": [
        {
          "name": "out_file1",
          "type": "input"
        }
      ],
      "position": {
        "bottom": 844.4166870117188,
        "height": 91.20001220703125,
        "left": 1392.63330078125,
        "right": 1542.63330078125,
        "top": 753.2166748046875,
        "width": 150,
        "x": 1392.63330078125,
        "y": 753.2166748046875
      },
      "post_job_actions": {
        "ChangeDatatypeActionout_file1": {
          "action_arguments": {
            "newtype": "newick"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "out_file1"
        },
        "RenameDatasetActionout_file1": {
          "action_arguments": {
            "newname": "Newick"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "out_file1"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
      "tool_shed_repository": {
        "changeset_revision": "a6f147a050a2",
        "name": "text_processing",
        "owner": "bgruening",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "0.1.0",
      "type": "tool",
      "uuid": "713f872e-89f3-4cd5-a465-1be99f9549ec",
      "workflow_outputs": [
        {
          "label": "Newick",
          "output_name": "out_file1",
          "uuid": "19415ec5-08cf-4a53-b06a-cb15e343c586"
        }
      ]
    },
    "31": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/extract_tree_order/extract-tree-order/1.0",
      "errors": null,
      "id": 31,
      "input_connections": {
        "input": {
          "id": 28,
          "output_name": "12:outfile"
        }
      },
      "inputs": [],
      "label": "Extract alignment order",
      "name": "BioPython Phylo Parse Newick Leaf Order",
      "outputs": [
        {
          "name": "output",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": -1968.4667358398438,
        "height": 91.20001220703125,
        "left": -1516.63330078125,
        "right": -1366.63330078125,
        "top": -2059.666748046875,
        "width": 150,
        "x": -1516.63330078125,
        "y": -2059.666748046875
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "Alignment order"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/extract_tree_order/extract-tree-order/1.0",
      "tool_shed_repository": {
        "changeset_revision": "eb980e8bb133",
        "name": "extract_tree_order",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "32985403-9092-493e-9aef-b319d3d30f39",
      "workflow_outputs": []
    },
    "32": {
      "annotation": "",
      "id": 32,
      "input_connections": {
        "Fasta": {
          "id": 18,
          "input_subworkflow_step_id": 1,
          "output_name": "output"
        },
        "Island GFF": {
          "id": 29,
          "input_subworkflow_step_id": 0,
          "output_name": "outfile"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Cluster islands",
      "outputs": [],
      "position": {
        "bottom": 322.78334045410156,
        "height": 157.18333435058594,
        "left": 1629.36669921875,
        "right": 1779.36669921875,
        "top": 165.60000610351562,
        "width": 150,
        "x": 1629.36669921875,
        "y": 165.60000610351562
      },
      "subworkflow": {
        "a_galaxy_workflow": "true",
        "annotation": "",
        "format-version": "0.1",
        "name": "Cluster islands",
        "steps": {
          "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Island GFF"
              }
            ],
            "label": "Island GFF",
            "name": "Input dataset",
            "outputs": [],
            "position": {
              "left": 203,
              "top": 198.16668701171875
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "5c290a3e-695e-4bfd-b0d7-3fcfa62a6b80",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "b3903cd1-a06b-4e95-a49f-31826b7daded"
              }
            ]
          },
          "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
              {
                "description": "",
                "name": "Fasta"
              }
            ],
            "label": "Fasta",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
              "left": 204,
              "top": 293.16668701171875
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "6f5bf7ac-66b9-46e8-b371-9d86ee78ac44",
            "workflow_outputs": [
              {
                "label": null,
                "output_name": "output",
                "uuid": "e90d0f62-0ba5-442e-8a87-36c595eff705"
              }
            ]
          },
          "2": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
            "errors": null,
            "id": 2,
            "input_connections": {
              "input": {
                "id": 0,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "To BED",
            "name": "Cut",
            "outputs": [
              {
                "name": "output",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 445.16668701171875,
              "top": 177.66668701171875
            },
            "post_job_actions": {
              "ChangeDatatypeActionoutput": {
                "action_arguments": {
                  "newtype": "bed"
                },
                "action_type": "ChangeDatatypeAction",
                "output_name": "output"
              },
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              },
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Predicted Islands BED"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0",
            "tool_shed_repository": {
              "changeset_revision": "a6f147a050a2",
              "name": "text_processing",
              "owner": "bgruening",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"complement\": \"\", \"cut_type_options\": {\"cut_element\": \"-f\", \"__current_case__\": 0, \"list\": \"1,4,5\"}, \"delimiter\": \"\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.1.0",
            "type": "tool",
            "uuid": "c637a7e3-f6df-41de-b0c8-58176ae99c96",
            "workflow_outputs": []
          },
          "3": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
            "errors": null,
            "id": 3,
            "input_connections": {
              "fasta_source|fasta": {
                "id": 1,
                "output_name": "output"
              },
              "input": {
                "id": 2,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": null,
            "name": "bedtools GetFastaBed",
            "outputs": [
              {
                "name": "output",
                "type": "fasta"
              }
            ],
            "position": {
              "left": 698.5,
              "top": 228.16668701171875
            },
            "post_job_actions": {
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Island Sequences from #{fasta_source.fasta} defined in #{input}"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.27.1",
            "tool_shed_repository": {
              "changeset_revision": "87ee588b3d45",
              "name": "bedtools",
              "owner": "iuc",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"fasta_source\": {\"fasta_source_selector\": \"history\", \"__current_case__\": 0, \"fasta\": {\"__class__\": \"ConnectedValue\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"name\": \"false\", \"split\": \"false\", \"strand\": \"false\", \"tab\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "2.27.1",
            "type": "tool",
            "uuid": "8a8653f8-ae53-4419-b2c3-8ab12911cc82",
            "workflow_outputs": [
              {
                "label": "Island Sequences",
                "output_name": "output",
                "uuid": "20aba1de-b859-42ff-a407-8436292d2864"
              }
            ]
          },
          "4": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "errors": null,
            "id": 4,
            "input_connections": {
              "commands|inputs": {
                "id": 3,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool MASH",
                "name": "commands"
              }
            ],
            "label": "Mash Sketch",
            "name": "MASH",
            "outputs": [
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 977,
              "top": 230.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "tool_shed_repository": {
              "changeset_revision": "572587cbb1dd",
              "name": "mash",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"commands\": {\"command\": \"sketch\", \"__current_case__\": 5, \"inputs\": {\"__class__\": \"RuntimeValue\"}, \"kmer_size\": \"16\", \"sketch_size\": \"1000\", \"hash_seed\": \"42\", \"kmer_size_thresh\": \"0.01\", \"input_option\": {\"individual_seq\": \"true\", \"__current_case__\": 1}, \"preserve_strand\": \"false\", \"use_aaa\": \"false\", \"alphabet\": \"\", \"preserve_case\": \"false\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "2.1",
            "type": "tool",
            "uuid": "cfd7ff51-ad66-43b8-8844-4d2d9c765945",
            "workflow_outputs": []
          },
          "5": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "errors": null,
            "id": 5,
            "input_connections": {
              "commands|inputs": {
                "id": 4,
                "output_name": "output"
              },
              "commands|reference": {
                "id": 4,
                "output_name": "output"
              }
            },
            "inputs": [
              {
                "description": "runtime parameter for tool MASH",
                "name": "commands"
              },
              {
                "description": "runtime parameter for tool MASH",
                "name": "commands"
              }
            ],
            "label": "MASH Generate Island Graph",
            "name": "MASH",
            "outputs": [
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1270,
              "top": 231.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionoutput": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mash/mash/2.1",
            "tool_shed_repository": {
              "changeset_revision": "572587cbb1dd",
              "name": "mash",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"commands\": {\"command\": \"dist\", \"__current_case__\": 1, \"reference\": {\"__class__\": \"RuntimeValue\"}, \"inputs\": {\"__class__\": \"RuntimeValue\"}, \"table_output\": \"false\", \"max_p\": \"1.0\", \"max_dist\": \"1.0\", \"kmer_size\": \"16\", \"sketch_size\": \"1000\", \"hash_seed\": \"42\", \"kmer_size_thresh\": \"0.01\", \"input_option\": {\"individual_seq\": \"true\", \"__current_case__\": 1}, \"preserve_strand\": \"false\", \"use_aaa\": \"false\", \"alphabet\": \"\", \"preserve_case\": \"false\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "2.1",
            "type": "tool",
            "uuid": "e6ac363d-985c-4dce-b2a3-fd356d415b54",
            "workflow_outputs": []
          },
          "6": {
            "annotation": "",
            "content_id": "Cut1",
            "errors": null,
            "id": 6,
            "input_connections": {
              "input": {
                "id": 5,
                "output_name": "output"
              }
            },
            "inputs": [],
            "label": "Remove columns",
            "name": "Cut",
            "outputs": [
              {
                "name": "out_file1",
                "type": "tabular"
              }
            ],
            "position": {
              "left": 1552,
              "top": 233.16668701171875
            },
            "post_job_actions": {
              "HideDatasetActionout_file1": {
                "action_arguments": {},
                "action_type": "HideDatasetAction",
                "output_name": "out_file1"
              }
            },
            "tool_id": "Cut1",
            "tool_state": "{\"columnList\": \"c1,c2,c3\", \"delimiter\": \"T\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.0.2",
            "type": "tool",
            "uuid": "69563bdd-9eab-429f-a7ee-ef287be02a1c",
            "workflow_outputs": []
          },
          "7": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mcl/mcl/14.137",
            "errors": null,
            "id": 7,
            "input_connections": {
              "input_type_select|input": {
                "id": 6,
                "output_name": "out_file1"
              }
            },
            "inputs": [],
            "label": "MCL cluster islands",
            "name": "MCL",
            "outputs": [
              {
                "name": "output",
                "type": "txt"
              }
            ],
            "position": {
              "left": 1797,
              "top": 236.16668701171875
            },
            "post_job_actions": {
              "RenameDatasetActionoutput": {
                "action_arguments": {
                  "newname": "Island clusters"
                },
                "action_type": "RenameDatasetAction",
                "output_name": "output"
              }
            },
            "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/mcl/mcl/14.137",
            "tool_shed_repository": {
              "changeset_revision": "60609b076830",
              "name": "mcl",
              "owner": "brinkmanlab",
              "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"discard_loops\": \"true\", \"inflation\": \"5.0\", \"input_type_select\": {\"input_type\": \"--abc\", \"__current_case__\": 1, \"input\": {\"__class__\": \"ConnectedValue\"}}, \"reweight\": \"1.0\", \"sum_loops\": \"false\", \"transform\": \"mul(-1),add(1),gq(0.96)\", \"verbosity\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "14.137",
            "type": "tool",
            "uuid": "c37982df-babd-499c-a477-e7d89d48f96d",
            "workflow_outputs": [
              {
                "label": "Island clusters",
                "output_name": "output",
                "uuid": "947b5d8c-139d-418c-b964-5b32b602a080"
              }
            ]
          }
        },
        "tags": "",
        "uuid": "f968d232-0abe-4a0a-96a3-54fdbec48b8f"
      },
      "tool_id": "1ae6f63650c51001",
      "type": "subworkflow",
      "uuid": "85cebc62-d27d-475c-b3eb-58eb89c5a2d4",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "Island clusters",
          "uuid": "f82706fb-939e-42fb-8f81-11fbdab95e1f"
        },
        {
          "label": null,
          "output_name": "Island Sequences",
          "uuid": "795bd6bd-2304-4553-bebe-07900895428f"
        }
      ]
    },
    "33": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 33,
      "input_connections": {
        "envs_0|val": {
          "id": 3,
          "output_name": "output"
        },
        "infiles_0|input_type_selection|infile": {
          "id": 18,
          "output_name": "output"
        },
        "infiles_1|input_type_selection|infile": {
          "id": 31,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Generate alignment order",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": -1885.5500030517578,
        "height": 187.6999969482422,
        "left": -1220.566650390625,
        "right": -1070.566650390625,
        "top": -2073.25,
        "width": 150,
        "x": -1220.566650390625,
        "y": -2073.25
      },
      "post_job_actions": {
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Collection order"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"BEGIN { \\n    OFS=FS=\\\"\\\\t\\\";\\n    by_collection_id = ENVIRON[\\\"by_collection_id\\\"] == \\\"True\\\"; # Allow toggling between using accession and collection id as identifiers in newick\\n}\\ntool_input == 0 && by_collection_id {\\n    names[tool_input_id] = tool_input_id;\\n    nextfile;\\n}\\ntool_input == 0 && match($0, /^>([^ ]+)/, a) {\\n    names[a[1]] = tool_input_id;\\n    nextfile;\\n}\\ntool_input == 1 && ($1 in names) {\\n    print names[$1];\\n    delete names[$1];\\n}\\nEND {\\n    # Output elements not found in alignment order\\n    for (name in names) print names[name];\\n}\", \"envs\": [{\"__index__\": 0, \"name\": \"by_collection_id\", \"val\": {\"__class__\": \"ConnectedValue\"}}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "49d7a9bf-3cfb-43e6-bbc0-3717d1f1c156",
      "workflow_outputs": []
    },
    "34": {
      "annotation": "",
      "content_id": "__SORTLIST__",
      "errors": null,
      "id": 34,
      "input_connections": {
        "input": {
          "id": 18,
          "output_name": "output"
        },
        "sort_type|sort_file": {
          "id": 33,
          "output_name": "outfile"
        }
      },
      "inputs": [],
      "label": "Sort datasets to order of alignment",
      "name": "Sort Collection",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -2117.2667388916016,
        "height": 162.40000915527344,
        "left": -978.9833374023438,
        "right": -828.9833374023438,
        "top": -2279.666748046875,
        "width": 150,
        "x": -978.9833374023438,
        "y": -2279.666748046875
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "Sequences in Alignment Order"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__SORTLIST__",
      "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"sort_type\": {\"sort_type\": \"file\", \"__current_case__\": 2, \"sort_file\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "4960b0a6-c428-4cd6-bb38-6e357b7de4ad",
      "workflow_outputs": []
    },
    "35": {
      "annotation": "",
      "content_id": "__APPLY_RULES__",
      "errors": null,
      "id": 35,
      "input_connections": {
        "input": {
          "id": 34,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Create pairwise invocations",
      "name": "Apply Rule to Collection",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -2023.6667022705078,
        "height": 91.19999694824219,
        "left": -721.63330078125,
        "right": -571.63330078125,
        "top": -2114.86669921875,
        "width": 150,
        "x": -721.63330078125,
        "y": -2114.86669921875
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "Alignment file name to seq id"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "__APPLY_RULES__",
      "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"rules\": {\"mapping\": [{\"columns\": [1, 0], \"editing\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"error\": null, \"start\": 0, \"type\": \"add_column_rownum\", \"warn\": null}, {\"error\": null, \"start\": 1, \"type\": \"add_column_rownum\", \"warn\": null}, {\"error\": null, \"target_columns_0\": [1], \"target_columns_1\": [2], \"type\": \"split_columns\", \"warn\": null}, {\"count\": 1, \"error\": null, \"invert\": false, \"type\": \"add_filter_count\", \"warn\": null, \"which\": \"first\"}, {\"count\": 1, \"error\": null, \"invert\": false, \"type\": \"add_filter_count\", \"warn\": null, \"which\": \"last\"}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0.0",
      "type": "tool",
      "uuid": "d684336f-8077-48ea-95ba-3b8c16b3641b",
      "workflow_outputs": []
    },
    "36": {
      "annotation": "This had to be moved into a pre step due to https://github.com/galaxyproject/galaxy/issues/8587",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 36,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 34,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Pre-map file name to seq id",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": -2087.166748046875,
        "height": 106.5,
        "left": -469.16668701171875,
        "right": -319.16668701171875,
        "top": -2193.666748046875,
        "width": 150,
        "x": -469.16668701171875,
        "y": -2193.666748046875
      },
      "post_job_actions": {
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Fasta file name to seq id"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"tool_input == 0 && match($0, /^>([^ ]+)/, a) {\\n    file=FILENAME;\\n    sub(/.*\\\\//, \\\"\\\", file);\\n    print file, a[1];\\n    nextfile;\\n}\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "f60c5004-64a8-424e-9bcd-624be9713f1a",
      "workflow_outputs": []
    },
    "37": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/progressivemauve/2015_02_13.0",
      "errors": null,
      "id": 37,
      "input_connections": {
        "sequences": {
          "id": 35,
          "output_name": "output"
        }
      },
      "inputs": [
        {
          "description": "runtime parameter for tool progressiveMauve",
          "name": "apply_backbone"
        },
        {
          "description": "runtime parameter for tool progressiveMauve",
          "name": "input_guide_tree"
        },
        {
          "description": "runtime parameter for tool progressiveMauve",
          "name": "match_input"
        }
      ],
      "label": null,
      "name": "progressiveMauve",
      "outputs": [
        {
          "name": "output",
          "type": "xmfa"
        },
        {
          "name": "output_backbone_file",
          "type": "tabular"
        }
      ],
      "position": {
        "bottom": -1777.5499572753906,
        "height": 268.8999938964844,
        "left": -471.566650390625,
        "right": -321.566650390625,
        "top": -2046.449951171875,
        "width": 150,
        "x": -471.566650390625,
        "y": -2046.449951171875
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        },
        "HideDatasetActionoutput_backbone_file": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output_backbone_file"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/progressivemauve/progressivemauve/2015_02_13.0",
      "tool_shed_repository": {
        "changeset_revision": "bdb752f3c6bb",
        "name": "progressivemauve",
        "owner": "iuc",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"apply_backbone\": {\"__class__\": \"RuntimeValue\"}, \"bp_dist_estimate_min_score\": \"0\", \"coding_seeds\": \"false\", \"collinear\": \"false\", \"conservation_distance_scale\": \"0.5\", \"disable_backbone\": \"false\", \"gap_extend\": \"0\", \"gap_open\": \"0\", \"hmm_identity\": \"0.7\", \"hmm_p_go_homologous\": \"1e-05\", \"hmm_p_go_unrelated\": \"1e-09\", \"input_guide_tree\": {\"__class__\": \"RuntimeValue\"}, \"island_gap_size\": \"20\", \"match_input\": {\"__class__\": \"RuntimeValue\"}, \"max_breakpoint_distance_scale\": \"0.5\", \"max_gapped_aligner_length\": \"0\", \"min_scaled_penalty\": \"0\", \"mums\": \"false\", \"no_recursion\": \"false\", \"no_weight_scaling\": \"false\", \"output_backbone\": \"true\", \"output_guide_tree\": \"false\", \"repeat_penalty\": \"negative\", \"scoring_scheme\": \"sp\", \"seed_family\": \"false\", \"seed_weight\": \"0\", \"sequences\": {\"__class__\": \"ConnectedValue\"}, \"skip_gapped_alignment\": \"false\", \"skip_refinement\": \"false\", \"solid_seeds\": \"false\", \"weight\": \"0\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "2015_02_13.0",
      "type": "tool",
      "uuid": "4d163d02-3cb4-4847-b846-cdc9846e656a",
      "workflow_outputs": []
    },
    "38": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 38,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 36,
          "output_name": "outfile"
        },
        "infiles_1|input_type_selection|infile": {
          "id": 37,
          "output_name": "output"
        },
        "infiles_2|input_type_selection|infile": {
          "id": 37,
          "output_name": "output_backbone_file"
        }
      },
      "inputs": [],
      "label": "Backbone to GFF",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": -1967.1667022705078,
        "height": 187.6999969482422,
        "left": -91.56666564941406,
        "right": 58.43333435058594,
        "top": -2154.86669921875,
        "width": 150,
        "x": -91.56666564941406,
        "y": -2154.86669921875
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "HideDatasetActionoutfile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Backbone to GFF for #{infiles_0.input_type_selection.infile}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"# Convert progressiveMauves backbone output to GFF3 alignment records\\nfunction abs(v) { return v < 0 ? -v : v }\\nfunction int_to_strand(v) { return v < 0 ? \\\"-\\\" : \\\"+\\\" }\\n\\n# Read sequence names\\n# This had to be moved into a pre step due to https://github.com/galaxyproject/galaxy/issues/8587\\n#tool_input == 0 && match($0, /^>([^ ]+)/, a) {\\n#    file=FILENAME;\\n#    sub(/.*\\\\//, \\\"\\\", file);\\n#    datasets[file] = a[1];\\n#    nextfile\\n#}\\n# Once the linked issue is resolved the previous lines can be uncommented and the following line removed\\ntool_input == 0 { datasets[$1] = $2; }\\n\\n# Read sequence order from XFMA\\ntool_input==1 && match($1, /^#Sequence([0-9]+)File/, a) { ordinals[a[1]-1] = datasets[$2]; next}\\ntool_input==1 && /^#BackboneFile/ { nextfile }\\n\\n# Output alignment\\ntool_input==2 && FNR>1 {\\n    seq=0;\\n    for (i=1; i < NF; i+=2) {\\n        if ($i != \\\"0\\\" && (abs($(i+1) - $i) > ENVIRON[\\\"minimum_homologous_region\\\"])) {\\n            base_seq=seq;\\n            for (j=i+2; j < NF; j+=2) {\\n                ++seq;\\n                if ($j != \\\"0\\\" && (abs($(j+1) - $j) > ENVIRON[\\\"minimum_homologous_region\\\"])) {\\n                    print ordinals[base_seq], \\\"progressiveMauve\\\", \\\"match\\\", abs($i), abs($(i+1)), \\\".\\\", int_to_strand($i), \\\".\\\", \\\"Target=\\\" ordinals[seq] \\\" \\\" abs($j) \\\" \\\" abs($(j+1)) \\\" \\\" int_to_strand($j);\\n                }\\n            }\\n            break;\\n        }\\n        ++seq;\\n    }\\n    next\\n}\", \"envs\": [{\"__index__\": 0, \"name\": \"minimum_homologous_region\", \"val\": \"50\"}], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 2, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "ececa77d-406e-4c15-9e31-a4c9a2ac8d7b",
      "workflow_outputs": []
    },
    "39": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
      "errors": null,
      "id": 39,
      "input_connections": {
        "inputs": {
          "id": 38,
          "output_name": "outfile"
        }
      },
      "inputs": [],
      "label": "Concatentate pairwise alignments",
      "name": "Concatenate datasets",
      "outputs": [
        {
          "name": "out_file1",
          "type": "input"
        }
      ],
      "position": {
        "bottom": -1958.6667022705078,
        "height": 91.19999694824219,
        "left": 181.63333129882812,
        "right": 331.6333312988281,
        "top": -2049.86669921875,
        "width": 150,
        "x": 181.63333129882812,
        "y": -2049.86669921875
      },
      "post_job_actions": {
        "ChangeDatatypeActionout_file1": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "out_file1"
        },
        "HideDatasetActionout_file1": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "out_file1"
        },
        "RenameDatasetActionout_file1": {
          "action_arguments": {
            "newname": "Pairwise Alignments"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "out_file1"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0",
      "tool_shed_repository": {
        "changeset_revision": "a6f147a050a2",
        "name": "text_processing",
        "owner": "bgruening",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"inputs\": {\"__class__\": \"ConnectedValue\"}, \"queries\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "0.1.0",
      "type": "tool",
      "uuid": "f4fdb28d-1e0d-47db-8e4b-5f0ad4266ad4",
      "workflow_outputs": []
    },
    "40": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 40,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 32,
          "output_name": "Island clusters"
        },
        "infiles_1|input_type_selection|infile": {
          "id": 28,
          "output_name": "12:outfile"
        },
        "infiles_2|input_type_selection|infile": {
          "id": 27,
          "output_name": "output"
        },
        "infiles_3|input_type_selection|infile": {
          "id": 22,
          "output_name": "summary"
        },
        "infiles_4|input_type_selection|infile": {
          "id": 39,
          "output_name": "out_file1"
        }
      },
      "inputs": [],
      "label": "Generate final GFF",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": 549.4499816894531,
        "height": 268.8999938964844,
        "left": 1991.1666259765625,
        "right": 2141.1666259765625,
        "top": 280.54998779296875,
        "width": 150,
        "x": 1991.1666259765625,
        "y": 280.54998779296875
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Results"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"# Collects outputs from IslandCompare workflow and combines into GFF\\n# Why not Python? AWK is far more concise and the language is far more stable for this application.\\n\\n# See ./color.gawk for a writeup on this function\\nfunction generate_distinct_color(n){\\n    n -= 1; # Clusters are 1-indexed, shift to 0-index\\n    if (n > 0) {\\n        #calculate log2 n TODO implement using integer log2 as it is more efficient\\n        log2n=log(n)/log(2);\\n        floor=int(log2n);\\n        ceil=(log2n>floor?floor+1:floor);\\n        h=((n - 2^floor) * 2 + 1) / (2^ceil);\\n        h *= 0.9; # Shift color range to exclude circular h values\\n    } else {\\n        h=0;\\n    }\\n    s = 1;\\n    v = 1;\\n    # The following maps into a hsv color gradient\\n    # Taken from https://gist.github.com/mjackson/5311256\\n    i = int(h * 6);\\n    f = h * 6 - i;\\n    p = v * (1 - s);\\n    q = v * (1 - f * s);\\n    t = v * (1 - (1 - f) * s);\\n    switch (i % 6) {\\n        case 0: r = v; g = t; b = p; break;\\n        case 1: r = q; g = v; b = p; break;\\n        case 2: r = p; g = v; b = t; break;\\n        case 3: r = p; g = q; b = v; break;\\n        case 4: r = t; g = p; b = v; break;\\n        case 5: r = v; g = p; b = q; break;\\n    }\\n    return sprintf(\\\"#%02X%02X%02X\\\", r * 255, g * 255, b * 255)\\n}\\n\\n# Expected inputs\\n# 0: MCL Clustering matrix\\n# 1: Newick tree\\n# 2: Genomic islands + user annotations GFF\\n# 3: RGI annotation summary\\n# 4: Alignment GFF\\n\\nBEGIN {\\n    OFS=FS=\\\"\\\\t\\\";\\n    print \\\"##gff-version 3\\\";\\n}\\n\\n#Read clusters\\ntool_input==0 { for (i=1; i<=NF; i++) { clusters[$i] = FNR;} next}\\n\\n#Output newick and column header\\ntool_input==1 { \\n    print \\\"##newick: \\\"$0;\\n    print \\\"#Sequence ID\\\", \\\"Feature Source\\\", \\\"Feature Type\\\", \\\"Start\\\", \\\"End\\\", \\\"Score\\\", \\\"Strand\\\", \\\"Phase\\\", \\\"Attributes\\\";\\n    nextfile \\n}\\n\\n#Output user annotations\\ntool_input==2 && $3 != \\\"genomic_island\\\" && /^[^#]/ { print; }\\n\\n#Output islands with cluster and color\\ntool_input==2 && $3 == \\\"genomic_island\\\" {\\n    i=$1 \\\":\\\" $4 \\\"-\\\" $5;\\n    if (i in clusters) {\\n        if (length($9)>0 && substr($9, length($9)-1) != \\\";\\\") $9 = $9 \\\";\\\";\\n        cluster = clusters[i];\\n        $9 = $9 \\\"cluster=\\\" cluster \\\";color=\\\" generate_distinct_color(cluster);\\n    }\\n    print;\\n    next\\n}\\n\\n#Output RGI\\ntool_input==3 && FNR==1 { split( $0, tags ); next }\\ntool_input==3 { match($1, /ID=[^_]*([^;]+)/, a); print gensub(a[1]\\\" *$\\\", \\\"\\\", 1, $2),\\\"RGI-CARD\\\",\\\"gene\\\",$3,$4,$8,$5,\\\".\\\",\\\"Name=\\\"$9\\\";Alias=ARO:\\\"$11\\\";\\\"tags[6]\\\"=\\\"$6\\\";\\\"tags[7]\\\"=\\\"$7\\\";\\\"tags[9]\\\"=\\\"$9\\\";\\\"tags[10]\\\"=\\\"$10\\\";\\\"tags[12]\\\"=\\\"$12\\\";\\\"tags[13]\\\"=\\\"$13\\\";\\\"tags[14]\\\"=\\\"$14\\\";\\\"tags[16]\\\"=\\\"$16\\\";\\\"tags[17]\\\"=\\\"$17\\\";\\\"tags[15]\\\"=\\\"$15\\\";\\\"; next}\\n\\n#Output alignment\\ntool_input==4 { print; }\\n\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 1, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 2, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 3, \"input_type_selection\": {\"multiple\": \"true\", \"__current_case__\": 1, \"infile\": {\"__class__\": \"ConnectedValue\"}}}, {\"__index__\": 4, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "755d301c-9191-4fa7-9215-86125eb6a284",
      "workflow_outputs": [
        {
          "label": "Results",
          "output_name": "outfile",
          "uuid": "074f00ab-3821-40ca-a69a-28a77e088fce"
        }
      ]
    },
    "41": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "errors": null,
      "id": 41,
      "input_connections": {
        "infiles_0|input_type_selection|infile": {
          "id": 40,
          "output_name": "outfile"
        }
      },
      "inputs": [],
      "label": "Extract islands with children",
      "name": "AWK Script",
      "outputs": [
        {
          "name": "outfile",
          "type": "txt"
        }
      ],
      "position": {
        "bottom": 494.566650390625,
        "height": 106.5,
        "left": 2249.64990234375,
        "right": 2399.64990234375,
        "top": 388.066650390625,
        "width": 150,
        "x": 2249.64990234375,
        "y": 388.066650390625
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "gff3"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        },
        "RenameDatasetActionoutfile": {
          "action_arguments": {
            "newname": "Genomic Islands"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/brinkmanlab/awkscript/awkscript/1.0",
      "tool_shed_repository": {
        "changeset_revision": "7966a43dbc9e",
        "name": "awkscript",
        "owner": "brinkmanlab",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"code\": \"$3==\\\"genomic_island\\\" { print }\", \"envs\": [], \"infiles\": [{\"__index__\": 0, \"input_type_selection\": {\"multiple\": \"false\", \"__current_case__\": 0, \"infile\": {\"__class__\": \"ConnectedValue\"}}}], \"__page__\": null, \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.0",
      "type": "tool",
      "uuid": "78482ede-172b-4b3e-962a-e7c6f0c4e81b",
      "workflow_outputs": [
        {
          "label": "Genomic Islands",
          "output_name": "outfile",
          "uuid": "dde79f7f-be1a-48fa-aacd-7b23547559f3"
        }
      ]
    }
  },
  "tags": [
    "islandcompare"
  ],
  "uuid": "87ad90f1-f3d4-4e3d-9900-54d6dc30da87",
  "version": 1
}
